(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))g(p);new MutationObserver(p=>{for(const b of p)if(b.type==="childList")for(const j of b.addedNodes)j.tagName==="LINK"&&j.rel==="modulepreload"&&g(j)}).observe(document,{childList:!0,subtree:!0});function c(p){const b={};return p.integrity&&(b.integrity=p.integrity),p.referrerPolicy&&(b.referrerPolicy=p.referrerPolicy),p.crossOrigin==="use-credentials"?b.credentials="include":p.crossOrigin==="anonymous"?b.credentials="omit":b.credentials="same-origin",b}function g(p){if(p.ep)return;p.ep=!0;const b=c(p);fetch(p.href,b)}})();function lu(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Ni={exports:{}},dn={},ki={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ld;function ym(){if(Ld)return be;Ld=1;var i=Symbol.for("react.element"),d=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),j=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),C=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),T=Symbol.iterator;function F(w){return w===null||typeof w!="object"?null:(w=T&&w[T]||w["@@iterator"],typeof w=="function"?w:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,u={};function k(w,R,V){this.props=w,this.context=R,this.refs=u,this.updater=V||B}k.prototype.isReactComponent={},k.prototype.setState=function(w,R){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,R,"setState")},k.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function z(){}z.prototype=k.prototype;function $(w,R,V){this.props=w,this.context=R,this.refs=u,this.updater=V||B}var N=$.prototype=new z;N.constructor=$,D(N,k.prototype),N.isPureReactComponent=!0;var I=Array.isArray,J=Object.prototype.hasOwnProperty,H={current:null},Y={key:!0,ref:!0,__self:!0,__source:!0};function ne(w,R,V){var te,ae={},ie=null,ve=null;if(R!=null)for(te in R.ref!==void 0&&(ve=R.ref),R.key!==void 0&&(ie=""+R.key),R)J.call(R,te)&&!Y.hasOwnProperty(te)&&(ae[te]=R[te]);var je=arguments.length-2;if(je===1)ae.children=V;else if(1<je){for(var Ce=Array(je),Oe=0;Oe<je;Oe++)Ce[Oe]=arguments[Oe+2];ae.children=Ce}if(w&&w.defaultProps)for(te in je=w.defaultProps,je)ae[te]===void 0&&(ae[te]=je[te]);return{$$typeof:i,type:w,key:ie,ref:ve,props:ae,_owner:H.current}}function U(w,R){return{$$typeof:i,type:w.type,key:R,ref:w.ref,props:w.props,_owner:w._owner}}function de(w){return typeof w=="object"&&w!==null&&w.$$typeof===i}function pe(w){var R={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(V){return R[V]})}var ye=/\/+/g;function L(w,R){return typeof w=="object"&&w!==null&&w.key!=null?pe(""+w.key):R.toString(36)}function Q(w,R,V,te,ae){var ie=typeof w;(ie==="undefined"||ie==="boolean")&&(w=null);var ve=!1;if(w===null)ve=!0;else switch(ie){case"string":case"number":ve=!0;break;case"object":switch(w.$$typeof){case i:case d:ve=!0}}if(ve)return ve=w,ae=ae(ve),w=te===""?"."+L(ve,0):te,I(ae)?(V="",w!=null&&(V=w.replace(ye,"$&/")+"/"),Q(ae,R,V,"",function(Oe){return Oe})):ae!=null&&(de(ae)&&(ae=U(ae,V+(!ae.key||ve&&ve.key===ae.key?"":(""+ae.key).replace(ye,"$&/")+"/")+w)),R.push(ae)),1;if(ve=0,te=te===""?".":te+":",I(w))for(var je=0;je<w.length;je++){ie=w[je];var Ce=te+L(ie,je);ve+=Q(ie,R,V,Ce,ae)}else if(Ce=F(w),typeof Ce=="function")for(w=Ce.call(w),je=0;!(ie=w.next()).done;)ie=ie.value,Ce=te+L(ie,je++),ve+=Q(ie,R,V,Ce,ae);else if(ie==="object")throw R=String(w),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.");return ve}function X(w,R,V){if(w==null)return w;var te=[],ae=0;return Q(w,te,"","",function(ie){return R.call(V,ie,ae++)}),te}function P(w){if(w._status===-1){var R=w._result;R=R(),R.then(function(V){(w._status===0||w._status===-1)&&(w._status=1,w._result=V)},function(V){(w._status===0||w._status===-1)&&(w._status=2,w._result=V)}),w._status===-1&&(w._status=0,w._result=R)}if(w._status===1)return w._result.default;throw w._result}var ee={current:null},_={transition:null},re={ReactCurrentDispatcher:ee,ReactCurrentBatchConfig:_,ReactCurrentOwner:H};function K(){throw Error("act(...) is not supported in production builds of React.")}return be.Children={map:X,forEach:function(w,R,V){X(w,function(){R.apply(this,arguments)},V)},count:function(w){var R=0;return X(w,function(){R++}),R},toArray:function(w){return X(w,function(R){return R})||[]},only:function(w){if(!de(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},be.Component=k,be.Fragment=c,be.Profiler=p,be.PureComponent=$,be.StrictMode=g,be.Suspense=v,be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=re,be.act=K,be.cloneElement=function(w,R,V){if(w==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+w+".");var te=D({},w.props),ae=w.key,ie=w.ref,ve=w._owner;if(R!=null){if(R.ref!==void 0&&(ie=R.ref,ve=H.current),R.key!==void 0&&(ae=""+R.key),w.type&&w.type.defaultProps)var je=w.type.defaultProps;for(Ce in R)J.call(R,Ce)&&!Y.hasOwnProperty(Ce)&&(te[Ce]=R[Ce]===void 0&&je!==void 0?je[Ce]:R[Ce])}var Ce=arguments.length-2;if(Ce===1)te.children=V;else if(1<Ce){je=Array(Ce);for(var Oe=0;Oe<Ce;Oe++)je[Oe]=arguments[Oe+2];te.children=je}return{$$typeof:i,type:w.type,key:ae,ref:ie,props:te,_owner:ve}},be.createContext=function(w){return w={$$typeof:j,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},w.Provider={$$typeof:b,_context:w},w.Consumer=w},be.createElement=ne,be.createFactory=function(w){var R=ne.bind(null,w);return R.type=w,R},be.createRef=function(){return{current:null}},be.forwardRef=function(w){return{$$typeof:S,render:w}},be.isValidElement=de,be.lazy=function(w){return{$$typeof:m,_payload:{_status:-1,_result:w},_init:P}},be.memo=function(w,R){return{$$typeof:C,type:w,compare:R===void 0?null:R}},be.startTransition=function(w){var R=_.transition;_.transition={};try{w()}finally{_.transition=R}},be.unstable_act=K,be.useCallback=function(w,R){return ee.current.useCallback(w,R)},be.useContext=function(w){return ee.current.useContext(w)},be.useDebugValue=function(){},be.useDeferredValue=function(w){return ee.current.useDeferredValue(w)},be.useEffect=function(w,R){return ee.current.useEffect(w,R)},be.useId=function(){return ee.current.useId()},be.useImperativeHandle=function(w,R,V){return ee.current.useImperativeHandle(w,R,V)},be.useInsertionEffect=function(w,R){return ee.current.useInsertionEffect(w,R)},be.useLayoutEffect=function(w,R){return ee.current.useLayoutEffect(w,R)},be.useMemo=function(w,R){return ee.current.useMemo(w,R)},be.useReducer=function(w,R,V){return ee.current.useReducer(w,R,V)},be.useRef=function(w){return ee.current.useRef(w)},be.useState=function(w){return ee.current.useState(w)},be.useSyncExternalStore=function(w,R,V){return ee.current.useSyncExternalStore(w,R,V)},be.useTransition=function(){return ee.current.useTransition()},be.version="18.3.1",be}var _d;function Vi(){return _d||(_d=1,ki.exports=ym()),ki.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $d;function bm(){if($d)return dn;$d=1;var i=Vi(),d=Symbol.for("react.element"),c=Symbol.for("react.fragment"),g=Object.prototype.hasOwnProperty,p=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,b={key:!0,ref:!0,__self:!0,__source:!0};function j(S,v,C){var m,T={},F=null,B=null;C!==void 0&&(F=""+C),v.key!==void 0&&(F=""+v.key),v.ref!==void 0&&(B=v.ref);for(m in v)g.call(v,m)&&!b.hasOwnProperty(m)&&(T[m]=v[m]);if(S&&S.defaultProps)for(m in v=S.defaultProps,v)T[m]===void 0&&(T[m]=v[m]);return{$$typeof:d,type:S,key:F,ref:B,props:T,_owner:p.current}}return dn.Fragment=c,dn.jsx=j,dn.jsxs=j,dn}var Rd;function wm(){return Rd||(Rd=1,Ni.exports=bm()),Ni.exports}var t=wm(),h=Vi();const jm=lu(h);var Sa={},Si={exports:{}},xt={},Ci={exports:{}},Ai={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ud;function Nm(){return Ud||(Ud=1,(function(i){function d(_,re){var K=_.length;_.push(re);e:for(;0<K;){var w=K-1>>>1,R=_[w];if(0<p(R,re))_[w]=re,_[K]=R,K=w;else break e}}function c(_){return _.length===0?null:_[0]}function g(_){if(_.length===0)return null;var re=_[0],K=_.pop();if(K!==re){_[0]=K;e:for(var w=0,R=_.length,V=R>>>1;w<V;){var te=2*(w+1)-1,ae=_[te],ie=te+1,ve=_[ie];if(0>p(ae,K))ie<R&&0>p(ve,ae)?(_[w]=ve,_[ie]=K,w=ie):(_[w]=ae,_[te]=K,w=te);else if(ie<R&&0>p(ve,K))_[w]=ve,_[ie]=K,w=ie;else break e}}return re}function p(_,re){var K=_.sortIndex-re.sortIndex;return K!==0?K:_.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var b=performance;i.unstable_now=function(){return b.now()}}else{var j=Date,S=j.now();i.unstable_now=function(){return j.now()-S}}var v=[],C=[],m=1,T=null,F=3,B=!1,D=!1,u=!1,k=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(_){for(var re=c(C);re!==null;){if(re.callback===null)g(C);else if(re.startTime<=_)g(C),re.sortIndex=re.expirationTime,d(v,re);else break;re=c(C)}}function I(_){if(u=!1,N(_),!D)if(c(v)!==null)D=!0,P(J);else{var re=c(C);re!==null&&ee(I,re.startTime-_)}}function J(_,re){D=!1,u&&(u=!1,z(ne),ne=-1),B=!0;var K=F;try{for(N(re),T=c(v);T!==null&&(!(T.expirationTime>re)||_&&!pe());){var w=T.callback;if(typeof w=="function"){T.callback=null,F=T.priorityLevel;var R=w(T.expirationTime<=re);re=i.unstable_now(),typeof R=="function"?T.callback=R:T===c(v)&&g(v),N(re)}else g(v);T=c(v)}if(T!==null)var V=!0;else{var te=c(C);te!==null&&ee(I,te.startTime-re),V=!1}return V}finally{T=null,F=K,B=!1}}var H=!1,Y=null,ne=-1,U=5,de=-1;function pe(){return!(i.unstable_now()-de<U)}function ye(){if(Y!==null){var _=i.unstable_now();de=_;var re=!0;try{re=Y(!0,_)}finally{re?L():(H=!1,Y=null)}}else H=!1}var L;if(typeof $=="function")L=function(){$(ye)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,X=Q.port2;Q.port1.onmessage=ye,L=function(){X.postMessage(null)}}else L=function(){k(ye,0)};function P(_){Y=_,H||(H=!0,L())}function ee(_,re){ne=k(function(){_(i.unstable_now())},re)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(_){_.callback=null},i.unstable_continueExecution=function(){D||B||(D=!0,P(J))},i.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<_?Math.floor(1e3/_):5},i.unstable_getCurrentPriorityLevel=function(){return F},i.unstable_getFirstCallbackNode=function(){return c(v)},i.unstable_next=function(_){switch(F){case 1:case 2:case 3:var re=3;break;default:re=F}var K=F;F=re;try{return _()}finally{F=K}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(_,re){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var K=F;F=_;try{return re()}finally{F=K}},i.unstable_scheduleCallback=function(_,re,K){var w=i.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?w+K:w):K=w,_){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=K+R,_={id:m++,callback:re,priorityLevel:_,startTime:K,expirationTime:R,sortIndex:-1},K>w?(_.sortIndex=K,d(C,_),c(v)===null&&_===c(C)&&(u?(z(ne),ne=-1):u=!0,ee(I,K-w))):(_.sortIndex=R,d(v,_),D||B||(D=!0,P(J))),_},i.unstable_shouldYield=pe,i.unstable_wrapCallback=function(_){var re=F;return function(){var K=F;F=re;try{return _.apply(this,arguments)}finally{F=K}}}})(Ai)),Ai}var Id;function km(){return Id||(Id=1,Ci.exports=Nm()),Ci.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Od;function Sm(){if(Od)return xt;Od=1;var i=Vi(),d=km();function c(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var g=new Set,p={};function b(e,r){j(e,r),j(e+"Capture",r)}function j(e,r){for(p[e]=r,e=0;e<r.length;e++)g.add(r[e])}var S=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),v=Object.prototype.hasOwnProperty,C=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},T={};function F(e){return v.call(T,e)?!0:v.call(m,e)?!1:C.test(e)?T[e]=!0:(m[e]=!0,!1)}function B(e,r,s,n){if(s!==null&&s.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return n?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function D(e,r,s,n){if(r===null||typeof r>"u"||B(e,r,s,n))return!0;if(n)return!1;if(s!==null)switch(s.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function u(e,r,s,n,a,l,o){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=s,this.propertyName=e,this.type=r,this.sanitizeURL=l,this.removeEmptyString=o}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){k[e]=new u(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var r=e[0];k[r]=new u(r,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){k[e]=new u(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){k[e]=new u(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){k[e]=new u(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){k[e]=new u(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){k[e]=new u(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){k[e]=new u(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){k[e]=new u(e,5,!1,e.toLowerCase(),null,!1,!1)});var z=/[\-:]([a-z])/g;function $(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var r=e.replace(z,$);k[r]=new u(r,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var r=e.replace(z,$);k[r]=new u(r,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var r=e.replace(z,$);k[r]=new u(r,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){k[e]=new u(e,1,!1,e.toLowerCase(),null,!1,!1)}),k.xlinkHref=new u("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){k[e]=new u(e,1,!1,e.toLowerCase(),null,!0,!0)});function N(e,r,s,n){var a=k.hasOwnProperty(r)?k[r]:null;(a!==null?a.type!==0:n||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(D(r,s,a,n)&&(s=null),n||a===null?F(r)&&(s===null?e.removeAttribute(r):e.setAttribute(r,""+s)):a.mustUseProperty?e[a.propertyName]=s===null?a.type===3?!1:"":s:(r=a.attributeName,n=a.attributeNamespace,s===null?e.removeAttribute(r):(a=a.type,s=a===3||a===4&&s===!0?"":""+s,n?e.setAttributeNS(n,r,s):e.setAttribute(r,s))))}var I=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,J=Symbol.for("react.element"),H=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),ne=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),de=Symbol.for("react.provider"),pe=Symbol.for("react.context"),ye=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),_=Symbol.iterator;function re(e){return e===null||typeof e!="object"?null:(e=_&&e[_]||e["@@iterator"],typeof e=="function"?e:null)}var K=Object.assign,w;function R(e){if(w===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);w=r&&r[1]||""}return`
`+w+e}var V=!1;function te(e,r){if(!e||V)return"";V=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(M){var n=M}Reflect.construct(e,[],r)}else{try{r.call()}catch(M){n=M}e.call(r.prototype)}else{try{throw Error()}catch(M){n=M}e()}}catch(M){if(M&&n&&typeof M.stack=="string"){for(var a=M.stack.split(`
`),l=n.stack.split(`
`),o=a.length-1,x=l.length-1;1<=o&&0<=x&&a[o]!==l[x];)x--;for(;1<=o&&0<=x;o--,x--)if(a[o]!==l[x]){if(o!==1||x!==1)do if(o--,x--,0>x||a[o]!==l[x]){var f=`
`+a[o].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=o&&0<=x);break}}}finally{V=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?R(e):""}function ae(e){switch(e.tag){case 5:return R(e.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 2:case 15:return e=te(e.type,!1),e;case 11:return e=te(e.type.render,!1),e;case 1:return e=te(e.type,!0),e;default:return""}}function ie(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Y:return"Fragment";case H:return"Portal";case U:return"Profiler";case ne:return"StrictMode";case L:return"Suspense";case Q:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case pe:return(e.displayName||"Context")+".Consumer";case de:return(e._context.displayName||"Context")+".Provider";case ye:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case X:return r=e.displayName||null,r!==null?r:ie(e.type)||"Memo";case P:r=e._payload,e=e._init;try{return ie(e(r))}catch{}}return null}function ve(e){var r=e.type;switch(e.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=r.render,e=e.displayName||e.name||"",r.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ie(r);case 8:return r===ne?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function je(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ce(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Oe(e){var r=Ce(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),n=""+e[r];if(!e.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var a=s.get,l=s.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,l.call(this,o)}}),Object.defineProperty(e,r,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function wt(e){e._valueTracker||(e._valueTracker=Oe(e))}function Nr(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var s=r.getValue(),n="";return e&&(n=Ce(e)?e.checked?"true":"false":e.value),e=n,e!==s?(r.setValue(e),!0):!1}function Ut(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function he(e,r){var s=r.checked;return K({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Re(e,r){var s=r.defaultValue==null?"":r.defaultValue,n=r.checked!=null?r.checked:r.defaultChecked;s=je(r.value!=null?r.value:s),e._wrapperState={initialChecked:n,initialValue:s,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Ye(e,r){r=r.checked,r!=null&&N(e,"checked",r,!1)}function rt(e,r){Ye(e,r);var s=je(r.value),n=r.type;if(s!=null)n==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}r.hasOwnProperty("value")?Mt(e,r.type,s):r.hasOwnProperty("defaultValue")&&Mt(e,r.type,je(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(e.defaultChecked=!!r.defaultChecked)}function Te(e,r,s){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var n=r.type;if(!(n!=="submit"&&n!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+e._wrapperState.initialValue,s||r===e.value||(e.value=r),e.defaultValue=r}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Mt(e,r,s){(r!=="number"||Ut(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Je=Array.isArray;function tr(e,r,s,n){if(e=e.options,r){r={};for(var a=0;a<s.length;a++)r["$"+s[a]]=!0;for(s=0;s<e.length;s++)a=r.hasOwnProperty("$"+e[s].value),e[s].selected!==a&&(e[s].selected=a),a&&n&&(e[s].defaultSelected=!0)}else{for(s=""+je(s),r=null,a=0;a<e.length;a++){if(e[a].value===s){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}r!==null||e[a].disabled||(r=e[a])}r!==null&&(r.selected=!0)}}function Ss(e,r){if(r.dangerouslySetInnerHTML!=null)throw Error(c(91));return K({},r,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Qr(e,r){var s=r.value;if(s==null){if(s=r.children,r=r.defaultValue,s!=null){if(r!=null)throw Error(c(92));if(Je(s)){if(1<s.length)throw Error(c(93));s=s[0]}r=s}r==null&&(r=""),s=r}e._wrapperState={initialValue:je(s)}}function xn(e,r){var s=je(r.value),n=je(r.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),r.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),n!=null&&(e.defaultValue=""+n)}function pn(e){var r=e.textContent;r===e._wrapperState.initialValue&&r!==""&&r!==null&&(e.value=r)}function fn(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Cs(e,r){return e==null||e==="http://www.w3.org/1999/xhtml"?fn(r):e==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Gr,gn=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,s,n,a){MSApp.execUnsafeLocalFunction(function(){return e(r,s,n,a)})}:e})(function(e,r){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=r;else{for(Gr=Gr||document.createElement("div"),Gr.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Gr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;r.firstChild;)e.appendChild(r.firstChild)}});function kr(e,r){if(r){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=r;return}}e.textContent=r}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ne=["Webkit","ms","Moz","O"];Object.keys(fe).forEach(function(e){Ne.forEach(function(r){r=r+e.charAt(0).toUpperCase()+e.substring(1),fe[r]=fe[e]})});function Ae(e,r,s){return r==null||typeof r=="boolean"||r===""?"":s||typeof r!="number"||r===0||fe.hasOwnProperty(e)&&fe[e]?(""+r).trim():r+"px"}function Xe(e,r){e=e.style;for(var s in r)if(r.hasOwnProperty(s)){var n=s.indexOf("--")===0,a=Ae(s,r[s],n);s==="float"&&(s="cssFloat"),n?e.setProperty(s,a):e[s]=a}}var we=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function We(e,r){if(r){if(we[e]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(c(137,e));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(c(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(c(61))}if(r.style!=null&&typeof r.style!="object")throw Error(c(62))}}function Sr(e,r){if(e.indexOf("-")===-1)return typeof r.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jr=null;function qr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Kr=null,Zr=null,Yr=null;function Yi(e){if(e=Js(e)){if(typeof Kr!="function")throw Error(c(280));var r=e.stateNode;r&&(r=Un(r),Kr(e.stateNode,e.type,r))}}function Xi(e){Zr?Yr?Yr.push(e):Yr=[e]:Zr=e}function eo(){if(Zr){var e=Zr,r=Yr;if(Yr=Zr=null,Yi(e),r)for(e=0;e<r.length;e++)Yi(r[e])}}function to(e,r){return e(r)}function ro(){}var Ua=!1;function so(e,r,s){if(Ua)return e(r,s);Ua=!0;try{return to(e,r,s)}finally{Ua=!1,(Zr!==null||Yr!==null)&&(ro(),eo())}}function As(e,r){var s=e.stateNode;if(s===null)return null;var n=Un(s);if(n===null)return null;s=n[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(c(231,r,typeof s));return s}var Ia=!1;if(S)try{var Ts={};Object.defineProperty(Ts,"passive",{get:function(){Ia=!0}}),window.addEventListener("test",Ts,Ts),window.removeEventListener("test",Ts,Ts)}catch{Ia=!1}function Su(e,r,s,n,a,l,o,x,f){var M=Array.prototype.slice.call(arguments,3);try{r.apply(s,M)}catch(W){this.onError(W)}}var Es=!1,vn=null,yn=!1,Oa=null,Cu={onError:function(e){Es=!0,vn=e}};function Au(e,r,s,n,a,l,o,x,f){Es=!1,vn=null,Su.apply(Cu,arguments)}function Tu(e,r,s,n,a,l,o,x,f){if(Au.apply(this,arguments),Es){if(Es){var M=vn;Es=!1,vn=null}else throw Error(c(198));yn||(yn=!0,Oa=M)}}function Cr(e){var r=e,s=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(s=r.return),e=r.return;while(e)}return r.tag===3?s:null}function no(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function ao(e){if(Cr(e)!==e)throw Error(c(188))}function Eu(e){var r=e.alternate;if(!r){if(r=Cr(e),r===null)throw Error(c(188));return r!==e?null:e}for(var s=e,n=r;;){var a=s.return;if(a===null)break;var l=a.alternate;if(l===null){if(n=a.return,n!==null){s=n;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===s)return ao(a),e;if(l===n)return ao(a),r;l=l.sibling}throw Error(c(188))}if(s.return!==n.return)s=a,n=l;else{for(var o=!1,x=a.child;x;){if(x===s){o=!0,s=a,n=l;break}if(x===n){o=!0,n=a,s=l;break}x=x.sibling}if(!o){for(x=l.child;x;){if(x===s){o=!0,s=l,n=a;break}if(x===n){o=!0,n=l,s=a;break}x=x.sibling}if(!o)throw Error(c(189))}}if(s.alternate!==n)throw Error(c(190))}if(s.tag!==3)throw Error(c(188));return s.stateNode.current===s?e:r}function lo(e){return e=Eu(e),e!==null?io(e):null}function io(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var r=io(e);if(r!==null)return r;e=e.sibling}return null}var oo=d.unstable_scheduleCallback,co=d.unstable_cancelCallback,Du=d.unstable_shouldYield,Mu=d.unstable_requestPaint,Ue=d.unstable_now,Fu=d.unstable_getCurrentPriorityLevel,Ha=d.unstable_ImmediatePriority,uo=d.unstable_UserBlockingPriority,bn=d.unstable_NormalPriority,Pu=d.unstable_LowPriority,ho=d.unstable_IdlePriority,wn=null,It=null;function zu(e){if(It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(wn,e,void 0,(e.current.flags&128)===128)}catch{}}var Ft=Math.clz32?Math.clz32:_u,Bu=Math.log,Lu=Math.LN2;function _u(e){return e>>>=0,e===0?32:31-(Bu(e)/Lu|0)|0}var jn=64,Nn=4194304;function Ds(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function kn(e,r){var s=e.pendingLanes;if(s===0)return 0;var n=0,a=e.suspendedLanes,l=e.pingedLanes,o=s&268435455;if(o!==0){var x=o&~a;x!==0?n=Ds(x):(l&=o,l!==0&&(n=Ds(l)))}else o=s&~a,o!==0?n=Ds(o):l!==0&&(n=Ds(l));if(n===0)return 0;if(r!==0&&r!==n&&(r&a)===0&&(a=n&-n,l=r&-r,a>=l||a===16&&(l&4194240)!==0))return r;if((n&4)!==0&&(n|=s&16),r=e.entangledLanes,r!==0)for(e=e.entanglements,r&=n;0<r;)s=31-Ft(r),a=1<<s,n|=e[s],r&=~a;return n}function $u(e,r){switch(e){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ru(e,r){for(var s=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,l=e.pendingLanes;0<l;){var o=31-Ft(l),x=1<<o,f=a[o];f===-1?((x&s)===0||(x&n)!==0)&&(a[o]=$u(x,r)):f<=r&&(e.expiredLanes|=x),l&=~x}}function Va(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function mo(){var e=jn;return jn<<=1,(jn&4194240)===0&&(jn=64),e}function Wa(e){for(var r=[],s=0;31>s;s++)r.push(e);return r}function Ms(e,r,s){e.pendingLanes|=r,r!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,r=31-Ft(r),e[r]=s}function Uu(e,r){var s=e.pendingLanes&~r;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=r,e.mutableReadLanes&=r,e.entangledLanes&=r,r=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<s;){var a=31-Ft(s),l=1<<a;r[a]=0,n[a]=-1,e[a]=-1,s&=~l}}function Qa(e,r){var s=e.entangledLanes|=r;for(e=e.entanglements;s;){var n=31-Ft(s),a=1<<n;a&r|e[n]&r&&(e[n]|=r),s&=~a}}var Ee=0;function xo(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var po,Ga,fo,go,vo,Ja=!1,Sn=[],rr=null,sr=null,nr=null,Fs=new Map,Ps=new Map,ar=[],Iu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yo(e,r){switch(e){case"focusin":case"focusout":rr=null;break;case"dragenter":case"dragleave":sr=null;break;case"mouseover":case"mouseout":nr=null;break;case"pointerover":case"pointerout":Fs.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ps.delete(r.pointerId)}}function zs(e,r,s,n,a,l){return e===null||e.nativeEvent!==l?(e={blockedOn:r,domEventName:s,eventSystemFlags:n,nativeEvent:l,targetContainers:[a]},r!==null&&(r=Js(r),r!==null&&Ga(r)),e):(e.eventSystemFlags|=n,r=e.targetContainers,a!==null&&r.indexOf(a)===-1&&r.push(a),e)}function Ou(e,r,s,n,a){switch(r){case"focusin":return rr=zs(rr,e,r,s,n,a),!0;case"dragenter":return sr=zs(sr,e,r,s,n,a),!0;case"mouseover":return nr=zs(nr,e,r,s,n,a),!0;case"pointerover":var l=a.pointerId;return Fs.set(l,zs(Fs.get(l)||null,e,r,s,n,a)),!0;case"gotpointercapture":return l=a.pointerId,Ps.set(l,zs(Ps.get(l)||null,e,r,s,n,a)),!0}return!1}function bo(e){var r=Ar(e.target);if(r!==null){var s=Cr(r);if(s!==null){if(r=s.tag,r===13){if(r=no(s),r!==null){e.blockedOn=r,vo(e.priority,function(){fo(s)});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Cn(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var s=Ka(e.domEventName,e.eventSystemFlags,r[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var n=new s.constructor(s.type,s);Jr=n,s.target.dispatchEvent(n),Jr=null}else return r=Js(s),r!==null&&Ga(r),e.blockedOn=s,!1;r.shift()}return!0}function wo(e,r,s){Cn(e)&&s.delete(r)}function Hu(){Ja=!1,rr!==null&&Cn(rr)&&(rr=null),sr!==null&&Cn(sr)&&(sr=null),nr!==null&&Cn(nr)&&(nr=null),Fs.forEach(wo),Ps.forEach(wo)}function Bs(e,r){e.blockedOn===r&&(e.blockedOn=null,Ja||(Ja=!0,d.unstable_scheduleCallback(d.unstable_NormalPriority,Hu)))}function Ls(e){function r(a){return Bs(a,e)}if(0<Sn.length){Bs(Sn[0],e);for(var s=1;s<Sn.length;s++){var n=Sn[s];n.blockedOn===e&&(n.blockedOn=null)}}for(rr!==null&&Bs(rr,e),sr!==null&&Bs(sr,e),nr!==null&&Bs(nr,e),Fs.forEach(r),Ps.forEach(r),s=0;s<ar.length;s++)n=ar[s],n.blockedOn===e&&(n.blockedOn=null);for(;0<ar.length&&(s=ar[0],s.blockedOn===null);)bo(s),s.blockedOn===null&&ar.shift()}var Xr=I.ReactCurrentBatchConfig,An=!0;function Vu(e,r,s,n){var a=Ee,l=Xr.transition;Xr.transition=null;try{Ee=1,qa(e,r,s,n)}finally{Ee=a,Xr.transition=l}}function Wu(e,r,s,n){var a=Ee,l=Xr.transition;Xr.transition=null;try{Ee=4,qa(e,r,s,n)}finally{Ee=a,Xr.transition=l}}function qa(e,r,s,n){if(An){var a=Ka(e,r,s,n);if(a===null)ml(e,r,n,Tn,s),yo(e,n);else if(Ou(a,e,r,s,n))n.stopPropagation();else if(yo(e,n),r&4&&-1<Iu.indexOf(e)){for(;a!==null;){var l=Js(a);if(l!==null&&po(l),l=Ka(e,r,s,n),l===null&&ml(e,r,n,Tn,s),l===a)break;a=l}a!==null&&n.stopPropagation()}else ml(e,r,n,null,s)}}var Tn=null;function Ka(e,r,s,n){if(Tn=null,e=qr(n),e=Ar(e),e!==null)if(r=Cr(e),r===null)e=null;else if(s=r.tag,s===13){if(e=no(r),e!==null)return e;e=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null);return Tn=e,null}function jo(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fu()){case Ha:return 1;case uo:return 4;case bn:case Pu:return 16;case ho:return 536870912;default:return 16}default:return 16}}var lr=null,Za=null,En=null;function No(){if(En)return En;var e,r=Za,s=r.length,n,a="value"in lr?lr.value:lr.textContent,l=a.length;for(e=0;e<s&&r[e]===a[e];e++);var o=s-e;for(n=1;n<=o&&r[s-n]===a[l-n];n++);return En=a.slice(e,1<n?1-n:void 0)}function Dn(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function Mn(){return!0}function ko(){return!1}function ft(e){function r(s,n,a,l,o){this._reactName=s,this._targetInst=a,this.type=n,this.nativeEvent=l,this.target=o,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(s=e[x],this[x]=s?s(l):l[x]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Mn:ko,this.isPropagationStopped=ko,this}return K(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Mn)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Mn)},persist:function(){},isPersistent:Mn}),r}var es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ya=ft(es),_s=K({},es,{view:0,detail:0}),Qu=ft(_s),Xa,el,$s,Fn=K({},_s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$s&&($s&&e.type==="mousemove"?(Xa=e.screenX-$s.screenX,el=e.screenY-$s.screenY):el=Xa=0,$s=e),Xa)},movementY:function(e){return"movementY"in e?e.movementY:el}}),So=ft(Fn),Gu=K({},Fn,{dataTransfer:0}),Ju=ft(Gu),qu=K({},_s,{relatedTarget:0}),tl=ft(qu),Ku=K({},es,{animationName:0,elapsedTime:0,pseudoElement:0}),Zu=ft(Ku),Yu=K({},es,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xu=ft(Yu),eh=K({},es,{data:0}),Co=ft(eh),th={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nh(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=sh[e])?!!r[e]:!1}function rl(){return nh}var ah=K({},_s,{key:function(e){if(e.key){var r=th[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=Dn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rl,charCode:function(e){return e.type==="keypress"?Dn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Dn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),lh=ft(ah),ih=K({},Fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ao=ft(ih),oh=K({},_s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rl}),ch=ft(oh),dh=K({},es,{propertyName:0,elapsedTime:0,pseudoElement:0}),uh=ft(dh),hh=K({},Fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),mh=ft(hh),xh=[9,13,27,32],sl=S&&"CompositionEvent"in window,Rs=null;S&&"documentMode"in document&&(Rs=document.documentMode);var ph=S&&"TextEvent"in window&&!Rs,To=S&&(!sl||Rs&&8<Rs&&11>=Rs),Eo=" ",Do=!1;function Mo(e,r){switch(e){case"keyup":return xh.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fo(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ts=!1;function fh(e,r){switch(e){case"compositionend":return Fo(r);case"keypress":return r.which!==32?null:(Do=!0,Eo);case"textInput":return e=r.data,e===Eo&&Do?null:e;default:return null}}function gh(e,r){if(ts)return e==="compositionend"||!sl&&Mo(e,r)?(e=No(),En=Za=lr=null,ts=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return To&&r.locale!=="ko"?null:r.data;default:return null}}var vh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Po(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!vh[e.type]:r==="textarea"}function zo(e,r,s,n){Xi(n),r=_n(r,"onChange"),0<r.length&&(s=new Ya("onChange","change",null,s,n),e.push({event:s,listeners:r}))}var Us=null,Is=null;function yh(e){Yo(e,0)}function Pn(e){var r=ls(e);if(Nr(r))return e}function bh(e,r){if(e==="change")return r}var Bo=!1;if(S){var nl;if(S){var al="oninput"in document;if(!al){var Lo=document.createElement("div");Lo.setAttribute("oninput","return;"),al=typeof Lo.oninput=="function"}nl=al}else nl=!1;Bo=nl&&(!document.documentMode||9<document.documentMode)}function _o(){Us&&(Us.detachEvent("onpropertychange",$o),Is=Us=null)}function $o(e){if(e.propertyName==="value"&&Pn(Is)){var r=[];zo(r,Is,e,qr(e)),so(yh,r)}}function wh(e,r,s){e==="focusin"?(_o(),Us=r,Is=s,Us.attachEvent("onpropertychange",$o)):e==="focusout"&&_o()}function jh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pn(Is)}function Nh(e,r){if(e==="click")return Pn(r)}function kh(e,r){if(e==="input"||e==="change")return Pn(r)}function Sh(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Pt=typeof Object.is=="function"?Object.is:Sh;function Os(e,r){if(Pt(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var s=Object.keys(e),n=Object.keys(r);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var a=s[n];if(!v.call(r,a)||!Pt(e[a],r[a]))return!1}return!0}function Ro(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Uo(e,r){var s=Ro(e);e=0;for(var n;s;){if(s.nodeType===3){if(n=e+s.textContent.length,e<=r&&n>=r)return{node:s,offset:r-e};e=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Ro(s)}}function Io(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?Io(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function Oo(){for(var e=window,r=Ut();r instanceof e.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)e=r.contentWindow;else break;r=Ut(e.document)}return r}function ll(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}function Ch(e){var r=Oo(),s=e.focusedElem,n=e.selectionRange;if(r!==s&&s&&s.ownerDocument&&Io(s.ownerDocument.documentElement,s)){if(n!==null&&ll(s)){if(r=n.start,e=n.end,e===void 0&&(e=r),"selectionStart"in s)s.selectionStart=r,s.selectionEnd=Math.min(e,s.value.length);else if(e=(r=s.ownerDocument||document)&&r.defaultView||window,e.getSelection){e=e.getSelection();var a=s.textContent.length,l=Math.min(n.start,a);n=n.end===void 0?l:Math.min(n.end,a),!e.extend&&l>n&&(a=n,n=l,l=a),a=Uo(s,l);var o=Uo(s,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(r=r.createRange(),r.setStart(a.node,a.offset),e.removeAllRanges(),l>n?(e.addRange(r),e.extend(o.node,o.offset)):(r.setEnd(o.node,o.offset),e.addRange(r)))}}for(r=[],e=s;e=e.parentNode;)e.nodeType===1&&r.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<r.length;s++)e=r[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ah=S&&"documentMode"in document&&11>=document.documentMode,rs=null,il=null,Hs=null,ol=!1;function Ho(e,r,s){var n=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ol||rs==null||rs!==Ut(n)||(n=rs,"selectionStart"in n&&ll(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Hs&&Os(Hs,n)||(Hs=n,n=_n(il,"onSelect"),0<n.length&&(r=new Ya("onSelect","select",null,r,s),e.push({event:r,listeners:n}),r.target=rs)))}function zn(e,r){var s={};return s[e.toLowerCase()]=r.toLowerCase(),s["Webkit"+e]="webkit"+r,s["Moz"+e]="moz"+r,s}var ss={animationend:zn("Animation","AnimationEnd"),animationiteration:zn("Animation","AnimationIteration"),animationstart:zn("Animation","AnimationStart"),transitionend:zn("Transition","TransitionEnd")},cl={},Vo={};S&&(Vo=document.createElement("div").style,"AnimationEvent"in window||(delete ss.animationend.animation,delete ss.animationiteration.animation,delete ss.animationstart.animation),"TransitionEvent"in window||delete ss.transitionend.transition);function Bn(e){if(cl[e])return cl[e];if(!ss[e])return e;var r=ss[e],s;for(s in r)if(r.hasOwnProperty(s)&&s in Vo)return cl[e]=r[s];return e}var Wo=Bn("animationend"),Qo=Bn("animationiteration"),Go=Bn("animationstart"),Jo=Bn("transitionend"),qo=new Map,Ko="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ir(e,r){qo.set(e,r),b(r,[e])}for(var dl=0;dl<Ko.length;dl++){var ul=Ko[dl],Th=ul.toLowerCase(),Eh=ul[0].toUpperCase()+ul.slice(1);ir(Th,"on"+Eh)}ir(Wo,"onAnimationEnd"),ir(Qo,"onAnimationIteration"),ir(Go,"onAnimationStart"),ir("dblclick","onDoubleClick"),ir("focusin","onFocus"),ir("focusout","onBlur"),ir(Jo,"onTransitionEnd"),j("onMouseEnter",["mouseout","mouseover"]),j("onMouseLeave",["mouseout","mouseover"]),j("onPointerEnter",["pointerout","pointerover"]),j("onPointerLeave",["pointerout","pointerover"]),b("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),b("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),b("onBeforeInput",["compositionend","keypress","textInput","paste"]),b("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),b("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),b("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dh=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vs));function Zo(e,r,s){var n=e.type||"unknown-event";e.currentTarget=s,Tu(n,r,void 0,e),e.currentTarget=null}function Yo(e,r){r=(r&4)!==0;for(var s=0;s<e.length;s++){var n=e[s],a=n.event;n=n.listeners;e:{var l=void 0;if(r)for(var o=n.length-1;0<=o;o--){var x=n[o],f=x.instance,M=x.currentTarget;if(x=x.listener,f!==l&&a.isPropagationStopped())break e;Zo(a,x,M),l=f}else for(o=0;o<n.length;o++){if(x=n[o],f=x.instance,M=x.currentTarget,x=x.listener,f!==l&&a.isPropagationStopped())break e;Zo(a,x,M),l=f}}}if(yn)throw e=Oa,yn=!1,Oa=null,e}function Me(e,r){var s=r[yl];s===void 0&&(s=r[yl]=new Set);var n=e+"__bubble";s.has(n)||(Xo(r,e,2,!1),s.add(n))}function hl(e,r,s){var n=0;r&&(n|=4),Xo(s,e,n,r)}var Ln="_reactListening"+Math.random().toString(36).slice(2);function Ws(e){if(!e[Ln]){e[Ln]=!0,g.forEach(function(s){s!=="selectionchange"&&(Dh.has(s)||hl(s,!1,e),hl(s,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[Ln]||(r[Ln]=!0,hl("selectionchange",!1,r))}}function Xo(e,r,s,n){switch(jo(r)){case 1:var a=Vu;break;case 4:a=Wu;break;default:a=qa}s=a.bind(null,r,s,e),a=void 0,!Ia||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(r,s,{capture:!0,passive:a}):e.addEventListener(r,s,!0):a!==void 0?e.addEventListener(r,s,{passive:a}):e.addEventListener(r,s,!1)}function ml(e,r,s,n,a){var l=n;if((r&1)===0&&(r&2)===0&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var x=n.stateNode.containerInfo;if(x===a||x.nodeType===8&&x.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var f=o.tag;if((f===3||f===4)&&(f=o.stateNode.containerInfo,f===a||f.nodeType===8&&f.parentNode===a))return;o=o.return}for(;x!==null;){if(o=Ar(x),o===null)return;if(f=o.tag,f===5||f===6){n=l=o;continue e}x=x.parentNode}}n=n.return}so(function(){var M=l,W=qr(s),G=[];e:{var O=qo.get(e);if(O!==void 0){var se=Ya,oe=e;switch(e){case"keypress":if(Dn(s)===0)break e;case"keydown":case"keyup":se=lh;break;case"focusin":oe="focus",se=tl;break;case"focusout":oe="blur",se=tl;break;case"beforeblur":case"afterblur":se=tl;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=So;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=Ju;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=ch;break;case Wo:case Qo:case Go:se=Zu;break;case Jo:se=uh;break;case"scroll":se=Qu;break;case"wheel":se=mh;break;case"copy":case"cut":case"paste":se=Xu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=Ao}var ce=(r&4)!==0,Ie=!ce&&e==="scroll",A=ce?O!==null?O+"Capture":null:O;ce=[];for(var y=M,E;y!==null;){E=y;var q=E.stateNode;if(E.tag===5&&q!==null&&(E=q,A!==null&&(q=As(y,A),q!=null&&ce.push(Qs(y,q,E)))),Ie)break;y=y.return}0<ce.length&&(O=new se(O,oe,null,s,W),G.push({event:O,listeners:ce}))}}if((r&7)===0){e:{if(O=e==="mouseover"||e==="pointerover",se=e==="mouseout"||e==="pointerout",O&&s!==Jr&&(oe=s.relatedTarget||s.fromElement)&&(Ar(oe)||oe[Qt]))break e;if((se||O)&&(O=W.window===W?W:(O=W.ownerDocument)?O.defaultView||O.parentWindow:window,se?(oe=s.relatedTarget||s.toElement,se=M,oe=oe?Ar(oe):null,oe!==null&&(Ie=Cr(oe),oe!==Ie||oe.tag!==5&&oe.tag!==6)&&(oe=null)):(se=null,oe=M),se!==oe)){if(ce=So,q="onMouseLeave",A="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(ce=Ao,q="onPointerLeave",A="onPointerEnter",y="pointer"),Ie=se==null?O:ls(se),E=oe==null?O:ls(oe),O=new ce(q,y+"leave",se,s,W),O.target=Ie,O.relatedTarget=E,q=null,Ar(W)===M&&(ce=new ce(A,y+"enter",oe,s,W),ce.target=E,ce.relatedTarget=Ie,q=ce),Ie=q,se&&oe)t:{for(ce=se,A=oe,y=0,E=ce;E;E=ns(E))y++;for(E=0,q=A;q;q=ns(q))E++;for(;0<y-E;)ce=ns(ce),y--;for(;0<E-y;)A=ns(A),E--;for(;y--;){if(ce===A||A!==null&&ce===A.alternate)break t;ce=ns(ce),A=ns(A)}ce=null}else ce=null;se!==null&&ec(G,O,se,ce,!1),oe!==null&&Ie!==null&&ec(G,Ie,oe,ce,!0)}}e:{if(O=M?ls(M):window,se=O.nodeName&&O.nodeName.toLowerCase(),se==="select"||se==="input"&&O.type==="file")var ue=bh;else if(Po(O))if(Bo)ue=kh;else{ue=jh;var me=wh}else(se=O.nodeName)&&se.toLowerCase()==="input"&&(O.type==="checkbox"||O.type==="radio")&&(ue=Nh);if(ue&&(ue=ue(e,M))){zo(G,ue,s,W);break e}me&&me(e,O,M),e==="focusout"&&(me=O._wrapperState)&&me.controlled&&O.type==="number"&&Mt(O,"number",O.value)}switch(me=M?ls(M):window,e){case"focusin":(Po(me)||me.contentEditable==="true")&&(rs=me,il=M,Hs=null);break;case"focusout":Hs=il=rs=null;break;case"mousedown":ol=!0;break;case"contextmenu":case"mouseup":case"dragend":ol=!1,Ho(G,s,W);break;case"selectionchange":if(Ah)break;case"keydown":case"keyup":Ho(G,s,W)}var xe;if(sl)e:{switch(e){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else ts?Mo(e,s)&&(ge="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(ge="onCompositionStart");ge&&(To&&s.locale!=="ko"&&(ts||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&ts&&(xe=No()):(lr=W,Za="value"in lr?lr.value:lr.textContent,ts=!0)),me=_n(M,ge),0<me.length&&(ge=new Co(ge,e,null,s,W),G.push({event:ge,listeners:me}),xe?ge.data=xe:(xe=Fo(s),xe!==null&&(ge.data=xe)))),(xe=ph?fh(e,s):gh(e,s))&&(M=_n(M,"onBeforeInput"),0<M.length&&(W=new Co("onBeforeInput","beforeinput",null,s,W),G.push({event:W,listeners:M}),W.data=xe))}Yo(G,r)})}function Qs(e,r,s){return{instance:e,listener:r,currentTarget:s}}function _n(e,r){for(var s=r+"Capture",n=[];e!==null;){var a=e,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=As(e,s),l!=null&&n.unshift(Qs(e,l,a)),l=As(e,r),l!=null&&n.push(Qs(e,l,a))),e=e.return}return n}function ns(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ec(e,r,s,n,a){for(var l=r._reactName,o=[];s!==null&&s!==n;){var x=s,f=x.alternate,M=x.stateNode;if(f!==null&&f===n)break;x.tag===5&&M!==null&&(x=M,a?(f=As(s,l),f!=null&&o.unshift(Qs(s,f,x))):a||(f=As(s,l),f!=null&&o.push(Qs(s,f,x)))),s=s.return}o.length!==0&&e.push({event:r,listeners:o})}var Mh=/\r\n?/g,Fh=/\u0000|\uFFFD/g;function tc(e){return(typeof e=="string"?e:""+e).replace(Mh,`
`).replace(Fh,"")}function $n(e,r,s){if(r=tc(r),tc(e)!==r&&s)throw Error(c(425))}function Rn(){}var xl=null,pl=null;function fl(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var gl=typeof setTimeout=="function"?setTimeout:void 0,Ph=typeof clearTimeout=="function"?clearTimeout:void 0,rc=typeof Promise=="function"?Promise:void 0,zh=typeof queueMicrotask=="function"?queueMicrotask:typeof rc<"u"?function(e){return rc.resolve(null).then(e).catch(Bh)}:gl;function Bh(e){setTimeout(function(){throw e})}function vl(e,r){var s=r,n=0;do{var a=s.nextSibling;if(e.removeChild(s),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(n===0){e.removeChild(a),Ls(r);return}n--}else s!=="$"&&s!=="$?"&&s!=="$!"||n++;s=a}while(s);Ls(r)}function or(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return e}function sc(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return e;r--}else s==="/$"&&r++}e=e.previousSibling}return null}var as=Math.random().toString(36).slice(2),Ot="__reactFiber$"+as,Gs="__reactProps$"+as,Qt="__reactContainer$"+as,yl="__reactEvents$"+as,Lh="__reactListeners$"+as,_h="__reactHandles$"+as;function Ar(e){var r=e[Ot];if(r)return r;for(var s=e.parentNode;s;){if(r=s[Qt]||s[Ot]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(e=sc(e);e!==null;){if(s=e[Ot])return s;e=sc(e)}return r}e=s,s=e.parentNode}return null}function Js(e){return e=e[Ot]||e[Qt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ls(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(c(33))}function Un(e){return e[Gs]||null}var bl=[],is=-1;function cr(e){return{current:e}}function Fe(e){0>is||(e.current=bl[is],bl[is]=null,is--)}function De(e,r){is++,bl[is]=e.current,e.current=r}var dr={},st=cr(dr),ct=cr(!1),Tr=dr;function os(e,r){var s=e.type.contextTypes;if(!s)return dr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===r)return n.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in s)a[l]=r[l];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=a),a}function dt(e){return e=e.childContextTypes,e!=null}function In(){Fe(ct),Fe(st)}function nc(e,r,s){if(st.current!==dr)throw Error(c(168));De(st,r),De(ct,s)}function ac(e,r,s){var n=e.stateNode;if(r=r.childContextTypes,typeof n.getChildContext!="function")return s;n=n.getChildContext();for(var a in n)if(!(a in r))throw Error(c(108,ve(e)||"Unknown",a));return K({},s,n)}function On(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||dr,Tr=st.current,De(st,e),De(ct,ct.current),!0}function lc(e,r,s){var n=e.stateNode;if(!n)throw Error(c(169));s?(e=ac(e,r,Tr),n.__reactInternalMemoizedMergedChildContext=e,Fe(ct),Fe(st),De(st,e)):Fe(ct),De(ct,s)}var Gt=null,Hn=!1,wl=!1;function ic(e){Gt===null?Gt=[e]:Gt.push(e)}function $h(e){Hn=!0,ic(e)}function ur(){if(!wl&&Gt!==null){wl=!0;var e=0,r=Ee;try{var s=Gt;for(Ee=1;e<s.length;e++){var n=s[e];do n=n(!0);while(n!==null)}Gt=null,Hn=!1}catch(a){throw Gt!==null&&(Gt=Gt.slice(e+1)),oo(Ha,ur),a}finally{Ee=r,wl=!1}}return null}var cs=[],ds=0,Vn=null,Wn=0,jt=[],Nt=0,Er=null,Jt=1,qt="";function Dr(e,r){cs[ds++]=Wn,cs[ds++]=Vn,Vn=e,Wn=r}function oc(e,r,s){jt[Nt++]=Jt,jt[Nt++]=qt,jt[Nt++]=Er,Er=e;var n=Jt;e=qt;var a=32-Ft(n)-1;n&=~(1<<a),s+=1;var l=32-Ft(r)+a;if(30<l){var o=a-a%5;l=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Jt=1<<32-Ft(r)+a|s<<a|n,qt=l+e}else Jt=1<<l|s<<a|n,qt=e}function jl(e){e.return!==null&&(Dr(e,1),oc(e,1,0))}function Nl(e){for(;e===Vn;)Vn=cs[--ds],cs[ds]=null,Wn=cs[--ds],cs[ds]=null;for(;e===Er;)Er=jt[--Nt],jt[Nt]=null,qt=jt[--Nt],jt[Nt]=null,Jt=jt[--Nt],jt[Nt]=null}var gt=null,vt=null,ze=!1,zt=null;function cc(e,r){var s=At(5,null,null,0);s.elementType="DELETED",s.stateNode=r,s.return=e,r=e.deletions,r===null?(e.deletions=[s],e.flags|=16):r.push(s)}function dc(e,r){switch(e.tag){case 5:var s=e.type;return r=r.nodeType!==1||s.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(e.stateNode=r,gt=e,vt=or(r.firstChild),!0):!1;case 6:return r=e.pendingProps===""||r.nodeType!==3?null:r,r!==null?(e.stateNode=r,gt=e,vt=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(s=Er!==null?{id:Jt,overflow:qt}:null,e.memoizedState={dehydrated:r,treeContext:s,retryLane:1073741824},s=At(18,null,null,0),s.stateNode=r,s.return=e,e.child=s,gt=e,vt=null,!0):!1;default:return!1}}function kl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Sl(e){if(ze){var r=vt;if(r){var s=r;if(!dc(e,r)){if(kl(e))throw Error(c(418));r=or(s.nextSibling);var n=gt;r&&dc(e,r)?cc(n,s):(e.flags=e.flags&-4097|2,ze=!1,gt=e)}}else{if(kl(e))throw Error(c(418));e.flags=e.flags&-4097|2,ze=!1,gt=e}}}function uc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;gt=e}function Qn(e){if(e!==gt)return!1;if(!ze)return uc(e),ze=!0,!1;var r;if((r=e.tag!==3)&&!(r=e.tag!==5)&&(r=e.type,r=r!=="head"&&r!=="body"&&!fl(e.type,e.memoizedProps)),r&&(r=vt)){if(kl(e))throw hc(),Error(c(418));for(;r;)cc(e,r),r=or(r.nextSibling)}if(uc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));e:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(r===0){vt=or(e.nextSibling);break e}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++}e=e.nextSibling}vt=null}}else vt=gt?or(e.stateNode.nextSibling):null;return!0}function hc(){for(var e=vt;e;)e=or(e.nextSibling)}function us(){vt=gt=null,ze=!1}function Cl(e){zt===null?zt=[e]:zt.push(e)}var Rh=I.ReactCurrentBatchConfig;function qs(e,r,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(c(309));var n=s.stateNode}if(!n)throw Error(c(147,e));var a=n,l=""+e;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===l?r.ref:(r=function(o){var x=a.refs;o===null?delete x[l]:x[l]=o},r._stringRef=l,r)}if(typeof e!="string")throw Error(c(284));if(!s._owner)throw Error(c(290,e))}return e}function Gn(e,r){throw e=Object.prototype.toString.call(r),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e))}function mc(e){var r=e._init;return r(e._payload)}function xc(e){function r(A,y){if(e){var E=A.deletions;E===null?(A.deletions=[y],A.flags|=16):E.push(y)}}function s(A,y){if(!e)return null;for(;y!==null;)r(A,y),y=y.sibling;return null}function n(A,y){for(A=new Map;y!==null;)y.key!==null?A.set(y.key,y):A.set(y.index,y),y=y.sibling;return A}function a(A,y){return A=yr(A,y),A.index=0,A.sibling=null,A}function l(A,y,E){return A.index=E,e?(E=A.alternate,E!==null?(E=E.index,E<y?(A.flags|=2,y):E):(A.flags|=2,y)):(A.flags|=1048576,y)}function o(A){return e&&A.alternate===null&&(A.flags|=2),A}function x(A,y,E,q){return y===null||y.tag!==6?(y=gi(E,A.mode,q),y.return=A,y):(y=a(y,E),y.return=A,y)}function f(A,y,E,q){var ue=E.type;return ue===Y?W(A,y,E.props.children,q,E.key):y!==null&&(y.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===P&&mc(ue)===y.type)?(q=a(y,E.props),q.ref=qs(A,y,E),q.return=A,q):(q=ga(E.type,E.key,E.props,null,A.mode,q),q.ref=qs(A,y,E),q.return=A,q)}function M(A,y,E,q){return y===null||y.tag!==4||y.stateNode.containerInfo!==E.containerInfo||y.stateNode.implementation!==E.implementation?(y=vi(E,A.mode,q),y.return=A,y):(y=a(y,E.children||[]),y.return=A,y)}function W(A,y,E,q,ue){return y===null||y.tag!==7?(y=$r(E,A.mode,q,ue),y.return=A,y):(y=a(y,E),y.return=A,y)}function G(A,y,E){if(typeof y=="string"&&y!==""||typeof y=="number")return y=gi(""+y,A.mode,E),y.return=A,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case J:return E=ga(y.type,y.key,y.props,null,A.mode,E),E.ref=qs(A,null,y),E.return=A,E;case H:return y=vi(y,A.mode,E),y.return=A,y;case P:var q=y._init;return G(A,q(y._payload),E)}if(Je(y)||re(y))return y=$r(y,A.mode,E,null),y.return=A,y;Gn(A,y)}return null}function O(A,y,E,q){var ue=y!==null?y.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return ue!==null?null:x(A,y,""+E,q);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case J:return E.key===ue?f(A,y,E,q):null;case H:return E.key===ue?M(A,y,E,q):null;case P:return ue=E._init,O(A,y,ue(E._payload),q)}if(Je(E)||re(E))return ue!==null?null:W(A,y,E,q,null);Gn(A,E)}return null}function se(A,y,E,q,ue){if(typeof q=="string"&&q!==""||typeof q=="number")return A=A.get(E)||null,x(y,A,""+q,ue);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case J:return A=A.get(q.key===null?E:q.key)||null,f(y,A,q,ue);case H:return A=A.get(q.key===null?E:q.key)||null,M(y,A,q,ue);case P:var me=q._init;return se(A,y,E,me(q._payload),ue)}if(Je(q)||re(q))return A=A.get(E)||null,W(y,A,q,ue,null);Gn(y,q)}return null}function oe(A,y,E,q){for(var ue=null,me=null,xe=y,ge=y=0,Ze=null;xe!==null&&ge<E.length;ge++){xe.index>ge?(Ze=xe,xe=null):Ze=xe.sibling;var Se=O(A,xe,E[ge],q);if(Se===null){xe===null&&(xe=Ze);break}e&&xe&&Se.alternate===null&&r(A,xe),y=l(Se,y,ge),me===null?ue=Se:me.sibling=Se,me=Se,xe=Ze}if(ge===E.length)return s(A,xe),ze&&Dr(A,ge),ue;if(xe===null){for(;ge<E.length;ge++)xe=G(A,E[ge],q),xe!==null&&(y=l(xe,y,ge),me===null?ue=xe:me.sibling=xe,me=xe);return ze&&Dr(A,ge),ue}for(xe=n(A,xe);ge<E.length;ge++)Ze=se(xe,A,ge,E[ge],q),Ze!==null&&(e&&Ze.alternate!==null&&xe.delete(Ze.key===null?ge:Ze.key),y=l(Ze,y,ge),me===null?ue=Ze:me.sibling=Ze,me=Ze);return e&&xe.forEach(function(br){return r(A,br)}),ze&&Dr(A,ge),ue}function ce(A,y,E,q){var ue=re(E);if(typeof ue!="function")throw Error(c(150));if(E=ue.call(E),E==null)throw Error(c(151));for(var me=ue=null,xe=y,ge=y=0,Ze=null,Se=E.next();xe!==null&&!Se.done;ge++,Se=E.next()){xe.index>ge?(Ze=xe,xe=null):Ze=xe.sibling;var br=O(A,xe,Se.value,q);if(br===null){xe===null&&(xe=Ze);break}e&&xe&&br.alternate===null&&r(A,xe),y=l(br,y,ge),me===null?ue=br:me.sibling=br,me=br,xe=Ze}if(Se.done)return s(A,xe),ze&&Dr(A,ge),ue;if(xe===null){for(;!Se.done;ge++,Se=E.next())Se=G(A,Se.value,q),Se!==null&&(y=l(Se,y,ge),me===null?ue=Se:me.sibling=Se,me=Se);return ze&&Dr(A,ge),ue}for(xe=n(A,xe);!Se.done;ge++,Se=E.next())Se=se(xe,A,ge,Se.value,q),Se!==null&&(e&&Se.alternate!==null&&xe.delete(Se.key===null?ge:Se.key),y=l(Se,y,ge),me===null?ue=Se:me.sibling=Se,me=Se);return e&&xe.forEach(function(vm){return r(A,vm)}),ze&&Dr(A,ge),ue}function Ie(A,y,E,q){if(typeof E=="object"&&E!==null&&E.type===Y&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case J:e:{for(var ue=E.key,me=y;me!==null;){if(me.key===ue){if(ue=E.type,ue===Y){if(me.tag===7){s(A,me.sibling),y=a(me,E.props.children),y.return=A,A=y;break e}}else if(me.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===P&&mc(ue)===me.type){s(A,me.sibling),y=a(me,E.props),y.ref=qs(A,me,E),y.return=A,A=y;break e}s(A,me);break}else r(A,me);me=me.sibling}E.type===Y?(y=$r(E.props.children,A.mode,q,E.key),y.return=A,A=y):(q=ga(E.type,E.key,E.props,null,A.mode,q),q.ref=qs(A,y,E),q.return=A,A=q)}return o(A);case H:e:{for(me=E.key;y!==null;){if(y.key===me)if(y.tag===4&&y.stateNode.containerInfo===E.containerInfo&&y.stateNode.implementation===E.implementation){s(A,y.sibling),y=a(y,E.children||[]),y.return=A,A=y;break e}else{s(A,y);break}else r(A,y);y=y.sibling}y=vi(E,A.mode,q),y.return=A,A=y}return o(A);case P:return me=E._init,Ie(A,y,me(E._payload),q)}if(Je(E))return oe(A,y,E,q);if(re(E))return ce(A,y,E,q);Gn(A,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,y!==null&&y.tag===6?(s(A,y.sibling),y=a(y,E),y.return=A,A=y):(s(A,y),y=gi(E,A.mode,q),y.return=A,A=y),o(A)):s(A,y)}return Ie}var hs=xc(!0),pc=xc(!1),Jn=cr(null),qn=null,ms=null,Al=null;function Tl(){Al=ms=qn=null}function El(e){var r=Jn.current;Fe(Jn),e._currentValue=r}function Dl(e,r,s){for(;e!==null;){var n=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,n!==null&&(n.childLanes|=r)):n!==null&&(n.childLanes&r)!==r&&(n.childLanes|=r),e===s)break;e=e.return}}function xs(e,r){qn=e,Al=ms=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&r)!==0&&(ut=!0),e.firstContext=null)}function kt(e){var r=e._currentValue;if(Al!==e)if(e={context:e,memoizedValue:r,next:null},ms===null){if(qn===null)throw Error(c(308));ms=e,qn.dependencies={lanes:0,firstContext:e}}else ms=ms.next=e;return r}var Mr=null;function Ml(e){Mr===null?Mr=[e]:Mr.push(e)}function fc(e,r,s,n){var a=r.interleaved;return a===null?(s.next=s,Ml(r)):(s.next=a.next,a.next=s),r.interleaved=s,Kt(e,n)}function Kt(e,r){e.lanes|=r;var s=e.alternate;for(s!==null&&(s.lanes|=r),s=e,e=e.return;e!==null;)e.childLanes|=r,s=e.alternate,s!==null&&(s.childLanes|=r),s=e,e=e.return;return s.tag===3?s.stateNode:null}var hr=!1;function Fl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gc(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Zt(e,r){return{eventTime:e,lane:r,tag:0,payload:null,callback:null,next:null}}function mr(e,r,s){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(ke&2)!==0){var a=n.pending;return a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r,Kt(e,s)}return a=n.interleaved,a===null?(r.next=r,Ml(n)):(r.next=a.next,a.next=r),n.interleaved=r,Kt(e,s)}function Kn(e,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194240)!==0)){var n=r.lanes;n&=e.pendingLanes,s|=n,r.lanes=s,Qa(e,s)}}function vc(e,r){var s=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,s===n)){var a=null,l=null;if(s=s.firstBaseUpdate,s!==null){do{var o={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};l===null?a=l=o:l=l.next=o,s=s.next}while(s!==null);l===null?a=l=r:l=l.next=r}else a=l=r;s={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:n.shared,effects:n.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=r:e.next=r,s.lastBaseUpdate=r}function Zn(e,r,s,n){var a=e.updateQueue;hr=!1;var l=a.firstBaseUpdate,o=a.lastBaseUpdate,x=a.shared.pending;if(x!==null){a.shared.pending=null;var f=x,M=f.next;f.next=null,o===null?l=M:o.next=M,o=f;var W=e.alternate;W!==null&&(W=W.updateQueue,x=W.lastBaseUpdate,x!==o&&(x===null?W.firstBaseUpdate=M:x.next=M,W.lastBaseUpdate=f))}if(l!==null){var G=a.baseState;o=0,W=M=f=null,x=l;do{var O=x.lane,se=x.eventTime;if((n&O)===O){W!==null&&(W=W.next={eventTime:se,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var oe=e,ce=x;switch(O=r,se=s,ce.tag){case 1:if(oe=ce.payload,typeof oe=="function"){G=oe.call(se,G,O);break e}G=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=ce.payload,O=typeof oe=="function"?oe.call(se,G,O):oe,O==null)break e;G=K({},G,O);break e;case 2:hr=!0}}x.callback!==null&&x.lane!==0&&(e.flags|=64,O=a.effects,O===null?a.effects=[x]:O.push(x))}else se={eventTime:se,lane:O,tag:x.tag,payload:x.payload,callback:x.callback,next:null},W===null?(M=W=se,f=G):W=W.next=se,o|=O;if(x=x.next,x===null){if(x=a.shared.pending,x===null)break;O=x,x=O.next,O.next=null,a.lastBaseUpdate=O,a.shared.pending=null}}while(!0);if(W===null&&(f=G),a.baseState=f,a.firstBaseUpdate=M,a.lastBaseUpdate=W,r=a.shared.interleaved,r!==null){a=r;do o|=a.lane,a=a.next;while(a!==r)}else l===null&&(a.shared.lanes=0);zr|=o,e.lanes=o,e.memoizedState=G}}function yc(e,r,s){if(e=r.effects,r.effects=null,e!==null)for(r=0;r<e.length;r++){var n=e[r],a=n.callback;if(a!==null){if(n.callback=null,n=s,typeof a!="function")throw Error(c(191,a));a.call(n)}}}var Ks={},Ht=cr(Ks),Zs=cr(Ks),Ys=cr(Ks);function Fr(e){if(e===Ks)throw Error(c(174));return e}function Pl(e,r){switch(De(Ys,r),De(Zs,e),De(Ht,Ks),e=r.nodeType,e){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:Cs(null,"");break;default:e=e===8?r.parentNode:r,r=e.namespaceURI||null,e=e.tagName,r=Cs(r,e)}Fe(Ht),De(Ht,r)}function ps(){Fe(Ht),Fe(Zs),Fe(Ys)}function bc(e){Fr(Ys.current);var r=Fr(Ht.current),s=Cs(r,e.type);r!==s&&(De(Zs,e),De(Ht,s))}function zl(e){Zs.current===e&&(Fe(Ht),Fe(Zs))}var Be=cr(0);function Yn(e){for(var r=e;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Bl=[];function Ll(){for(var e=0;e<Bl.length;e++)Bl[e]._workInProgressVersionPrimary=null;Bl.length=0}var Xn=I.ReactCurrentDispatcher,_l=I.ReactCurrentBatchConfig,Pr=0,Le=null,Qe=null,qe=null,ea=!1,Xs=!1,en=0,Uh=0;function nt(){throw Error(c(321))}function $l(e,r){if(r===null)return!1;for(var s=0;s<r.length&&s<e.length;s++)if(!Pt(e[s],r[s]))return!1;return!0}function Rl(e,r,s,n,a,l){if(Pr=l,Le=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Xn.current=e===null||e.memoizedState===null?Vh:Wh,e=s(n,a),Xs){l=0;do{if(Xs=!1,en=0,25<=l)throw Error(c(301));l+=1,qe=Qe=null,r.updateQueue=null,Xn.current=Qh,e=s(n,a)}while(Xs)}if(Xn.current=sa,r=Qe!==null&&Qe.next!==null,Pr=0,qe=Qe=Le=null,ea=!1,r)throw Error(c(300));return e}function Ul(){var e=en!==0;return en=0,e}function Vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?Le.memoizedState=qe=e:qe=qe.next=e,qe}function St(){if(Qe===null){var e=Le.alternate;e=e!==null?e.memoizedState:null}else e=Qe.next;var r=qe===null?Le.memoizedState:qe.next;if(r!==null)qe=r,Qe=e;else{if(e===null)throw Error(c(310));Qe=e,e={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},qe===null?Le.memoizedState=qe=e:qe=qe.next=e}return qe}function tn(e,r){return typeof r=="function"?r(e):r}function Il(e){var r=St(),s=r.queue;if(s===null)throw Error(c(311));s.lastRenderedReducer=e;var n=Qe,a=n.baseQueue,l=s.pending;if(l!==null){if(a!==null){var o=a.next;a.next=l.next,l.next=o}n.baseQueue=a=l,s.pending=null}if(a!==null){l=a.next,n=n.baseState;var x=o=null,f=null,M=l;do{var W=M.lane;if((Pr&W)===W)f!==null&&(f=f.next={lane:0,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),n=M.hasEagerState?M.eagerState:e(n,M.action);else{var G={lane:W,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null};f===null?(x=f=G,o=n):f=f.next=G,Le.lanes|=W,zr|=W}M=M.next}while(M!==null&&M!==l);f===null?o=n:f.next=x,Pt(n,r.memoizedState)||(ut=!0),r.memoizedState=n,r.baseState=o,r.baseQueue=f,s.lastRenderedState=n}if(e=s.interleaved,e!==null){a=e;do l=a.lane,Le.lanes|=l,zr|=l,a=a.next;while(a!==e)}else a===null&&(s.lanes=0);return[r.memoizedState,s.dispatch]}function Ol(e){var r=St(),s=r.queue;if(s===null)throw Error(c(311));s.lastRenderedReducer=e;var n=s.dispatch,a=s.pending,l=r.memoizedState;if(a!==null){s.pending=null;var o=a=a.next;do l=e(l,o.action),o=o.next;while(o!==a);Pt(l,r.memoizedState)||(ut=!0),r.memoizedState=l,r.baseQueue===null&&(r.baseState=l),s.lastRenderedState=l}return[l,n]}function wc(){}function jc(e,r){var s=Le,n=St(),a=r(),l=!Pt(n.memoizedState,a);if(l&&(n.memoizedState=a,ut=!0),n=n.queue,Hl(Sc.bind(null,s,n,e),[e]),n.getSnapshot!==r||l||qe!==null&&qe.memoizedState.tag&1){if(s.flags|=2048,rn(9,kc.bind(null,s,n,a,r),void 0,null),Ke===null)throw Error(c(349));(Pr&30)!==0||Nc(s,r,a)}return a}function Nc(e,r,s){e.flags|=16384,e={getSnapshot:r,value:s},r=Le.updateQueue,r===null?(r={lastEffect:null,stores:null},Le.updateQueue=r,r.stores=[e]):(s=r.stores,s===null?r.stores=[e]:s.push(e))}function kc(e,r,s,n){r.value=s,r.getSnapshot=n,Cc(r)&&Ac(e)}function Sc(e,r,s){return s(function(){Cc(r)&&Ac(e)})}function Cc(e){var r=e.getSnapshot;e=e.value;try{var s=r();return!Pt(e,s)}catch{return!0}}function Ac(e){var r=Kt(e,1);r!==null&&$t(r,e,1,-1)}function Tc(e){var r=Vt();return typeof e=="function"&&(e=e()),r.memoizedState=r.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tn,lastRenderedState:e},r.queue=e,e=e.dispatch=Hh.bind(null,Le,e),[r.memoizedState,e]}function rn(e,r,s,n){return e={tag:e,create:r,destroy:s,deps:n,next:null},r=Le.updateQueue,r===null?(r={lastEffect:null,stores:null},Le.updateQueue=r,r.lastEffect=e.next=e):(s=r.lastEffect,s===null?r.lastEffect=e.next=e:(n=s.next,s.next=e,e.next=n,r.lastEffect=e)),e}function Ec(){return St().memoizedState}function ta(e,r,s,n){var a=Vt();Le.flags|=e,a.memoizedState=rn(1|r,s,void 0,n===void 0?null:n)}function ra(e,r,s,n){var a=St();n=n===void 0?null:n;var l=void 0;if(Qe!==null){var o=Qe.memoizedState;if(l=o.destroy,n!==null&&$l(n,o.deps)){a.memoizedState=rn(r,s,l,n);return}}Le.flags|=e,a.memoizedState=rn(1|r,s,l,n)}function Dc(e,r){return ta(8390656,8,e,r)}function Hl(e,r){return ra(2048,8,e,r)}function Mc(e,r){return ra(4,2,e,r)}function Fc(e,r){return ra(4,4,e,r)}function Pc(e,r){if(typeof r=="function")return e=e(),r(e),function(){r(null)};if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function zc(e,r,s){return s=s!=null?s.concat([e]):null,ra(4,4,Pc.bind(null,r,e),s)}function Vl(){}function Bc(e,r){var s=St();r=r===void 0?null:r;var n=s.memoizedState;return n!==null&&r!==null&&$l(r,n[1])?n[0]:(s.memoizedState=[e,r],e)}function Lc(e,r){var s=St();r=r===void 0?null:r;var n=s.memoizedState;return n!==null&&r!==null&&$l(r,n[1])?n[0]:(e=e(),s.memoizedState=[e,r],e)}function _c(e,r,s){return(Pr&21)===0?(e.baseState&&(e.baseState=!1,ut=!0),e.memoizedState=s):(Pt(s,r)||(s=mo(),Le.lanes|=s,zr|=s,e.baseState=!0),r)}function Ih(e,r){var s=Ee;Ee=s!==0&&4>s?s:4,e(!0);var n=_l.transition;_l.transition={};try{e(!1),r()}finally{Ee=s,_l.transition=n}}function $c(){return St().memoizedState}function Oh(e,r,s){var n=gr(e);if(s={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null},Rc(e))Uc(r,s);else if(s=fc(e,r,s,n),s!==null){var a=ot();$t(s,e,n,a),Ic(s,r,n)}}function Hh(e,r,s){var n=gr(e),a={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null};if(Rc(e))Uc(r,a);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=r.lastRenderedReducer,l!==null))try{var o=r.lastRenderedState,x=l(o,s);if(a.hasEagerState=!0,a.eagerState=x,Pt(x,o)){var f=r.interleaved;f===null?(a.next=a,Ml(r)):(a.next=f.next,f.next=a),r.interleaved=a;return}}catch{}finally{}s=fc(e,r,a,n),s!==null&&(a=ot(),$t(s,e,n,a),Ic(s,r,n))}}function Rc(e){var r=e.alternate;return e===Le||r!==null&&r===Le}function Uc(e,r){Xs=ea=!0;var s=e.pending;s===null?r.next=r:(r.next=s.next,s.next=r),e.pending=r}function Ic(e,r,s){if((s&4194240)!==0){var n=r.lanes;n&=e.pendingLanes,s|=n,r.lanes=s,Qa(e,s)}}var sa={readContext:kt,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useInsertionEffect:nt,useLayoutEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useMutableSource:nt,useSyncExternalStore:nt,useId:nt,unstable_isNewReconciler:!1},Vh={readContext:kt,useCallback:function(e,r){return Vt().memoizedState=[e,r===void 0?null:r],e},useContext:kt,useEffect:Dc,useImperativeHandle:function(e,r,s){return s=s!=null?s.concat([e]):null,ta(4194308,4,Pc.bind(null,r,e),s)},useLayoutEffect:function(e,r){return ta(4194308,4,e,r)},useInsertionEffect:function(e,r){return ta(4,2,e,r)},useMemo:function(e,r){var s=Vt();return r=r===void 0?null:r,e=e(),s.memoizedState=[e,r],e},useReducer:function(e,r,s){var n=Vt();return r=s!==void 0?s(r):r,n.memoizedState=n.baseState=r,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},n.queue=e,e=e.dispatch=Oh.bind(null,Le,e),[n.memoizedState,e]},useRef:function(e){var r=Vt();return e={current:e},r.memoizedState=e},useState:Tc,useDebugValue:Vl,useDeferredValue:function(e){return Vt().memoizedState=e},useTransition:function(){var e=Tc(!1),r=e[0];return e=Ih.bind(null,e[1]),Vt().memoizedState=e,[r,e]},useMutableSource:function(){},useSyncExternalStore:function(e,r,s){var n=Le,a=Vt();if(ze){if(s===void 0)throw Error(c(407));s=s()}else{if(s=r(),Ke===null)throw Error(c(349));(Pr&30)!==0||Nc(n,r,s)}a.memoizedState=s;var l={value:s,getSnapshot:r};return a.queue=l,Dc(Sc.bind(null,n,l,e),[e]),n.flags|=2048,rn(9,kc.bind(null,n,l,s,r),void 0,null),s},useId:function(){var e=Vt(),r=Ke.identifierPrefix;if(ze){var s=qt,n=Jt;s=(n&~(1<<32-Ft(n)-1)).toString(32)+s,r=":"+r+"R"+s,s=en++,0<s&&(r+="H"+s.toString(32)),r+=":"}else s=Uh++,r=":"+r+"r"+s.toString(32)+":";return e.memoizedState=r},unstable_isNewReconciler:!1},Wh={readContext:kt,useCallback:Bc,useContext:kt,useEffect:Hl,useImperativeHandle:zc,useInsertionEffect:Mc,useLayoutEffect:Fc,useMemo:Lc,useReducer:Il,useRef:Ec,useState:function(){return Il(tn)},useDebugValue:Vl,useDeferredValue:function(e){var r=St();return _c(r,Qe.memoizedState,e)},useTransition:function(){var e=Il(tn)[0],r=St().memoizedState;return[e,r]},useMutableSource:wc,useSyncExternalStore:jc,useId:$c,unstable_isNewReconciler:!1},Qh={readContext:kt,useCallback:Bc,useContext:kt,useEffect:Hl,useImperativeHandle:zc,useInsertionEffect:Mc,useLayoutEffect:Fc,useMemo:Lc,useReducer:Ol,useRef:Ec,useState:function(){return Ol(tn)},useDebugValue:Vl,useDeferredValue:function(e){var r=St();return Qe===null?r.memoizedState=e:_c(r,Qe.memoizedState,e)},useTransition:function(){var e=Ol(tn)[0],r=St().memoizedState;return[e,r]},useMutableSource:wc,useSyncExternalStore:jc,useId:$c,unstable_isNewReconciler:!1};function Bt(e,r){if(e&&e.defaultProps){r=K({},r),e=e.defaultProps;for(var s in e)r[s]===void 0&&(r[s]=e[s]);return r}return r}function Wl(e,r,s,n){r=e.memoizedState,s=s(n,r),s=s==null?r:K({},r,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var na={isMounted:function(e){return(e=e._reactInternals)?Cr(e)===e:!1},enqueueSetState:function(e,r,s){e=e._reactInternals;var n=ot(),a=gr(e),l=Zt(n,a);l.payload=r,s!=null&&(l.callback=s),r=mr(e,l,a),r!==null&&($t(r,e,a,n),Kn(r,e,a))},enqueueReplaceState:function(e,r,s){e=e._reactInternals;var n=ot(),a=gr(e),l=Zt(n,a);l.tag=1,l.payload=r,s!=null&&(l.callback=s),r=mr(e,l,a),r!==null&&($t(r,e,a,n),Kn(r,e,a))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var s=ot(),n=gr(e),a=Zt(s,n);a.tag=2,r!=null&&(a.callback=r),r=mr(e,a,n),r!==null&&($t(r,e,n,s),Kn(r,e,n))}};function Oc(e,r,s,n,a,l,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,l,o):r.prototype&&r.prototype.isPureReactComponent?!Os(s,n)||!Os(a,l):!0}function Hc(e,r,s){var n=!1,a=dr,l=r.contextType;return typeof l=="object"&&l!==null?l=kt(l):(a=dt(r)?Tr:st.current,n=r.contextTypes,l=(n=n!=null)?os(e,a):dr),r=new r(s,l),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=na,e.stateNode=r,r._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=l),r}function Vc(e,r,s,n){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,n),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,n),r.state!==e&&na.enqueueReplaceState(r,r.state,null)}function Ql(e,r,s,n){var a=e.stateNode;a.props=s,a.state=e.memoizedState,a.refs={},Fl(e);var l=r.contextType;typeof l=="object"&&l!==null?a.context=kt(l):(l=dt(r)?Tr:st.current,a.context=os(e,l)),a.state=e.memoizedState,l=r.getDerivedStateFromProps,typeof l=="function"&&(Wl(e,r,l,s),a.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(r=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),r!==a.state&&na.enqueueReplaceState(a,a.state,null),Zn(e,s,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function fs(e,r){try{var s="",n=r;do s+=ae(n),n=n.return;while(n);var a=s}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:r,stack:a,digest:null}}function Gl(e,r,s){return{value:e,source:null,stack:s??null,digest:r??null}}function Jl(e,r){try{console.error(r.value)}catch(s){setTimeout(function(){throw s})}}var Gh=typeof WeakMap=="function"?WeakMap:Map;function Wc(e,r,s){s=Zt(-1,s),s.tag=3,s.payload={element:null};var n=r.value;return s.callback=function(){ua||(ua=!0,ci=n),Jl(e,r)},s}function Qc(e,r,s){s=Zt(-1,s),s.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=r.value;s.payload=function(){return n(a)},s.callback=function(){Jl(e,r)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(s.callback=function(){Jl(e,r),typeof n!="function"&&(pr===null?pr=new Set([this]):pr.add(this));var o=r.stack;this.componentDidCatch(r.value,{componentStack:o!==null?o:""})}),s}function Gc(e,r,s){var n=e.pingCache;if(n===null){n=e.pingCache=new Gh;var a=new Set;n.set(r,a)}else a=n.get(r),a===void 0&&(a=new Set,n.set(r,a));a.has(s)||(a.add(s),e=im.bind(null,e,r,s),r.then(e,e))}function Jc(e){do{var r;if((r=e.tag===13)&&(r=e.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return e;e=e.return}while(e!==null);return null}function qc(e,r,s,n,a){return(e.mode&1)===0?(e===r?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(r=Zt(-1,1),r.tag=2,mr(s,r,1))),s.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var Jh=I.ReactCurrentOwner,ut=!1;function it(e,r,s,n){r.child=e===null?pc(r,null,s,n):hs(r,e.child,s,n)}function Kc(e,r,s,n,a){s=s.render;var l=r.ref;return xs(r,a),n=Rl(e,r,s,n,l,a),s=Ul(),e!==null&&!ut?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~a,Yt(e,r,a)):(ze&&s&&jl(r),r.flags|=1,it(e,r,n,a),r.child)}function Zc(e,r,s,n,a){if(e===null){var l=s.type;return typeof l=="function"&&!fi(l)&&l.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(r.tag=15,r.type=l,Yc(e,r,l,n,a)):(e=ga(s.type,null,n,r,r.mode,a),e.ref=r.ref,e.return=r,r.child=e)}if(l=e.child,(e.lanes&a)===0){var o=l.memoizedProps;if(s=s.compare,s=s!==null?s:Os,s(o,n)&&e.ref===r.ref)return Yt(e,r,a)}return r.flags|=1,e=yr(l,n),e.ref=r.ref,e.return=r,r.child=e}function Yc(e,r,s,n,a){if(e!==null){var l=e.memoizedProps;if(Os(l,n)&&e.ref===r.ref)if(ut=!1,r.pendingProps=n=l,(e.lanes&a)!==0)(e.flags&131072)!==0&&(ut=!0);else return r.lanes=e.lanes,Yt(e,r,a)}return ql(e,r,s,n,a)}function Xc(e,r,s){var n=r.pendingProps,a=n.children,l=e!==null?e.memoizedState:null;if(n.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(vs,yt),yt|=s;else{if((s&1073741824)===0)return e=l!==null?l.baseLanes|s:s,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:e,cachePool:null,transitions:null},r.updateQueue=null,De(vs,yt),yt|=e,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=l!==null?l.baseLanes:s,De(vs,yt),yt|=n}else l!==null?(n=l.baseLanes|s,r.memoizedState=null):n=s,De(vs,yt),yt|=n;return it(e,r,a,s),r.child}function ed(e,r){var s=r.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(r.flags|=512,r.flags|=2097152)}function ql(e,r,s,n,a){var l=dt(s)?Tr:st.current;return l=os(r,l),xs(r,a),s=Rl(e,r,s,n,l,a),n=Ul(),e!==null&&!ut?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~a,Yt(e,r,a)):(ze&&n&&jl(r),r.flags|=1,it(e,r,s,a),r.child)}function td(e,r,s,n,a){if(dt(s)){var l=!0;On(r)}else l=!1;if(xs(r,a),r.stateNode===null)la(e,r),Hc(r,s,n),Ql(r,s,n,a),n=!0;else if(e===null){var o=r.stateNode,x=r.memoizedProps;o.props=x;var f=o.context,M=s.contextType;typeof M=="object"&&M!==null?M=kt(M):(M=dt(s)?Tr:st.current,M=os(r,M));var W=s.getDerivedStateFromProps,G=typeof W=="function"||typeof o.getSnapshotBeforeUpdate=="function";G||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(x!==n||f!==M)&&Vc(r,o,n,M),hr=!1;var O=r.memoizedState;o.state=O,Zn(r,n,o,a),f=r.memoizedState,x!==n||O!==f||ct.current||hr?(typeof W=="function"&&(Wl(r,s,W,n),f=r.memoizedState),(x=hr||Oc(r,s,x,n,O,f,M))?(G||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(r.flags|=4194308)):(typeof o.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=n,r.memoizedState=f),o.props=n,o.state=f,o.context=M,n=x):(typeof o.componentDidMount=="function"&&(r.flags|=4194308),n=!1)}else{o=r.stateNode,gc(e,r),x=r.memoizedProps,M=r.type===r.elementType?x:Bt(r.type,x),o.props=M,G=r.pendingProps,O=o.context,f=s.contextType,typeof f=="object"&&f!==null?f=kt(f):(f=dt(s)?Tr:st.current,f=os(r,f));var se=s.getDerivedStateFromProps;(W=typeof se=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(x!==G||O!==f)&&Vc(r,o,n,f),hr=!1,O=r.memoizedState,o.state=O,Zn(r,n,o,a);var oe=r.memoizedState;x!==G||O!==oe||ct.current||hr?(typeof se=="function"&&(Wl(r,s,se,n),oe=r.memoizedState),(M=hr||Oc(r,s,M,n,O,oe,f)||!1)?(W||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,oe,f),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,oe,f)),typeof o.componentDidUpdate=="function"&&(r.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof o.componentDidUpdate!="function"||x===e.memoizedProps&&O===e.memoizedState||(r.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&O===e.memoizedState||(r.flags|=1024),r.memoizedProps=n,r.memoizedState=oe),o.props=n,o.state=oe,o.context=f,n=M):(typeof o.componentDidUpdate!="function"||x===e.memoizedProps&&O===e.memoizedState||(r.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&O===e.memoizedState||(r.flags|=1024),n=!1)}return Kl(e,r,s,n,l,a)}function Kl(e,r,s,n,a,l){ed(e,r);var o=(r.flags&128)!==0;if(!n&&!o)return a&&lc(r,s,!1),Yt(e,r,l);n=r.stateNode,Jh.current=r;var x=o&&typeof s.getDerivedStateFromError!="function"?null:n.render();return r.flags|=1,e!==null&&o?(r.child=hs(r,e.child,null,l),r.child=hs(r,null,x,l)):it(e,r,x,l),r.memoizedState=n.state,a&&lc(r,s,!0),r.child}function rd(e){var r=e.stateNode;r.pendingContext?nc(e,r.pendingContext,r.pendingContext!==r.context):r.context&&nc(e,r.context,!1),Pl(e,r.containerInfo)}function sd(e,r,s,n,a){return us(),Cl(a),r.flags|=256,it(e,r,s,n),r.child}var Zl={dehydrated:null,treeContext:null,retryLane:0};function Yl(e){return{baseLanes:e,cachePool:null,transitions:null}}function nd(e,r,s){var n=r.pendingProps,a=Be.current,l=!1,o=(r.flags&128)!==0,x;if((x=o)||(x=e!==null&&e.memoizedState===null?!1:(a&2)!==0),x?(l=!0,r.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),De(Be,a&1),e===null)return Sl(r),e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((r.mode&1)===0?r.lanes=1:e.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(o=n.children,e=n.fallback,l?(n=r.mode,l=r.child,o={mode:"hidden",children:o},(n&1)===0&&l!==null?(l.childLanes=0,l.pendingProps=o):l=va(o,n,0,null),e=$r(e,n,s,null),l.return=r,e.return=r,l.sibling=e,r.child=l,r.child.memoizedState=Yl(s),r.memoizedState=Zl,e):Xl(r,o));if(a=e.memoizedState,a!==null&&(x=a.dehydrated,x!==null))return qh(e,r,o,n,x,a,s);if(l){l=n.fallback,o=r.mode,a=e.child,x=a.sibling;var f={mode:"hidden",children:n.children};return(o&1)===0&&r.child!==a?(n=r.child,n.childLanes=0,n.pendingProps=f,r.deletions=null):(n=yr(a,f),n.subtreeFlags=a.subtreeFlags&14680064),x!==null?l=yr(x,l):(l=$r(l,o,s,null),l.flags|=2),l.return=r,n.return=r,n.sibling=l,r.child=n,n=l,l=r.child,o=e.child.memoizedState,o=o===null?Yl(s):{baseLanes:o.baseLanes|s,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~s,r.memoizedState=Zl,n}return l=e.child,e=l.sibling,n=yr(l,{mode:"visible",children:n.children}),(r.mode&1)===0&&(n.lanes=s),n.return=r,n.sibling=null,e!==null&&(s=r.deletions,s===null?(r.deletions=[e],r.flags|=16):s.push(e)),r.child=n,r.memoizedState=null,n}function Xl(e,r){return r=va({mode:"visible",children:r},e.mode,0,null),r.return=e,e.child=r}function aa(e,r,s,n){return n!==null&&Cl(n),hs(r,e.child,null,s),e=Xl(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function qh(e,r,s,n,a,l,o){if(s)return r.flags&256?(r.flags&=-257,n=Gl(Error(c(422))),aa(e,r,o,n)):r.memoizedState!==null?(r.child=e.child,r.flags|=128,null):(l=n.fallback,a=r.mode,n=va({mode:"visible",children:n.children},a,0,null),l=$r(l,a,o,null),l.flags|=2,n.return=r,l.return=r,n.sibling=l,r.child=n,(r.mode&1)!==0&&hs(r,e.child,null,o),r.child.memoizedState=Yl(o),r.memoizedState=Zl,l);if((r.mode&1)===0)return aa(e,r,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var x=n.dgst;return n=x,l=Error(c(419)),n=Gl(l,n,void 0),aa(e,r,o,n)}if(x=(o&e.childLanes)!==0,ut||x){if(n=Ke,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=(a&(n.suspendedLanes|o))!==0?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,Kt(e,a),$t(n,e,a,-1))}return pi(),n=Gl(Error(c(421))),aa(e,r,o,n)}return a.data==="$?"?(r.flags|=128,r.child=e.child,r=om.bind(null,e),a._reactRetry=r,null):(e=l.treeContext,vt=or(a.nextSibling),gt=r,ze=!0,zt=null,e!==null&&(jt[Nt++]=Jt,jt[Nt++]=qt,jt[Nt++]=Er,Jt=e.id,qt=e.overflow,Er=r),r=Xl(r,n.children),r.flags|=4096,r)}function ad(e,r,s){e.lanes|=r;var n=e.alternate;n!==null&&(n.lanes|=r),Dl(e.return,r,s)}function ei(e,r,s,n,a){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:a}:(l.isBackwards=r,l.rendering=null,l.renderingStartTime=0,l.last=n,l.tail=s,l.tailMode=a)}function ld(e,r,s){var n=r.pendingProps,a=n.revealOrder,l=n.tail;if(it(e,r,n.children,s),n=Be.current,(n&2)!==0)n=n&1|2,r.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ad(e,s,r);else if(e.tag===19)ad(e,s,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break e;for(;e.sibling===null;){if(e.return===null||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(De(Be,n),(r.mode&1)===0)r.memoizedState=null;else switch(a){case"forwards":for(s=r.child,a=null;s!==null;)e=s.alternate,e!==null&&Yn(e)===null&&(a=s),s=s.sibling;s=a,s===null?(a=r.child,r.child=null):(a=s.sibling,s.sibling=null),ei(r,!1,a,s,l);break;case"backwards":for(s=null,a=r.child,r.child=null;a!==null;){if(e=a.alternate,e!==null&&Yn(e)===null){r.child=a;break}e=a.sibling,a.sibling=s,s=a,a=e}ei(r,!0,s,null,l);break;case"together":ei(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function la(e,r){(r.mode&1)===0&&e!==null&&(e.alternate=null,r.alternate=null,r.flags|=2)}function Yt(e,r,s){if(e!==null&&(r.dependencies=e.dependencies),zr|=r.lanes,(s&r.childLanes)===0)return null;if(e!==null&&r.child!==e.child)throw Error(c(153));if(r.child!==null){for(e=r.child,s=yr(e,e.pendingProps),r.child=s,s.return=r;e.sibling!==null;)e=e.sibling,s=s.sibling=yr(e,e.pendingProps),s.return=r;s.sibling=null}return r.child}function Kh(e,r,s){switch(r.tag){case 3:rd(r),us();break;case 5:bc(r);break;case 1:dt(r.type)&&On(r);break;case 4:Pl(r,r.stateNode.containerInfo);break;case 10:var n=r.type._context,a=r.memoizedProps.value;De(Jn,n._currentValue),n._currentValue=a;break;case 13:if(n=r.memoizedState,n!==null)return n.dehydrated!==null?(De(Be,Be.current&1),r.flags|=128,null):(s&r.child.childLanes)!==0?nd(e,r,s):(De(Be,Be.current&1),e=Yt(e,r,s),e!==null?e.sibling:null);De(Be,Be.current&1);break;case 19:if(n=(s&r.childLanes)!==0,(e.flags&128)!==0){if(n)return ld(e,r,s);r.flags|=128}if(a=r.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),De(Be,Be.current),n)break;return null;case 22:case 23:return r.lanes=0,Xc(e,r,s)}return Yt(e,r,s)}var id,ti,od,cd;id=function(e,r){for(var s=r.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},ti=function(){},od=function(e,r,s,n){var a=e.memoizedProps;if(a!==n){e=r.stateNode,Fr(Ht.current);var l=null;switch(s){case"input":a=he(e,a),n=he(e,n),l=[];break;case"select":a=K({},a,{value:void 0}),n=K({},n,{value:void 0}),l=[];break;case"textarea":a=Ss(e,a),n=Ss(e,n),l=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Rn)}We(s,n);var o;s=null;for(M in a)if(!n.hasOwnProperty(M)&&a.hasOwnProperty(M)&&a[M]!=null)if(M==="style"){var x=a[M];for(o in x)x.hasOwnProperty(o)&&(s||(s={}),s[o]="")}else M!=="dangerouslySetInnerHTML"&&M!=="children"&&M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&M!=="autoFocus"&&(p.hasOwnProperty(M)?l||(l=[]):(l=l||[]).push(M,null));for(M in n){var f=n[M];if(x=a!=null?a[M]:void 0,n.hasOwnProperty(M)&&f!==x&&(f!=null||x!=null))if(M==="style")if(x){for(o in x)!x.hasOwnProperty(o)||f&&f.hasOwnProperty(o)||(s||(s={}),s[o]="");for(o in f)f.hasOwnProperty(o)&&x[o]!==f[o]&&(s||(s={}),s[o]=f[o])}else s||(l||(l=[]),l.push(M,s)),s=f;else M==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,x=x?x.__html:void 0,f!=null&&x!==f&&(l=l||[]).push(M,f)):M==="children"?typeof f!="string"&&typeof f!="number"||(l=l||[]).push(M,""+f):M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&(p.hasOwnProperty(M)?(f!=null&&M==="onScroll"&&Me("scroll",e),l||x===f||(l=[])):(l=l||[]).push(M,f))}s&&(l=l||[]).push("style",s);var M=l;(r.updateQueue=M)&&(r.flags|=4)}},cd=function(e,r,s,n){s!==n&&(r.flags|=4)};function sn(e,r){if(!ze)switch(e.tailMode){case"hidden":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function at(e){var r=e.alternate!==null&&e.alternate.child===e.child,s=0,n=0;if(r)for(var a=e.child;a!==null;)s|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)s|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=s,r}function Zh(e,r,s){var n=r.pendingProps;switch(Nl(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(r),null;case 1:return dt(r.type)&&In(),at(r),null;case 3:return n=r.stateNode,ps(),Fe(ct),Fe(st),Ll(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Qn(r)?r.flags|=4:e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,zt!==null&&(hi(zt),zt=null))),ti(e,r),at(r),null;case 5:zl(r);var a=Fr(Ys.current);if(s=r.type,e!==null&&r.stateNode!=null)od(e,r,s,n,a),e.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!n){if(r.stateNode===null)throw Error(c(166));return at(r),null}if(e=Fr(Ht.current),Qn(r)){n=r.stateNode,s=r.type;var l=r.memoizedProps;switch(n[Ot]=r,n[Gs]=l,e=(r.mode&1)!==0,s){case"dialog":Me("cancel",n),Me("close",n);break;case"iframe":case"object":case"embed":Me("load",n);break;case"video":case"audio":for(a=0;a<Vs.length;a++)Me(Vs[a],n);break;case"source":Me("error",n);break;case"img":case"image":case"link":Me("error",n),Me("load",n);break;case"details":Me("toggle",n);break;case"input":Re(n,l),Me("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!l.multiple},Me("invalid",n);break;case"textarea":Qr(n,l),Me("invalid",n)}We(s,l),a=null;for(var o in l)if(l.hasOwnProperty(o)){var x=l[o];o==="children"?typeof x=="string"?n.textContent!==x&&(l.suppressHydrationWarning!==!0&&$n(n.textContent,x,e),a=["children",x]):typeof x=="number"&&n.textContent!==""+x&&(l.suppressHydrationWarning!==!0&&$n(n.textContent,x,e),a=["children",""+x]):p.hasOwnProperty(o)&&x!=null&&o==="onScroll"&&Me("scroll",n)}switch(s){case"input":wt(n),Te(n,l,!0);break;case"textarea":wt(n),pn(n);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(n.onclick=Rn)}n=a,r.updateQueue=n,n!==null&&(r.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=fn(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(s,{is:n.is}):(e=o.createElement(s),s==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,s),e[Ot]=r,e[Gs]=n,id(e,r,!1,!1),r.stateNode=e;e:{switch(o=Sr(s,n),s){case"dialog":Me("cancel",e),Me("close",e),a=n;break;case"iframe":case"object":case"embed":Me("load",e),a=n;break;case"video":case"audio":for(a=0;a<Vs.length;a++)Me(Vs[a],e);a=n;break;case"source":Me("error",e),a=n;break;case"img":case"image":case"link":Me("error",e),Me("load",e),a=n;break;case"details":Me("toggle",e),a=n;break;case"input":Re(e,n),a=he(e,n),Me("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=K({},n,{value:void 0}),Me("invalid",e);break;case"textarea":Qr(e,n),a=Ss(e,n),Me("invalid",e);break;default:a=n}We(s,a),x=a;for(l in x)if(x.hasOwnProperty(l)){var f=x[l];l==="style"?Xe(e,f):l==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&gn(e,f)):l==="children"?typeof f=="string"?(s!=="textarea"||f!=="")&&kr(e,f):typeof f=="number"&&kr(e,""+f):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(p.hasOwnProperty(l)?f!=null&&l==="onScroll"&&Me("scroll",e):f!=null&&N(e,l,f,o))}switch(s){case"input":wt(e),Te(e,n,!1);break;case"textarea":wt(e),pn(e);break;case"option":n.value!=null&&e.setAttribute("value",""+je(n.value));break;case"select":e.multiple=!!n.multiple,l=n.value,l!=null?tr(e,!!n.multiple,l,!1):n.defaultValue!=null&&tr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Rn)}switch(s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return at(r),null;case 6:if(e&&r.stateNode!=null)cd(e,r,e.memoizedProps,n);else{if(typeof n!="string"&&r.stateNode===null)throw Error(c(166));if(s=Fr(Ys.current),Fr(Ht.current),Qn(r)){if(n=r.stateNode,s=r.memoizedProps,n[Ot]=r,(l=n.nodeValue!==s)&&(e=gt,e!==null))switch(e.tag){case 3:$n(n.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&$n(n.nodeValue,s,(e.mode&1)!==0)}l&&(r.flags|=4)}else n=(s.nodeType===9?s:s.ownerDocument).createTextNode(n),n[Ot]=r,r.stateNode=n}return at(r),null;case 13:if(Fe(Be),n=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ze&&vt!==null&&(r.mode&1)!==0&&(r.flags&128)===0)hc(),us(),r.flags|=98560,l=!1;else if(l=Qn(r),n!==null&&n.dehydrated!==null){if(e===null){if(!l)throw Error(c(318));if(l=r.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(c(317));l[Ot]=r}else us(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;at(r),l=!1}else zt!==null&&(hi(zt),zt=null),l=!0;if(!l)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=s,r):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(r.child.flags|=8192,(r.mode&1)!==0&&(e===null||(Be.current&1)!==0?Ge===0&&(Ge=3):pi())),r.updateQueue!==null&&(r.flags|=4),at(r),null);case 4:return ps(),ti(e,r),e===null&&Ws(r.stateNode.containerInfo),at(r),null;case 10:return El(r.type._context),at(r),null;case 17:return dt(r.type)&&In(),at(r),null;case 19:if(Fe(Be),l=r.memoizedState,l===null)return at(r),null;if(n=(r.flags&128)!==0,o=l.rendering,o===null)if(n)sn(l,!1);else{if(Ge!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(o=Yn(e),o!==null){for(r.flags|=128,sn(l,!1),n=o.updateQueue,n!==null&&(r.updateQueue=n,r.flags|=4),r.subtreeFlags=0,n=s,s=r.child;s!==null;)l=s,e=n,l.flags&=14680066,o=l.alternate,o===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return De(Be,Be.current&1|2),r.child}e=e.sibling}l.tail!==null&&Ue()>ys&&(r.flags|=128,n=!0,sn(l,!1),r.lanes=4194304)}else{if(!n)if(e=Yn(o),e!==null){if(r.flags|=128,n=!0,s=e.updateQueue,s!==null&&(r.updateQueue=s,r.flags|=4),sn(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!ze)return at(r),null}else 2*Ue()-l.renderingStartTime>ys&&s!==1073741824&&(r.flags|=128,n=!0,sn(l,!1),r.lanes=4194304);l.isBackwards?(o.sibling=r.child,r.child=o):(s=l.last,s!==null?s.sibling=o:r.child=o,l.last=o)}return l.tail!==null?(r=l.tail,l.rendering=r,l.tail=r.sibling,l.renderingStartTime=Ue(),r.sibling=null,s=Be.current,De(Be,n?s&1|2:s&1),r):(at(r),null);case 22:case 23:return xi(),n=r.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(r.flags|=8192),n&&(r.mode&1)!==0?(yt&1073741824)!==0&&(at(r),r.subtreeFlags&6&&(r.flags|=8192)):at(r),null;case 24:return null;case 25:return null}throw Error(c(156,r.tag))}function Yh(e,r){switch(Nl(r),r.tag){case 1:return dt(r.type)&&In(),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return ps(),Fe(ct),Fe(st),Ll(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 5:return zl(r),null;case 13:if(Fe(Be),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(c(340));us()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return Fe(Be),null;case 4:return ps(),null;case 10:return El(r.type._context),null;case 22:case 23:return xi(),null;case 24:return null;default:return null}}var ia=!1,lt=!1,Xh=typeof WeakSet=="function"?WeakSet:Set,le=null;function gs(e,r){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(n){_e(e,r,n)}else s.current=null}function ri(e,r,s){try{s()}catch(n){_e(e,r,n)}}var dd=!1;function em(e,r){if(xl=An,e=Oo(),ll(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var n=s.getSelection&&s.getSelection();if(n&&n.rangeCount!==0){s=n.anchorNode;var a=n.anchorOffset,l=n.focusNode;n=n.focusOffset;try{s.nodeType,l.nodeType}catch{s=null;break e}var o=0,x=-1,f=-1,M=0,W=0,G=e,O=null;t:for(;;){for(var se;G!==s||a!==0&&G.nodeType!==3||(x=o+a),G!==l||n!==0&&G.nodeType!==3||(f=o+n),G.nodeType===3&&(o+=G.nodeValue.length),(se=G.firstChild)!==null;)O=G,G=se;for(;;){if(G===e)break t;if(O===s&&++M===a&&(x=o),O===l&&++W===n&&(f=o),(se=G.nextSibling)!==null)break;G=O,O=G.parentNode}G=se}s=x===-1||f===-1?null:{start:x,end:f}}else s=null}s=s||{start:0,end:0}}else s=null;for(pl={focusedElem:e,selectionRange:s},An=!1,le=r;le!==null;)if(r=le,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,le=e;else for(;le!==null;){r=le;try{var oe=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(oe!==null){var ce=oe.memoizedProps,Ie=oe.memoizedState,A=r.stateNode,y=A.getSnapshotBeforeUpdate(r.elementType===r.type?ce:Bt(r.type,ce),Ie);A.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var E=r.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(c(163))}}catch(q){_e(r,r.return,q)}if(e=r.sibling,e!==null){e.return=r.return,le=e;break}le=r.return}return oe=dd,dd=!1,oe}function nn(e,r,s){var n=r.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var l=a.destroy;a.destroy=void 0,l!==void 0&&ri(r,s,l)}a=a.next}while(a!==n)}}function oa(e,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var n=s.create;s.destroy=n()}s=s.next}while(s!==r)}}function si(e){var r=e.ref;if(r!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof r=="function"?r(e):r.current=e}}function ud(e){var r=e.alternate;r!==null&&(e.alternate=null,ud(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&(delete r[Ot],delete r[Gs],delete r[yl],delete r[Lh],delete r[_h])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function hd(e){return e.tag===5||e.tag===3||e.tag===4}function md(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||hd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ni(e,r,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,r?s.nodeType===8?s.parentNode.insertBefore(e,r):s.insertBefore(e,r):(s.nodeType===8?(r=s.parentNode,r.insertBefore(e,s)):(r=s,r.appendChild(e)),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=Rn));else if(n!==4&&(e=e.child,e!==null))for(ni(e,r,s),e=e.sibling;e!==null;)ni(e,r,s),e=e.sibling}function ai(e,r,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,r?s.insertBefore(e,r):s.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(ai(e,r,s),e=e.sibling;e!==null;)ai(e,r,s),e=e.sibling}var et=null,Lt=!1;function xr(e,r,s){for(s=s.child;s!==null;)xd(e,r,s),s=s.sibling}function xd(e,r,s){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(wn,s)}catch{}switch(s.tag){case 5:lt||gs(s,r);case 6:var n=et,a=Lt;et=null,xr(e,r,s),et=n,Lt=a,et!==null&&(Lt?(e=et,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):et.removeChild(s.stateNode));break;case 18:et!==null&&(Lt?(e=et,s=s.stateNode,e.nodeType===8?vl(e.parentNode,s):e.nodeType===1&&vl(e,s),Ls(e)):vl(et,s.stateNode));break;case 4:n=et,a=Lt,et=s.stateNode.containerInfo,Lt=!0,xr(e,r,s),et=n,Lt=a;break;case 0:case 11:case 14:case 15:if(!lt&&(n=s.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var l=a,o=l.destroy;l=l.tag,o!==void 0&&((l&2)!==0||(l&4)!==0)&&ri(s,r,o),a=a.next}while(a!==n)}xr(e,r,s);break;case 1:if(!lt&&(gs(s,r),n=s.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=s.memoizedProps,n.state=s.memoizedState,n.componentWillUnmount()}catch(x){_e(s,r,x)}xr(e,r,s);break;case 21:xr(e,r,s);break;case 22:s.mode&1?(lt=(n=lt)||s.memoizedState!==null,xr(e,r,s),lt=n):xr(e,r,s);break;default:xr(e,r,s)}}function pd(e){var r=e.updateQueue;if(r!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new Xh),r.forEach(function(n){var a=cm.bind(null,e,n);s.has(n)||(s.add(n),n.then(a,a))})}}function _t(e,r){var s=r.deletions;if(s!==null)for(var n=0;n<s.length;n++){var a=s[n];try{var l=e,o=r,x=o;e:for(;x!==null;){switch(x.tag){case 5:et=x.stateNode,Lt=!1;break e;case 3:et=x.stateNode.containerInfo,Lt=!0;break e;case 4:et=x.stateNode.containerInfo,Lt=!0;break e}x=x.return}if(et===null)throw Error(c(160));xd(l,o,a),et=null,Lt=!1;var f=a.alternate;f!==null&&(f.return=null),a.return=null}catch(M){_e(a,r,M)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)fd(r,e),r=r.sibling}function fd(e,r){var s=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_t(r,e),Wt(e),n&4){try{nn(3,e,e.return),oa(3,e)}catch(ce){_e(e,e.return,ce)}try{nn(5,e,e.return)}catch(ce){_e(e,e.return,ce)}}break;case 1:_t(r,e),Wt(e),n&512&&s!==null&&gs(s,s.return);break;case 5:if(_t(r,e),Wt(e),n&512&&s!==null&&gs(s,s.return),e.flags&32){var a=e.stateNode;try{kr(a,"")}catch(ce){_e(e,e.return,ce)}}if(n&4&&(a=e.stateNode,a!=null)){var l=e.memoizedProps,o=s!==null?s.memoizedProps:l,x=e.type,f=e.updateQueue;if(e.updateQueue=null,f!==null)try{x==="input"&&l.type==="radio"&&l.name!=null&&Ye(a,l),Sr(x,o);var M=Sr(x,l);for(o=0;o<f.length;o+=2){var W=f[o],G=f[o+1];W==="style"?Xe(a,G):W==="dangerouslySetInnerHTML"?gn(a,G):W==="children"?kr(a,G):N(a,W,G,M)}switch(x){case"input":rt(a,l);break;case"textarea":xn(a,l);break;case"select":var O=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var se=l.value;se!=null?tr(a,!!l.multiple,se,!1):O!==!!l.multiple&&(l.defaultValue!=null?tr(a,!!l.multiple,l.defaultValue,!0):tr(a,!!l.multiple,l.multiple?[]:"",!1))}a[Gs]=l}catch(ce){_e(e,e.return,ce)}}break;case 6:if(_t(r,e),Wt(e),n&4){if(e.stateNode===null)throw Error(c(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(ce){_e(e,e.return,ce)}}break;case 3:if(_t(r,e),Wt(e),n&4&&s!==null&&s.memoizedState.isDehydrated)try{Ls(r.containerInfo)}catch(ce){_e(e,e.return,ce)}break;case 4:_t(r,e),Wt(e);break;case 13:_t(r,e),Wt(e),a=e.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(oi=Ue())),n&4&&pd(e);break;case 22:if(W=s!==null&&s.memoizedState!==null,e.mode&1?(lt=(M=lt)||W,_t(r,e),lt=M):_t(r,e),Wt(e),n&8192){if(M=e.memoizedState!==null,(e.stateNode.isHidden=M)&&!W&&(e.mode&1)!==0)for(le=e,W=e.child;W!==null;){for(G=le=W;le!==null;){switch(O=le,se=O.child,O.tag){case 0:case 11:case 14:case 15:nn(4,O,O.return);break;case 1:gs(O,O.return);var oe=O.stateNode;if(typeof oe.componentWillUnmount=="function"){n=O,s=O.return;try{r=n,oe.props=r.memoizedProps,oe.state=r.memoizedState,oe.componentWillUnmount()}catch(ce){_e(n,s,ce)}}break;case 5:gs(O,O.return);break;case 22:if(O.memoizedState!==null){yd(G);continue}}se!==null?(se.return=O,le=se):yd(G)}W=W.sibling}e:for(W=null,G=e;;){if(G.tag===5){if(W===null){W=G;try{a=G.stateNode,M?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(x=G.stateNode,f=G.memoizedProps.style,o=f!=null&&f.hasOwnProperty("display")?f.display:null,x.style.display=Ae("display",o))}catch(ce){_e(e,e.return,ce)}}}else if(G.tag===6){if(W===null)try{G.stateNode.nodeValue=M?"":G.memoizedProps}catch(ce){_e(e,e.return,ce)}}else if((G.tag!==22&&G.tag!==23||G.memoizedState===null||G===e)&&G.child!==null){G.child.return=G,G=G.child;continue}if(G===e)break e;for(;G.sibling===null;){if(G.return===null||G.return===e)break e;W===G&&(W=null),G=G.return}W===G&&(W=null),G.sibling.return=G.return,G=G.sibling}}break;case 19:_t(r,e),Wt(e),n&4&&pd(e);break;case 21:break;default:_t(r,e),Wt(e)}}function Wt(e){var r=e.flags;if(r&2){try{e:{for(var s=e.return;s!==null;){if(hd(s)){var n=s;break e}s=s.return}throw Error(c(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(kr(a,""),n.flags&=-33);var l=md(e);ai(e,l,a);break;case 3:case 4:var o=n.stateNode.containerInfo,x=md(e);ni(e,x,o);break;default:throw Error(c(161))}}catch(f){_e(e,e.return,f)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function tm(e,r,s){le=e,gd(e)}function gd(e,r,s){for(var n=(e.mode&1)!==0;le!==null;){var a=le,l=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||ia;if(!o){var x=a.alternate,f=x!==null&&x.memoizedState!==null||lt;x=ia;var M=lt;if(ia=o,(lt=f)&&!M)for(le=a;le!==null;)o=le,f=o.child,o.tag===22&&o.memoizedState!==null?bd(a):f!==null?(f.return=o,le=f):bd(a);for(;l!==null;)le=l,gd(l),l=l.sibling;le=a,ia=x,lt=M}vd(e)}else(a.subtreeFlags&8772)!==0&&l!==null?(l.return=a,le=l):vd(e)}}function vd(e){for(;le!==null;){var r=le;if((r.flags&8772)!==0){var s=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:lt||oa(5,r);break;case 1:var n=r.stateNode;if(r.flags&4&&!lt)if(s===null)n.componentDidMount();else{var a=r.elementType===r.type?s.memoizedProps:Bt(r.type,s.memoizedProps);n.componentDidUpdate(a,s.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var l=r.updateQueue;l!==null&&yc(r,l,n);break;case 3:var o=r.updateQueue;if(o!==null){if(s=null,r.child!==null)switch(r.child.tag){case 5:s=r.child.stateNode;break;case 1:s=r.child.stateNode}yc(r,o,s)}break;case 5:var x=r.stateNode;if(s===null&&r.flags&4){s=x;var f=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&s.focus();break;case"img":f.src&&(s.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var M=r.alternate;if(M!==null){var W=M.memoizedState;if(W!==null){var G=W.dehydrated;G!==null&&Ls(G)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(c(163))}lt||r.flags&512&&si(r)}catch(O){_e(r,r.return,O)}}if(r===e){le=null;break}if(s=r.sibling,s!==null){s.return=r.return,le=s;break}le=r.return}}function yd(e){for(;le!==null;){var r=le;if(r===e){le=null;break}var s=r.sibling;if(s!==null){s.return=r.return,le=s;break}le=r.return}}function bd(e){for(;le!==null;){var r=le;try{switch(r.tag){case 0:case 11:case 15:var s=r.return;try{oa(4,r)}catch(f){_e(r,s,f)}break;case 1:var n=r.stateNode;if(typeof n.componentDidMount=="function"){var a=r.return;try{n.componentDidMount()}catch(f){_e(r,a,f)}}var l=r.return;try{si(r)}catch(f){_e(r,l,f)}break;case 5:var o=r.return;try{si(r)}catch(f){_e(r,o,f)}}}catch(f){_e(r,r.return,f)}if(r===e){le=null;break}var x=r.sibling;if(x!==null){x.return=r.return,le=x;break}le=r.return}}var rm=Math.ceil,ca=I.ReactCurrentDispatcher,li=I.ReactCurrentOwner,Ct=I.ReactCurrentBatchConfig,ke=0,Ke=null,He=null,tt=0,yt=0,vs=cr(0),Ge=0,an=null,zr=0,da=0,ii=0,ln=null,ht=null,oi=0,ys=1/0,Xt=null,ua=!1,ci=null,pr=null,ha=!1,fr=null,ma=0,on=0,di=null,xa=-1,pa=0;function ot(){return(ke&6)!==0?Ue():xa!==-1?xa:xa=Ue()}function gr(e){return(e.mode&1)===0?1:(ke&2)!==0&&tt!==0?tt&-tt:Rh.transition!==null?(pa===0&&(pa=mo()),pa):(e=Ee,e!==0||(e=window.event,e=e===void 0?16:jo(e.type)),e)}function $t(e,r,s,n){if(50<on)throw on=0,di=null,Error(c(185));Ms(e,s,n),((ke&2)===0||e!==Ke)&&(e===Ke&&((ke&2)===0&&(da|=s),Ge===4&&vr(e,tt)),mt(e,n),s===1&&ke===0&&(r.mode&1)===0&&(ys=Ue()+500,Hn&&ur()))}function mt(e,r){var s=e.callbackNode;Ru(e,r);var n=kn(e,e===Ke?tt:0);if(n===0)s!==null&&co(s),e.callbackNode=null,e.callbackPriority=0;else if(r=n&-n,e.callbackPriority!==r){if(s!=null&&co(s),r===1)e.tag===0?$h(jd.bind(null,e)):ic(jd.bind(null,e)),zh(function(){(ke&6)===0&&ur()}),s=null;else{switch(xo(n)){case 1:s=Ha;break;case 4:s=uo;break;case 16:s=bn;break;case 536870912:s=ho;break;default:s=bn}s=Dd(s,wd.bind(null,e))}e.callbackPriority=r,e.callbackNode=s}}function wd(e,r){if(xa=-1,pa=0,(ke&6)!==0)throw Error(c(327));var s=e.callbackNode;if(bs()&&e.callbackNode!==s)return null;var n=kn(e,e===Ke?tt:0);if(n===0)return null;if((n&30)!==0||(n&e.expiredLanes)!==0||r)r=fa(e,n);else{r=n;var a=ke;ke|=2;var l=kd();(Ke!==e||tt!==r)&&(Xt=null,ys=Ue()+500,Lr(e,r));do try{am();break}catch(x){Nd(e,x)}while(!0);Tl(),ca.current=l,ke=a,He!==null?r=0:(Ke=null,tt=0,r=Ge)}if(r!==0){if(r===2&&(a=Va(e),a!==0&&(n=a,r=ui(e,a))),r===1)throw s=an,Lr(e,0),vr(e,n),mt(e,Ue()),s;if(r===6)vr(e,n);else{if(a=e.current.alternate,(n&30)===0&&!sm(a)&&(r=fa(e,n),r===2&&(l=Va(e),l!==0&&(n=l,r=ui(e,l))),r===1))throw s=an,Lr(e,0),vr(e,n),mt(e,Ue()),s;switch(e.finishedWork=a,e.finishedLanes=n,r){case 0:case 1:throw Error(c(345));case 2:_r(e,ht,Xt);break;case 3:if(vr(e,n),(n&130023424)===n&&(r=oi+500-Ue(),10<r)){if(kn(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){ot(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=gl(_r.bind(null,e,ht,Xt),r);break}_r(e,ht,Xt);break;case 4:if(vr(e,n),(n&4194240)===n)break;for(r=e.eventTimes,a=-1;0<n;){var o=31-Ft(n);l=1<<o,o=r[o],o>a&&(a=o),n&=~l}if(n=a,n=Ue()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*rm(n/1960))-n,10<n){e.timeoutHandle=gl(_r.bind(null,e,ht,Xt),n);break}_r(e,ht,Xt);break;case 5:_r(e,ht,Xt);break;default:throw Error(c(329))}}}return mt(e,Ue()),e.callbackNode===s?wd.bind(null,e):null}function ui(e,r){var s=ln;return e.current.memoizedState.isDehydrated&&(Lr(e,r).flags|=256),e=fa(e,r),e!==2&&(r=ht,ht=s,r!==null&&hi(r)),e}function hi(e){ht===null?ht=e:ht.push.apply(ht,e)}function sm(e){for(var r=e;;){if(r.flags&16384){var s=r.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var n=0;n<s.length;n++){var a=s[n],l=a.getSnapshot;a=a.value;try{if(!Pt(l(),a))return!1}catch{return!1}}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function vr(e,r){for(r&=~ii,r&=~da,e.suspendedLanes|=r,e.pingedLanes&=~r,e=e.expirationTimes;0<r;){var s=31-Ft(r),n=1<<s;e[s]=-1,r&=~n}}function jd(e){if((ke&6)!==0)throw Error(c(327));bs();var r=kn(e,0);if((r&1)===0)return mt(e,Ue()),null;var s=fa(e,r);if(e.tag!==0&&s===2){var n=Va(e);n!==0&&(r=n,s=ui(e,n))}if(s===1)throw s=an,Lr(e,0),vr(e,r),mt(e,Ue()),s;if(s===6)throw Error(c(345));return e.finishedWork=e.current.alternate,e.finishedLanes=r,_r(e,ht,Xt),mt(e,Ue()),null}function mi(e,r){var s=ke;ke|=1;try{return e(r)}finally{ke=s,ke===0&&(ys=Ue()+500,Hn&&ur())}}function Br(e){fr!==null&&fr.tag===0&&(ke&6)===0&&bs();var r=ke;ke|=1;var s=Ct.transition,n=Ee;try{if(Ct.transition=null,Ee=1,e)return e()}finally{Ee=n,Ct.transition=s,ke=r,(ke&6)===0&&ur()}}function xi(){yt=vs.current,Fe(vs)}function Lr(e,r){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Ph(s)),He!==null)for(s=He.return;s!==null;){var n=s;switch(Nl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&In();break;case 3:ps(),Fe(ct),Fe(st),Ll();break;case 5:zl(n);break;case 4:ps();break;case 13:Fe(Be);break;case 19:Fe(Be);break;case 10:El(n.type._context);break;case 22:case 23:xi()}s=s.return}if(Ke=e,He=e=yr(e.current,null),tt=yt=r,Ge=0,an=null,ii=da=zr=0,ht=ln=null,Mr!==null){for(r=0;r<Mr.length;r++)if(s=Mr[r],n=s.interleaved,n!==null){s.interleaved=null;var a=n.next,l=s.pending;if(l!==null){var o=l.next;l.next=a,n.next=o}s.pending=n}Mr=null}return e}function Nd(e,r){do{var s=He;try{if(Tl(),Xn.current=sa,ea){for(var n=Le.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}ea=!1}if(Pr=0,qe=Qe=Le=null,Xs=!1,en=0,li.current=null,s===null||s.return===null){Ge=1,an=r,He=null;break}e:{var l=e,o=s.return,x=s,f=r;if(r=tt,x.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var M=f,W=x,G=W.tag;if((W.mode&1)===0&&(G===0||G===11||G===15)){var O=W.alternate;O?(W.updateQueue=O.updateQueue,W.memoizedState=O.memoizedState,W.lanes=O.lanes):(W.updateQueue=null,W.memoizedState=null)}var se=Jc(o);if(se!==null){se.flags&=-257,qc(se,o,x,l,r),se.mode&1&&Gc(l,M,r),r=se,f=M;var oe=r.updateQueue;if(oe===null){var ce=new Set;ce.add(f),r.updateQueue=ce}else oe.add(f);break e}else{if((r&1)===0){Gc(l,M,r),pi();break e}f=Error(c(426))}}else if(ze&&x.mode&1){var Ie=Jc(o);if(Ie!==null){(Ie.flags&65536)===0&&(Ie.flags|=256),qc(Ie,o,x,l,r),Cl(fs(f,x));break e}}l=f=fs(f,x),Ge!==4&&(Ge=2),ln===null?ln=[l]:ln.push(l),l=o;do{switch(l.tag){case 3:l.flags|=65536,r&=-r,l.lanes|=r;var A=Wc(l,f,r);vc(l,A);break e;case 1:x=f;var y=l.type,E=l.stateNode;if((l.flags&128)===0&&(typeof y.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(pr===null||!pr.has(E)))){l.flags|=65536,r&=-r,l.lanes|=r;var q=Qc(l,x,r);vc(l,q);break e}}l=l.return}while(l!==null)}Cd(s)}catch(ue){r=ue,He===s&&s!==null&&(He=s=s.return);continue}break}while(!0)}function kd(){var e=ca.current;return ca.current=sa,e===null?sa:e}function pi(){(Ge===0||Ge===3||Ge===2)&&(Ge=4),Ke===null||(zr&268435455)===0&&(da&268435455)===0||vr(Ke,tt)}function fa(e,r){var s=ke;ke|=2;var n=kd();(Ke!==e||tt!==r)&&(Xt=null,Lr(e,r));do try{nm();break}catch(a){Nd(e,a)}while(!0);if(Tl(),ke=s,ca.current=n,He!==null)throw Error(c(261));return Ke=null,tt=0,Ge}function nm(){for(;He!==null;)Sd(He)}function am(){for(;He!==null&&!Du();)Sd(He)}function Sd(e){var r=Ed(e.alternate,e,yt);e.memoizedProps=e.pendingProps,r===null?Cd(e):He=r,li.current=null}function Cd(e){var r=e;do{var s=r.alternate;if(e=r.return,(r.flags&32768)===0){if(s=Zh(s,r,yt),s!==null){He=s;return}}else{if(s=Yh(s,r),s!==null){s.flags&=32767,He=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ge=6,He=null;return}}if(r=r.sibling,r!==null){He=r;return}He=r=e}while(r!==null);Ge===0&&(Ge=5)}function _r(e,r,s){var n=Ee,a=Ct.transition;try{Ct.transition=null,Ee=1,lm(e,r,s,n)}finally{Ct.transition=a,Ee=n}return null}function lm(e,r,s,n){do bs();while(fr!==null);if((ke&6)!==0)throw Error(c(327));s=e.finishedWork;var a=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(c(177));e.callbackNode=null,e.callbackPriority=0;var l=s.lanes|s.childLanes;if(Uu(e,l),e===Ke&&(He=Ke=null,tt=0),(s.subtreeFlags&2064)===0&&(s.flags&2064)===0||ha||(ha=!0,Dd(bn,function(){return bs(),null})),l=(s.flags&15990)!==0,(s.subtreeFlags&15990)!==0||l){l=Ct.transition,Ct.transition=null;var o=Ee;Ee=1;var x=ke;ke|=4,li.current=null,em(e,s),fd(s,e),Ch(pl),An=!!xl,pl=xl=null,e.current=s,tm(s),Mu(),ke=x,Ee=o,Ct.transition=l}else e.current=s;if(ha&&(ha=!1,fr=e,ma=a),l=e.pendingLanes,l===0&&(pr=null),zu(s.stateNode),mt(e,Ue()),r!==null)for(n=e.onRecoverableError,s=0;s<r.length;s++)a=r[s],n(a.value,{componentStack:a.stack,digest:a.digest});if(ua)throw ua=!1,e=ci,ci=null,e;return(ma&1)!==0&&e.tag!==0&&bs(),l=e.pendingLanes,(l&1)!==0?e===di?on++:(on=0,di=e):on=0,ur(),null}function bs(){if(fr!==null){var e=xo(ma),r=Ct.transition,s=Ee;try{if(Ct.transition=null,Ee=16>e?16:e,fr===null)var n=!1;else{if(e=fr,fr=null,ma=0,(ke&6)!==0)throw Error(c(331));var a=ke;for(ke|=4,le=e.current;le!==null;){var l=le,o=l.child;if((le.flags&16)!==0){var x=l.deletions;if(x!==null){for(var f=0;f<x.length;f++){var M=x[f];for(le=M;le!==null;){var W=le;switch(W.tag){case 0:case 11:case 15:nn(8,W,l)}var G=W.child;if(G!==null)G.return=W,le=G;else for(;le!==null;){W=le;var O=W.sibling,se=W.return;if(ud(W),W===M){le=null;break}if(O!==null){O.return=se,le=O;break}le=se}}}var oe=l.alternate;if(oe!==null){var ce=oe.child;if(ce!==null){oe.child=null;do{var Ie=ce.sibling;ce.sibling=null,ce=Ie}while(ce!==null)}}le=l}}if((l.subtreeFlags&2064)!==0&&o!==null)o.return=l,le=o;else e:for(;le!==null;){if(l=le,(l.flags&2048)!==0)switch(l.tag){case 0:case 11:case 15:nn(9,l,l.return)}var A=l.sibling;if(A!==null){A.return=l.return,le=A;break e}le=l.return}}var y=e.current;for(le=y;le!==null;){o=le;var E=o.child;if((o.subtreeFlags&2064)!==0&&E!==null)E.return=o,le=E;else e:for(o=y;le!==null;){if(x=le,(x.flags&2048)!==0)try{switch(x.tag){case 0:case 11:case 15:oa(9,x)}}catch(ue){_e(x,x.return,ue)}if(x===o){le=null;break e}var q=x.sibling;if(q!==null){q.return=x.return,le=q;break e}le=x.return}}if(ke=a,ur(),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(wn,e)}catch{}n=!0}return n}finally{Ee=s,Ct.transition=r}}return!1}function Ad(e,r,s){r=fs(s,r),r=Wc(e,r,1),e=mr(e,r,1),r=ot(),e!==null&&(Ms(e,1,r),mt(e,r))}function _e(e,r,s){if(e.tag===3)Ad(e,e,s);else for(;r!==null;){if(r.tag===3){Ad(r,e,s);break}else if(r.tag===1){var n=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(pr===null||!pr.has(n))){e=fs(s,e),e=Qc(r,e,1),r=mr(r,e,1),e=ot(),r!==null&&(Ms(r,1,e),mt(r,e));break}}r=r.return}}function im(e,r,s){var n=e.pingCache;n!==null&&n.delete(r),r=ot(),e.pingedLanes|=e.suspendedLanes&s,Ke===e&&(tt&s)===s&&(Ge===4||Ge===3&&(tt&130023424)===tt&&500>Ue()-oi?Lr(e,0):ii|=s),mt(e,r)}function Td(e,r){r===0&&((e.mode&1)===0?r=1:(r=Nn,Nn<<=1,(Nn&130023424)===0&&(Nn=4194304)));var s=ot();e=Kt(e,r),e!==null&&(Ms(e,r,s),mt(e,s))}function om(e){var r=e.memoizedState,s=0;r!==null&&(s=r.retryLane),Td(e,s)}function cm(e,r){var s=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(s=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(c(314))}n!==null&&n.delete(r),Td(e,s)}var Ed;Ed=function(e,r,s){if(e!==null)if(e.memoizedProps!==r.pendingProps||ct.current)ut=!0;else{if((e.lanes&s)===0&&(r.flags&128)===0)return ut=!1,Kh(e,r,s);ut=(e.flags&131072)!==0}else ut=!1,ze&&(r.flags&1048576)!==0&&oc(r,Wn,r.index);switch(r.lanes=0,r.tag){case 2:var n=r.type;la(e,r),e=r.pendingProps;var a=os(r,st.current);xs(r,s),a=Rl(null,r,n,e,a,s);var l=Ul();return r.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,dt(n)?(l=!0,On(r)):l=!1,r.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Fl(r),a.updater=na,r.stateNode=a,a._reactInternals=r,Ql(r,n,e,s),r=Kl(null,r,n,!0,l,s)):(r.tag=0,ze&&l&&jl(r),it(null,r,a,s),r=r.child),r;case 16:n=r.elementType;e:{switch(la(e,r),e=r.pendingProps,a=n._init,n=a(n._payload),r.type=n,a=r.tag=um(n),e=Bt(n,e),a){case 0:r=ql(null,r,n,e,s);break e;case 1:r=td(null,r,n,e,s);break e;case 11:r=Kc(null,r,n,e,s);break e;case 14:r=Zc(null,r,n,Bt(n.type,e),s);break e}throw Error(c(306,n,""))}return r;case 0:return n=r.type,a=r.pendingProps,a=r.elementType===n?a:Bt(n,a),ql(e,r,n,a,s);case 1:return n=r.type,a=r.pendingProps,a=r.elementType===n?a:Bt(n,a),td(e,r,n,a,s);case 3:e:{if(rd(r),e===null)throw Error(c(387));n=r.pendingProps,l=r.memoizedState,a=l.element,gc(e,r),Zn(r,n,null,s);var o=r.memoizedState;if(n=o.element,l.isDehydrated)if(l={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},r.updateQueue.baseState=l,r.memoizedState=l,r.flags&256){a=fs(Error(c(423)),r),r=sd(e,r,n,s,a);break e}else if(n!==a){a=fs(Error(c(424)),r),r=sd(e,r,n,s,a);break e}else for(vt=or(r.stateNode.containerInfo.firstChild),gt=r,ze=!0,zt=null,s=pc(r,null,n,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(us(),n===a){r=Yt(e,r,s);break e}it(e,r,n,s)}r=r.child}return r;case 5:return bc(r),e===null&&Sl(r),n=r.type,a=r.pendingProps,l=e!==null?e.memoizedProps:null,o=a.children,fl(n,a)?o=null:l!==null&&fl(n,l)&&(r.flags|=32),ed(e,r),it(e,r,o,s),r.child;case 6:return e===null&&Sl(r),null;case 13:return nd(e,r,s);case 4:return Pl(r,r.stateNode.containerInfo),n=r.pendingProps,e===null?r.child=hs(r,null,n,s):it(e,r,n,s),r.child;case 11:return n=r.type,a=r.pendingProps,a=r.elementType===n?a:Bt(n,a),Kc(e,r,n,a,s);case 7:return it(e,r,r.pendingProps,s),r.child;case 8:return it(e,r,r.pendingProps.children,s),r.child;case 12:return it(e,r,r.pendingProps.children,s),r.child;case 10:e:{if(n=r.type._context,a=r.pendingProps,l=r.memoizedProps,o=a.value,De(Jn,n._currentValue),n._currentValue=o,l!==null)if(Pt(l.value,o)){if(l.children===a.children&&!ct.current){r=Yt(e,r,s);break e}}else for(l=r.child,l!==null&&(l.return=r);l!==null;){var x=l.dependencies;if(x!==null){o=l.child;for(var f=x.firstContext;f!==null;){if(f.context===n){if(l.tag===1){f=Zt(-1,s&-s),f.tag=2;var M=l.updateQueue;if(M!==null){M=M.shared;var W=M.pending;W===null?f.next=f:(f.next=W.next,W.next=f),M.pending=f}}l.lanes|=s,f=l.alternate,f!==null&&(f.lanes|=s),Dl(l.return,s,r),x.lanes|=s;break}f=f.next}}else if(l.tag===10)o=l.type===r.type?null:l.child;else if(l.tag===18){if(o=l.return,o===null)throw Error(c(341));o.lanes|=s,x=o.alternate,x!==null&&(x.lanes|=s),Dl(o,s,r),o=l.sibling}else o=l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===r){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}it(e,r,a.children,s),r=r.child}return r;case 9:return a=r.type,n=r.pendingProps.children,xs(r,s),a=kt(a),n=n(a),r.flags|=1,it(e,r,n,s),r.child;case 14:return n=r.type,a=Bt(n,r.pendingProps),a=Bt(n.type,a),Zc(e,r,n,a,s);case 15:return Yc(e,r,r.type,r.pendingProps,s);case 17:return n=r.type,a=r.pendingProps,a=r.elementType===n?a:Bt(n,a),la(e,r),r.tag=1,dt(n)?(e=!0,On(r)):e=!1,xs(r,s),Hc(r,n,a),Ql(r,n,a,s),Kl(null,r,n,!0,e,s);case 19:return ld(e,r,s);case 22:return Xc(e,r,s)}throw Error(c(156,r.tag))};function Dd(e,r){return oo(e,r)}function dm(e,r,s,n){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function At(e,r,s,n){return new dm(e,r,s,n)}function fi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function um(e){if(typeof e=="function")return fi(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ye)return 11;if(e===X)return 14}return 2}function yr(e,r){var s=e.alternate;return s===null?(s=At(e.tag,r,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=r,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,r=e.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function ga(e,r,s,n,a,l){var o=2;if(n=e,typeof e=="function")fi(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Y:return $r(s.children,a,l,r);case ne:o=8,a|=8;break;case U:return e=At(12,s,r,a|2),e.elementType=U,e.lanes=l,e;case L:return e=At(13,s,r,a),e.elementType=L,e.lanes=l,e;case Q:return e=At(19,s,r,a),e.elementType=Q,e.lanes=l,e;case ee:return va(s,a,l,r);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case de:o=10;break e;case pe:o=9;break e;case ye:o=11;break e;case X:o=14;break e;case P:o=16,n=null;break e}throw Error(c(130,e==null?e:typeof e,""))}return r=At(o,s,r,a),r.elementType=e,r.type=n,r.lanes=l,r}function $r(e,r,s,n){return e=At(7,e,n,r),e.lanes=s,e}function va(e,r,s,n){return e=At(22,e,n,r),e.elementType=ee,e.lanes=s,e.stateNode={isHidden:!1},e}function gi(e,r,s){return e=At(6,e,null,r),e.lanes=s,e}function vi(e,r,s){return r=At(4,e.children!==null?e.children:[],e.key,r),r.lanes=s,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}function hm(e,r,s,n,a){this.tag=r,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wa(0),this.expirationTimes=Wa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wa(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function yi(e,r,s,n,a,l,o,x,f){return e=new hm(e,r,s,x,f),r===1?(r=1,l===!0&&(r|=8)):r=0,l=At(3,null,null,r),e.current=l,l.stateNode=e,l.memoizedState={element:n,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fl(l),e}function mm(e,r,s){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:H,key:n==null?null:""+n,children:e,containerInfo:r,implementation:s}}function Md(e){if(!e)return dr;e=e._reactInternals;e:{if(Cr(e)!==e||e.tag!==1)throw Error(c(170));var r=e;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(dt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(c(171))}if(e.tag===1){var s=e.type;if(dt(s))return ac(e,s,r)}return r}function Fd(e,r,s,n,a,l,o,x,f){return e=yi(s,n,!0,e,a,l,o,x,f),e.context=Md(null),s=e.current,n=ot(),a=gr(s),l=Zt(n,a),l.callback=r??null,mr(s,l,a),e.current.lanes=a,Ms(e,a,n),mt(e,n),e}function ya(e,r,s,n){var a=r.current,l=ot(),o=gr(a);return s=Md(s),r.context===null?r.context=s:r.pendingContext=s,r=Zt(l,o),r.payload={element:e},n=n===void 0?null:n,n!==null&&(r.callback=n),e=mr(a,r,o),e!==null&&($t(e,a,o,l),Kn(e,a,o)),o}function ba(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Pd(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<r?s:r}}function bi(e,r){Pd(e,r),(e=e.alternate)&&Pd(e,r)}function xm(){return null}var zd=typeof reportError=="function"?reportError:function(e){console.error(e)};function wi(e){this._internalRoot=e}wa.prototype.render=wi.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(c(409));ya(e,r,null,null)},wa.prototype.unmount=wi.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;Br(function(){ya(null,e,null,null)}),r[Qt]=null}};function wa(e){this._internalRoot=e}wa.prototype.unstable_scheduleHydration=function(e){if(e){var r=go();e={blockedOn:null,target:e,priority:r};for(var s=0;s<ar.length&&r!==0&&r<ar[s].priority;s++);ar.splice(s,0,e),s===0&&bo(e)}};function ji(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ja(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Bd(){}function pm(e,r,s,n,a){if(a){if(typeof n=="function"){var l=n;n=function(){var M=ba(o);l.call(M)}}var o=Fd(r,n,e,0,null,!1,!1,"",Bd);return e._reactRootContainer=o,e[Qt]=o.current,Ws(e.nodeType===8?e.parentNode:e),Br(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var x=n;n=function(){var M=ba(f);x.call(M)}}var f=yi(e,0,!1,null,null,!1,!1,"",Bd);return e._reactRootContainer=f,e[Qt]=f.current,Ws(e.nodeType===8?e.parentNode:e),Br(function(){ya(r,f,s,n)}),f}function Na(e,r,s,n,a){var l=s._reactRootContainer;if(l){var o=l;if(typeof a=="function"){var x=a;a=function(){var f=ba(o);x.call(f)}}ya(r,o,e,a)}else o=pm(s,r,e,a,n);return ba(o)}po=function(e){switch(e.tag){case 3:var r=e.stateNode;if(r.current.memoizedState.isDehydrated){var s=Ds(r.pendingLanes);s!==0&&(Qa(r,s|1),mt(r,Ue()),(ke&6)===0&&(ys=Ue()+500,ur()))}break;case 13:Br(function(){var n=Kt(e,1);if(n!==null){var a=ot();$t(n,e,1,a)}}),bi(e,1)}},Ga=function(e){if(e.tag===13){var r=Kt(e,134217728);if(r!==null){var s=ot();$t(r,e,134217728,s)}bi(e,134217728)}},fo=function(e){if(e.tag===13){var r=gr(e),s=Kt(e,r);if(s!==null){var n=ot();$t(s,e,r,n)}bi(e,r)}},go=function(){return Ee},vo=function(e,r){var s=Ee;try{return Ee=e,r()}finally{Ee=s}},Kr=function(e,r,s){switch(r){case"input":if(rt(e,s),r=s.name,s.type==="radio"&&r!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<s.length;r++){var n=s[r];if(n!==e&&n.form===e.form){var a=Un(n);if(!a)throw Error(c(90));Nr(n),rt(n,a)}}}break;case"textarea":xn(e,s);break;case"select":r=s.value,r!=null&&tr(e,!!s.multiple,r,!1)}},to=mi,ro=Br;var fm={usingClientEntryPoint:!1,Events:[Js,ls,Un,Xi,eo,mi]},cn={findFiberByHostInstance:Ar,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gm={bundleType:cn.bundleType,version:cn.version,rendererPackageName:cn.rendererPackageName,rendererConfig:cn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=lo(e),e===null?null:e.stateNode},findFiberByHostInstance:cn.findFiberByHostInstance||xm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ka=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ka.isDisabled&&ka.supportsFiber)try{wn=ka.inject(gm),It=ka}catch{}}return xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fm,xt.createPortal=function(e,r){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ji(r))throw Error(c(200));return mm(e,r,null,s)},xt.createRoot=function(e,r){if(!ji(e))throw Error(c(299));var s=!1,n="",a=zd;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(n=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),r=yi(e,1,!1,null,null,s,!1,n,a),e[Qt]=r.current,Ws(e.nodeType===8?e.parentNode:e),new wi(r)},xt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=lo(r),e=e===null?null:e.stateNode,e},xt.flushSync=function(e){return Br(e)},xt.hydrate=function(e,r,s){if(!ja(r))throw Error(c(200));return Na(null,e,r,!0,s)},xt.hydrateRoot=function(e,r,s){if(!ji(e))throw Error(c(405));var n=s!=null&&s.hydratedSources||null,a=!1,l="",o=zd;if(s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onRecoverableError!==void 0&&(o=s.onRecoverableError)),r=Fd(r,null,e,1,s??null,a,!1,l,o),e[Qt]=r.current,Ws(e),n)for(e=0;e<n.length;e++)s=n[e],a=s._getVersion,a=a(s._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[s,a]:r.mutableSourceEagerHydrationData.push(s,a);return new wa(r)},xt.render=function(e,r,s){if(!ja(r))throw Error(c(200));return Na(null,e,r,!1,s)},xt.unmountComponentAtNode=function(e){if(!ja(e))throw Error(c(40));return e._reactRootContainer?(Br(function(){Na(null,null,e,!1,function(){e._reactRootContainer=null,e[Qt]=null})}),!0):!1},xt.unstable_batchedUpdates=mi,xt.unstable_renderSubtreeIntoContainer=function(e,r,s,n){if(!ja(s))throw Error(c(200));if(e==null||e._reactInternals===void 0)throw Error(c(38));return Na(e,r,s,!1,n)},xt.version="18.3.1-next-f1338f8080-20240426",xt}var Hd;function Cm(){if(Hd)return Si.exports;Hd=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(d){console.error(d)}}return i(),Si.exports=Sm(),Si.exports}var Vd;function Am(){if(Vd)return Sa;Vd=1;var i=Cm();return Sa.createRoot=i.createRoot,Sa.hydrateRoot=i.hydrateRoot,Sa}var Tm=Am();const Em=lu(Tm);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),iu=(...i)=>i.filter((d,c,g)=>!!d&&d.trim()!==""&&g.indexOf(d)===c).join(" ").trim();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Mm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=h.forwardRef(({color:i="currentColor",size:d=24,strokeWidth:c=2,absoluteStrokeWidth:g,className:p="",children:b,iconNode:j,...S},v)=>h.createElement("svg",{ref:v,...Mm,width:d,height:d,stroke:i,strokeWidth:g?Number(c)*24/Number(d):c,className:iu("lucide",p),...S},[...j.map(([C,m])=>h.createElement(C,m)),...Array.isArray(b)?b:[b]]));/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=(i,d)=>{const c=h.forwardRef(({className:g,...p},b)=>h.createElement(Fm,{ref:b,iconNode:d,className:iu(`lucide-${Dm(i)}`,g),...p}));return c.displayName=`${i}`,c};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ou=Z("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=Z("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=Z("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=Z("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cu=Z("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=Z("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=Z("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=Z("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=Z("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const du=Z("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=Z("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=Z("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=Z("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=Z("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=Z("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=Z("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=Z("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=Z("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=Z("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=Z("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=Z("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=Z("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=Z("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=Z("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=Z("Disc",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=Z("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=Z("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=Z("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=Z("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=Z("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=Z("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=Z("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=Z("FolderArchive",[["circle",{cx:"15",cy:"19",r:"2",key:"u2pros"}],["path",{d:"M20.9 19.8A2 2 0 0 0 22 18V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2h5.1",key:"1jj40k"}],["path",{d:"M15 11v-1",key:"cntcp"}],["path",{d:"M15 17v-2",key:"1279jj"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=Z("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=Z("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=Z("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=Z("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=Z("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=Z("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=Z("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=Z("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=Z("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=Z("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=Z("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=Z("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=Z("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=Z("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=Z("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=Z("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=Z("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=Z("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=Z("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=Z("Music2",[["circle",{cx:"8",cy:"18",r:"4",key:"1fc0mg"}],["path",{d:"M12 18V2l7 4",key:"g04rme"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=Z("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=Z("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=Z("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=Z("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=Z("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gd=Z("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=Z("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=Z("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=Z("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jd=Z("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=Z("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=Z("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=Z("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=Z("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=Z("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=Z("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=Z("SlidersVertical",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=Z("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=Z("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=Z("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=Z("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=Z("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=Z("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=Z("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=Z("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=Z("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=Z("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=Z("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zi=Z("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=Z("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=Z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=Z("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),hx=["1A","2A","3A","4A","5A","6A","7A","8A","9A","10A","11A","12A","1B","2B","3B","4B","5B","6B","7B","8B","9B","10B","11B","12B"];function mx({onSearchFocus:i,onSearchChange:d,searchQuery:c,onSubscribe:g,showTonalityButton:p,activeTonality:b,onTonalityChange:j}){const[S,v]=h.useState(!1),C=()=>{v(!0),i==null||i(!0)},m=()=>{v(!1)},T=F=>{d==null||d(F.target.value)};return t.jsx("div",{className:"fixed top-0 left-0 right-0 z-40 bg-black border-b border-white/10",children:t.jsxs("div",{className:"w-full flex items-center justify-between h-14 md:h-16 px-3 md:px-8",children:[t.jsx("div",{className:"flex items-center flex-shrink-0",children:t.jsx("img",{src:"/images/ToDoDjs_Logo.png",alt:"TODODJS",className:"h-8 md:h-[50px] w-auto"})}),t.jsx("div",{className:"flex-1 max-w-xl mx-2 md:mx-8",children:t.jsxs("div",{className:`relative transition-all duration-300 ${S?"scale-[1.02]":""}`,children:[t.jsx(mn,{className:`absolute left-3 md:left-4 top-1/2 -translate-y-1/2 w-4 h-4 transition-colors duration-300 ${S?"text-accent":"text-white/40"}`,strokeWidth:2}),t.jsx("input",{type:"text",value:c,placeholder:"Search tracks...",onFocus:C,onBlur:m,onChange:T,className:`w-full h-9 md:h-11 pl-9 md:pl-11 pr-3 md:pr-4 bg-white/5 border rounded-full text-xs md:text-sm text-white placeholder-white/30 outline-none transition-all duration-300 ${S?"border-accent/60 bg-white/10 shadow-lg shadow-accent/20":"border-white/10 hover:border-white/20 hover:bg-white/8"}`})]})}),t.jsxs("div",{className:"flex items-center gap-2 md:gap-3 flex-shrink-0",children:[p&&t.jsxs("div",{className:"hidden sm:flex items-center gap-2 px-3 md:px-4 py-2 md:py-2.5 rounded-full bg-white/[0.08] hover:bg-white/[0.12] border border-white/20 hover:border-white/40 transition-all duration-200 shadow-lg animate-in fade-in slide-in-from-top duration-300",children:[t.jsx(pu,{className:"w-4 h-4 text-white/80",strokeWidth:2}),t.jsxs("select",{value:b,onChange:F=>j==null?void 0:j(F.target.value),className:"bg-transparent text-white text-xs md:text-sm font-semibold focus:outline-none cursor-pointer appearance-none pr-2",style:{textAlign:"center",textAlignLast:"center"},children:[t.jsx("option",{value:"all",className:"bg-dark-elevated text-white text-center",children:"All Tonalities"}),hx.map(F=>t.jsx("option",{value:F,className:"bg-dark-elevated text-white text-center",children:F},F))]})]}),t.jsxs("button",{onClick:()=>g==null?void 0:g(),className:"flex items-center gap-1.5 md:gap-2 px-3 md:px-5 py-2 md:py-2.5 rounded-full bg-accent hover:bg-accent-hover transition-all duration-200 hover:scale-105 text-xs md:text-sm font-semibold text-white shadow-lg shadow-accent/30",children:[t.jsx($a,{className:"w-3.5 h-3.5 md:w-4 md:h-4",strokeWidth:2}),t.jsx("span",{className:"hidden sm:inline",children:"Subscribe"})]})]})]})})}function xx({activePage:i="home",onNavigate:d,onAdminClick:c,user:g,onLoginClick:p,onLogout:b}){var S,v;const j=[{id:"home",label:"Home",icon:Gi},{id:"library",label:"Library",icon:Zm},{id:"album",label:"Record Pool",icon:bt},{id:"mashup",label:"Mash Ups",icon:qm}];return t.jsxs(t.Fragment,{children:[t.jsxs("aside",{className:"hidden md:flex fixed left-0 top-16 h-[calc(100vh-4rem)] w-20 bg-dark-surface/80 backdrop-blur-xl border-r border-white/5 z-30 flex-col items-center py-8",children:[t.jsx("nav",{className:"flex-1 flex flex-col gap-6",children:j.map(C=>{const m=C.icon,T=i===C.id;return t.jsxs("button",{onClick:()=>d==null?void 0:d(C.id),className:`group relative flex flex-col items-center gap-1.5 transition-all duration-300 ${T?"scale-100":"scale-90 hover:scale-100"}`,children:[T&&t.jsx("div",{className:"absolute -left-8 top-1/2 -translate-y-1/2 w-1 h-8 bg-accent rounded-r-full"}),t.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center transition-all duration-300 ${T?"bg-accent shadow-lg shadow-accent/30":"bg-dark-elevated/50 group-hover:bg-dark-elevated group-hover:shadow-md"}`,children:t.jsx(m,{className:`w-5 h-5 transition-colors duration-300 ${T?"text-white":"text-brand-text-tertiary group-hover:text-white"}`,strokeWidth:2})}),t.jsx("span",{className:`text-[10px] font-medium transition-colors duration-300 ${T?"text-white":"text-brand-text-tertiary group-hover:text-brand-text-secondary"}`,children:C.label})]},C.id)})}),t.jsxs("div",{className:"mt-auto space-y-4",children:[g&&g.role==="admin"&&t.jsxs("button",{onClick:()=>c==null?void 0:c(),className:"group relative flex flex-col items-center gap-1.5 transition-all duration-300 hover:scale-105",title:"Admin Dashboard",children:[t.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center transition-all duration-300 bg-gradient-to-br from-red-500 to-pink-500 hover:shadow-lg hover:shadow-red-500/30",children:t.jsx(er,{className:"w-5 h-5 text-white",strokeWidth:2})}),t.jsx("span",{className:"text-[10px] font-medium text-brand-text-tertiary group-hover:text-brand-text-secondary transition-colors duration-300",children:"Admin"})]}),g?t.jsxs("div",{className:"relative group",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-accent to-accent-hover overflow-hidden border-2 border-white/10 hover:border-accent transition-all duration-300 cursor-pointer mx-auto flex items-center justify-center",children:g.avatar?t.jsx("img",{src:g.avatar,alt:g.name,className:"w-full h-full object-cover"}):t.jsx("span",{className:"text-white font-bold text-sm",children:(S=g.name)==null?void 0:S.charAt(0).toUpperCase()})}),t.jsxs("button",{onClick:b,className:"absolute -right-14 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-dark-elevated px-3 py-1.5 rounded-lg text-xs font-medium text-brand-text-tertiary hover:text-white whitespace-nowrap flex items-center gap-1",children:[t.jsx(Ym,{size:14}),"Logout"]})]}):t.jsxs("button",{onClick:p,className:"group relative flex flex-col items-center gap-1.5 transition-all duration-300 hover:scale-105",title:"Login",children:[t.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center transition-all duration-300 bg-dark-elevated/50 hover:bg-accent hover:shadow-lg hover:shadow-accent/30",children:t.jsx(Ii,{className:"w-5 h-5 text-brand-text-tertiary group-hover:text-white transition-colors",strokeWidth:2})}),t.jsx("span",{className:"text-[10px] font-medium text-brand-text-tertiary group-hover:text-brand-text-secondary transition-colors duration-300",children:"Login"})]})]})]}),t.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 z-40 bg-dark-surface/95 backdrop-blur-xl border-t border-white/10 safe-area-bottom",children:t.jsxs("div",{className:"flex items-center justify-around px-2 py-1.5",children:[j.map(C=>{const m=C.icon,T=i===C.id;return t.jsxs("button",{onClick:()=>d==null?void 0:d(C.id),className:"flex flex-col items-center gap-0.5 py-1 px-3 min-w-[60px]",children:[t.jsx("div",{className:`w-9 h-9 rounded-xl flex items-center justify-center transition-all duration-200 ${T?"bg-accent shadow-md shadow-accent/30":""}`,children:t.jsx(m,{className:`w-5 h-5 transition-colors duration-200 ${T?"text-white":"text-brand-text-tertiary"}`,strokeWidth:2})}),t.jsx("span",{className:`text-[9px] font-medium transition-colors duration-200 ${T?"text-white":"text-brand-text-tertiary"}`,children:C.label})]},C.id)}),g&&g.role==="admin"&&t.jsxs("button",{onClick:()=>c==null?void 0:c(),className:"flex flex-col items-center gap-0.5 py-1 px-3 min-w-[60px]",children:[t.jsx("div",{className:"w-9 h-9 rounded-xl flex items-center justify-center bg-gradient-to-br from-red-500 to-pink-500",children:t.jsx(er,{className:"w-5 h-5 text-white",strokeWidth:2})}),t.jsx("span",{className:"text-[9px] font-medium text-brand-text-tertiary",children:"Admin"})]}),g?t.jsxs("button",{onClick:b,className:"flex flex-col items-center gap-0.5 py-1 px-3 min-w-[60px]",children:[t.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-accent to-accent-hover overflow-hidden border border-white/10 flex items-center justify-center",children:g.avatar?t.jsx("img",{src:g.avatar,alt:g.name,className:"w-full h-full object-cover"}):t.jsx("span",{className:"text-white font-bold text-[10px]",children:(v=g.name)==null?void 0:v.charAt(0).toUpperCase()})}),t.jsx("span",{className:"text-[9px] font-medium text-brand-text-tertiary",children:"Profile"})]}):t.jsxs("button",{onClick:p,className:"flex flex-col items-center gap-0.5 py-1 px-3 min-w-[60px]",children:[t.jsx("div",{className:"w-9 h-9 rounded-xl flex items-center justify-center",children:t.jsx(Ii,{className:"w-5 h-5 text-brand-text-tertiary",strokeWidth:2})}),t.jsx("span",{className:"text-[9px] font-medium text-brand-text-tertiary",children:"Login"})]})]})})]})}function px(i){let d=0;for(let c=0;c<i.length;c++){const g=i.charCodeAt(c);d=(d<<5)-d+g,d|=0}return Math.abs(d)}const qd=["from-violet-600 via-purple-500 to-fuchsia-500","from-blue-600 via-cyan-500 to-teal-400","from-rose-600 via-pink-500 to-orange-400","from-emerald-600 via-green-500 to-lime-400","from-amber-600 via-orange-500 to-red-400","from-indigo-600 via-blue-500 to-sky-400","from-fuchsia-600 via-pink-500 to-rose-400","from-teal-600 via-cyan-500 to-blue-400","from-orange-600 via-amber-500 to-yellow-400","from-sky-600 via-indigo-500 to-purple-400"];function Oi({title:i="",artist:d="",className:c="",size:g="md"}){const p=px(`${i}${d}`),b=qd[p%qd.length],j=p%360,S={sm:"w-10 h-10",md:"w-14 h-14",lg:"w-24 h-24",xl:"w-48 h-48",full:"w-full h-full"},v={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-8 h-8",xl:"w-12 h-12",full:"w-10 h-10"},C=(i||d||"M").charAt(0).toUpperCase();return t.jsxs("div",{className:`${S[g]||S.md} ${c} relative overflow-hidden rounded-lg`,children:[t.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${b}`}),t.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`conic-gradient(from ${j}deg, transparent 0%, rgba(255,255,255,0.1) 25%, transparent 50%, rgba(255,255,255,0.05) 75%, transparent 100%)`}}),t.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[t.jsx($e,{className:`${v[g]||v.md} text-white/40 mb-0.5`}),t.jsx("span",{className:"text-white/50 text-[8px] font-bold tracking-wider uppercase truncate max-w-[80%] px-1",children:C})]})]})}const fx=i=>({House:"bg-blue-500/20 text-blue-300 border border-blue-500/30","Deep House":"bg-blue-600/20 text-blue-400 border border-blue-600/30",Techno:"bg-purple-500/20 text-purple-300 border border-purple-500/30",Trance:"bg-pink-500/20 text-pink-300 border border-pink-500/30",Dubstep:"bg-red-500/20 text-red-300 border border-red-500/30",Electro:"bg-cyan-500/20 text-cyan-300 border border-cyan-500/30",Synthwave:"bg-fuchsia-500/20 text-fuchsia-300 border border-fuchsia-500/30",Jazz:"bg-amber-500/20 text-amber-300 border border-amber-500/30",Chill:"bg-green-500/20 text-green-300 border border-green-500/30",Ambient:"bg-indigo-500/20 text-indigo-300 border border-indigo-500/30","Hip-Hop":"bg-orange-500/20 text-orange-300 border border-orange-500/30",Lounge:"bg-teal-500/20 text-teal-300 border border-teal-500/30","Electro Swing":"bg-yellow-500/20 text-yellow-300 border border-yellow-500/30"})[i]||"bg-gray-500/20 text-gray-300 border border-gray-500/30",Kd=i=>({"1A":"#63E6E2","2A":"#86F0B0","3A":"#B7F36A","4A":"#FFE066","5A":"#FFB86B","6A":"#FF8B7A","7A":"#FF7CB7","8A":"#E8A7FF","9A":"#C9B6FF","10A":"#A7C8FF","11A":"#8EE1FF","12A":"#6DF3D0","1B":"#27D8D3","2B":"#34D27A","3B":"#8CD317","4B":"#FFC107","5B":"#FF9B4A","6B":"#FF6B6B","7B":"#FF4DA6","8B":"#C86BFA","9B":"#9B7CFF","10B":"#6B8CFF","11B":"#4DD8FF","12B":"#13D6B2"})[i]||"#FFFFFF";function Ra({tracks:i,onTrackInteraction:d}){const[c,g]=h.useState(null),[p,b]=h.useState(!1),[j,S]=h.useState(new Set),v=m=>{c===m.id?(b(!p),d==null||d("play",m)):(g(m.id),b(!0),d==null||d("play",m))},C=m=>{S(T=>{const F=new Set(T);return F.has(m)?F.delete(m):F.add(m),F})};return t.jsxs("div",{className:"px-3 md:px-6 lg:px-10",children:[t.jsx("div",{className:"md:hidden space-y-2 py-2",children:i.map((m,T)=>{const F=c===m.id&&p,B=j.has(m.id);return t.jsxs("div",{className:"bg-dark-elevated/40 rounded-xl border border-white/[0.04] overflow-hidden animate-in fade-in",style:{animationDelay:`${T*15}ms`,animationDuration:"250ms"},children:[t.jsxs("div",{className:"flex items-center gap-3 p-3",children:[t.jsxs("div",{className:"w-14 h-14 rounded-lg overflow-hidden flex-shrink-0 bg-dark-elevated relative cursor-pointer",onClick:()=>v(m),children:[m.coverArt?t.jsx("img",{src:m.coverArt,alt:m.title,className:"w-full h-full object-cover",onError:D=>{D.target.style.display="none",D.target.nextSibling&&(D.target.nextSibling.style.display="flex")}}):null,t.jsx("div",{style:{display:m.coverArt?"none":"block"},children:t.jsx(Oi,{title:m.title,artist:m.artist,size:"md"})}),t.jsx("div",{className:`absolute inset-0 bg-black/40 flex items-center justify-center transition-opacity duration-200 ${F?"opacity-100":"opacity-0"}`,children:F?t.jsx(Rt,{className:"w-5 h-5 text-white",fill:"white"}):t.jsx(Et,{className:"w-5 h-5 text-white ml-0.5",fill:"white"})})]}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:`text-sm font-semibold truncate ${F?"text-accent":"text-white"}`,children:m.title}),t.jsx("div",{className:"text-xs text-brand-text-tertiary truncate",children:m.artist})]}),t.jsx("button",{onClick:()=>v(m),className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 transition-all duration-200 ${F?"bg-accent shadow-lg shadow-accent/30":"bg-white/10"}`,children:F?t.jsx(Rt,{className:"w-4 h-4 text-white",fill:"white",strokeWidth:0}):t.jsx(Et,{className:"w-4 h-4 text-white ml-0.5",fill:"white",strokeWidth:0})})]}),t.jsxs("div",{className:"flex items-center justify-between px-3 pb-3 pt-0",children:[t.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap",children:[m.genre&&t.jsx("span",{className:`px-2 py-0.5 rounded-md text-[10px] font-bold ${fx(m.genre)}`,children:m.genre}),m.tonality&&t.jsx("span",{className:"px-2 py-0.5 rounded-md text-[10px] font-extrabold text-black border border-black/10",style:{backgroundColor:Kd(m.tonality)},children:m.tonality}),m.bpm>0&&t.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-medium text-brand-text-secondary bg-dark-elevated/80",children:m.bpm}),t.jsx("span",{className:"text-[9px] text-brand-text-tertiary/60",children:new Date(m.dateAdded).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),m.pool&&t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"text-[9px] text-brand-text-tertiary/40",children:""}),t.jsx("span",{className:"text-[9px] text-brand-text-tertiary/60 truncate max-w-[80px]",children:m.pool})]})]}),t.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[t.jsx("button",{onClick:()=>C(m.id),children:t.jsx(Or,{className:`w-4 h-4 ${B?"text-accent fill-accent":"text-white/30"}`,strokeWidth:2})}),t.jsx("button",{onClick:()=>d==null?void 0:d("download",m),children:t.jsx(pt,{className:"w-4 h-4 text-white/30",strokeWidth:2})}),t.jsx("button",{children:t.jsx(hn,{className:"w-4 h-4 text-white/30"})})]})]})]},m.id)})}),t.jsxs("div",{className:"hidden md:block overflow-x-auto scrollbar-hidden",children:[t.jsxs("div",{className:"min-w-[900px] grid grid-cols-[auto_1fr_auto_auto_auto_auto_auto_auto] gap-2 px-3 py-1.5 border-b border-white/5 text-[9px] font-semibold text-brand-text-tertiary uppercase tracking-wider sticky top-0 bg-dark-bg/95 backdrop-blur-md z-10",children:[t.jsx("div",{className:"w-6 text-center",children:"#"}),t.jsx("div",{children:"Title"}),t.jsx("div",{className:"w-16 text-center",children:"Genre"}),t.jsx("div",{className:"w-16 text-center",children:"Tonality"}),t.jsx("div",{className:"w-12 text-center",children:"BPM"}),t.jsx("div",{className:"w-24 text-center",children:"Date Added"}),t.jsx("div",{className:"w-20",children:"Pool"}),t.jsx("div",{className:"w-24"})]}),i.map((m,T)=>{const F=c===m.id&&p,B=j.has(m.id);return t.jsxs("div",{className:"min-w-[900px] grid grid-cols-[auto_1fr_auto_auto_auto_auto_auto_auto] gap-2 px-3 py-1.5 hover:bg-white/5 group transition-all duration-150 border-b border-white/[0.01] last:border-b-0 animate-in fade-in slide-in-from-bottom-2",style:{animationDelay:`${T*20}ms`,animationDuration:"300ms"},onClick:()=>v(m),children:[t.jsxs("div",{className:"w-6 flex items-center justify-center",children:[t.jsx("span",{className:`text-[10px] ${F?"text-accent":"text-brand-text-tertiary group-hover:hidden"}`,children:T+1}),t.jsx("button",{onClick:D=>{D.stopPropagation(),v(m)},className:"hidden group-hover:flex items-center justify-center",children:F?t.jsx(Rt,{className:"w-3 h-3 text-accent",fill:"currentColor"}):t.jsx(Et,{className:"w-3 h-3 text-white",fill:"currentColor"})})]}),t.jsxs("div",{className:"flex items-center gap-1.5 min-w-0",children:[t.jsxs("div",{className:"w-8 h-8 rounded overflow-hidden flex-shrink-0 bg-dark-elevated",children:[m.coverArt?t.jsx("img",{src:m.coverArt,alt:m.title,className:"w-full h-full object-cover",onError:D=>{D.target.style.display="none",D.target.nextSibling&&(D.target.nextSibling.style.display="block")}}):null,t.jsx("div",{style:{display:m.coverArt?"none":"block"},children:t.jsx(Oi,{title:m.title,artist:m.artist,size:"sm"})})]}),t.jsxs("div",{className:"flex flex-col justify-center min-w-0",children:[t.jsx("div",{className:`text-xs font-semibold truncate ${F?"text-accent":"text-white"}`,children:m.title}),t.jsx("div",{className:"text-[10px] text-brand-text-tertiary truncate",children:m.artist})]})]}),t.jsx("div",{className:"w-16 flex items-center justify-center",children:t.jsx("span",{className:"px-2 py-0.5 rounded-md text-[10px] font-bold text-white bg-accent/80 border border-accent/40",children:m.genre})}),t.jsx("div",{className:"w-16 flex items-center justify-center",children:t.jsx("span",{className:"px-2 py-1 rounded-md text-[10px] font-extrabold text-black border border-black/10",style:{backgroundColor:Kd(m.tonality)},children:m.tonality})}),t.jsx("div",{className:"w-12 flex items-center justify-center",children:t.jsx("span",{className:"px-1 py-0.5 rounded text-[9px] font-medium text-brand-text-secondary bg-dark-elevated/50",children:m.bpm})}),t.jsx("div",{className:"w-24 flex items-center justify-center text-[10px] text-brand-text-tertiary",children:new Date(m.dateAdded).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),t.jsx("div",{className:"w-20 flex items-center text-[9px] text-brand-text-tertiary/80 truncate",children:m.pool}),t.jsxs("div",{className:"w-24 flex items-center justify-end gap-1",children:[t.jsx("button",{onClick:D=>{D.stopPropagation(),C(m.id)},className:`opacity-0 group-hover:opacity-100 transition-all duration-150 hover:scale-110 ${B?"opacity-100":""}`,children:t.jsx(Or,{className:`w-3 h-3 ${B?"text-accent fill-accent":"text-white/70"}`,strokeWidth:2})}),t.jsx("button",{onClick:D=>{D.stopPropagation(),d==null||d("download",m)},className:"opacity-0 group-hover:opacity-100 transition-all duration-150 hover:scale-110",children:t.jsx(pt,{className:"w-3 h-3 text-white/70",strokeWidth:2})}),t.jsx("button",{onClick:D=>D.stopPropagation(),className:"opacity-0 group-hover:opacity-100 transition-all duration-150",children:t.jsx(hn,{className:"w-3 h-3 text-white/70"})})]})]},m.id)})]})]})}function gx({isOpen:i,onClose:d,results:c,onTrackInteraction:g,searchQuery:p,onSearchChange:b}){return i?t.jsxs("div",{className:"fixed inset-0 z-50 bg-dark-bg animate-in fade-in duration-200",children:[t.jsx("div",{className:"sticky top-0 z-30 bg-dark-bg/95 backdrop-blur-md border-b border-white/5",children:t.jsxs("div",{className:"px-4 md:px-10 py-3 md:py-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3 md:mb-4",children:[t.jsx("h2",{className:"text-lg md:text-2xl font-bold text-white",children:"Search"}),t.jsx("button",{onClick:d,className:"w-9 h-9 rounded-full bg-dark-elevated hover:bg-dark-elevated/80 hover:scale-110 flex items-center justify-center transition-all duration-200 text-white",children:t.jsx(Ve,{className:"w-4 h-4",strokeWidth:2})})]}),t.jsxs("div",{className:"relative",children:[t.jsx(mn,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-accent",strokeWidth:2}),t.jsx("input",{type:"text",value:p,placeholder:"Search tracks, artists, labels...",onChange:j=>b==null?void 0:b(j.target.value),autoFocus:!0,className:"w-full h-11 pl-11 pr-4 bg-dark-elevated border border-white/10 rounded-full text-sm text-white placeholder-white/30 outline-none transition-all duration-300 focus:border-accent/60 focus:bg-dark-elevated/80 focus:shadow-lg focus:shadow-accent/20"})]}),t.jsxs("p",{className:"text-xs text-brand-text-tertiary mt-3",children:[c.length," ",c.length===1?"track":"tracks"," found"]})]})}),t.jsx("div",{className:"overflow-y-auto",style:{height:"calc(100vh - 180px)"},children:c.length>0?t.jsx(Ra,{tracks:c,onTrackInteraction:g}):t.jsxs("div",{className:"text-center py-20 animate-in fade-in duration-500",children:[t.jsx("p",{className:"text-brand-text-tertiary/70 text-lg",children:"No results found"}),t.jsx("p",{className:"text-brand-text-tertiary/60 text-sm mt-2",children:"Try a different search term"})]})})]}):null}function vx({onClose:i,onSuccess:d}){const[c,g]=h.useState("login"),[p,b]=h.useState({name:"",email:"",password:"",confirmPassword:""}),[j,S]=h.useState(!1),[v,C]=h.useState(!1),[m,T]=h.useState(!1),[F,B]=h.useState(""),D=async k=>{k.preventDefault(),B(""),T(!0);try{if(c==="register"){if(p.password!==p.confirmPassword){B("Passwords do not match"),T(!1);return}const $=await(await fetch("http://localhost:5000/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:p.name,email:p.email,password:p.password})})).json();$.success?(localStorage.setItem("token",$.token),v&&localStorage.setItem("rememberMe","true"),d($.user)):B($.message||"Registration failed")}else{console.log("Attempting login with:",p.email);const z=await fetch("http://localhost:5000/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:p.email,password:p.password})});console.log("Login response status:",z.status);const $=await z.json();console.log("Login response data:",$),$.success?(localStorage.setItem("token",$.token),v&&localStorage.setItem("rememberMe","true"),d($.user)):B($.message||"Login failed")}}catch(z){console.error("Auth error details:",z),console.error("Error name:",z.name),console.error("Error message:",z.message),B(`Network error: ${z.message}. Please check if the server is running.`)}finally{T(!1)}},u=()=>{g(c==="login"?"register":"login"),B(""),b({name:"",email:"",password:"",confirmPassword:""})};return t.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4 overflow-y-auto",children:t.jsxs("div",{className:"bg-dark-elevated rounded-lg max-w-md w-full p-6 my-8",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-2xl font-bold",children:c==="login"?"Welcome Back":"Create Account"}),t.jsx("button",{onClick:i,className:"text-brand-text-tertiary hover:text-white",children:t.jsx(Ve,{size:24})})]}),F&&t.jsxs("div",{className:"mb-4 p-4 bg-red-500/20 border border-red-500 rounded-lg flex items-center gap-2 text-red-500",children:[t.jsx(jr,{size:20}),t.jsx("span",{children:F})]}),t.jsxs("form",{onSubmit:D,className:"space-y-4",children:[c==="register"&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Full Name"}),t.jsxs("div",{className:"relative",children:[t.jsx($a,{size:20,className:"absolute left-3 top-1/2 -translate-y-1/2 text-brand-text-tertiary"}),t.jsx("input",{type:"text",value:p.name,onChange:k=>b({...p,name:k.target.value}),className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:outline-none focus:border-accent",placeholder:"John Doe",required:!0})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),t.jsxs("div",{className:"relative",children:[t.jsx(xu,{size:20,className:"absolute left-3 top-1/2 -translate-y-1/2 text-brand-text-tertiary"}),t.jsx("input",{type:"email",value:p.email,onChange:k=>b({...p,email:k.target.value}),className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:outline-none focus:border-accent",placeholder:"you@example.com",required:!0})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ui,{size:20,className:"absolute left-3 top-1/2 -translate-y-1/2 text-brand-text-tertiary"}),t.jsx("input",{type:j?"text":"password",value:p.password,onChange:k=>b({...p,password:k.target.value}),className:"w-full pl-10 pr-12 py-2 bg-white/5 border border-white/10 rounded-lg focus:outline-none focus:border-accent",placeholder:"",required:!0,minLength:6}),t.jsx("button",{type:"button",onClick:()=>S(!j),className:"absolute right-3 top-1/2 -translate-y-1/2 text-brand-text-tertiary hover:text-white",children:j?t.jsx(Hm,{size:20}):t.jsx(La,{size:20})})]})]}),c==="register"&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Confirm Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ui,{size:20,className:"absolute left-3 top-1/2 -translate-y-1/2 text-brand-text-tertiary"}),t.jsx("input",{type:j?"text":"password",value:p.confirmPassword,onChange:k=>b({...p,confirmPassword:k.target.value}),className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:outline-none focus:border-accent",placeholder:"",required:!0,minLength:6})]})]}),c==="login"&&t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:v,onChange:k=>C(k.target.checked),className:"w-4 h-4 rounded border-white/10 bg-white/5 text-accent focus:ring-accent focus:ring-offset-0"}),t.jsx("span",{className:"text-sm text-brand-text-tertiary",children:"Remember me"})]})}),t.jsx("button",{type:"submit",disabled:m,className:"w-full py-3 bg-accent hover:bg-accent-hover rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Please wait...":c==="login"?"Sign In":"Create Account"})]}),t.jsx("div",{className:"mt-6 text-center",children:t.jsxs("p",{className:"text-brand-text-tertiary",children:[c==="login"?"Don't have an account? ":"Already have an account? ",t.jsx("button",{onClick:u,className:"text-accent hover:text-accent-hover font-medium",children:c==="login"?"Sign Up":"Sign In"})]})})]})})}const Ca="http://localhost:5000/api/auth",Zd={async login(i,d){const g=await(await fetch(`${Ca}/login`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:i,password:d})})).json();if(g.success)return localStorage.setItem("token",g.token),g;throw new Error(g.message||"Login failed")},async register(i,d,c){const p=await(await fetch(`${Ca}/register`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:i,email:d,password:c})})).json();if(p.success)return localStorage.setItem("token",p.token),p;throw new Error(p.message||"Registration failed")},async getCurrentUser(){const i=localStorage.getItem("token");if(!i)return null;try{const c=await(await fetch(`${Ca}/me`,{headers:{Authorization:`Bearer ${i}`},credentials:"include"})).json();return c.success?c.data:(localStorage.removeItem("token"),null)}catch{return localStorage.removeItem("token"),null}},async logout(){try{await fetch(`${Ca}/logout`,{credentials:"include"})}catch(i){console.error("Logout error:",i)}finally{localStorage.removeItem("token"),localStorage.removeItem("rememberMe")}},getToken(){return localStorage.getItem("token")},isAuthenticated(){return!!localStorage.getItem("token")}};function Ti({profile:i,onClose:d}){const[c,g]=h.useState(!1),[p,b]=h.useState(null),[j,S]=h.useState(new Set),v=[{id:1,title:"Midnight Echoes",duration:"3:45",plays:"1.2M",dateAdded:"2024-12-28"},{id:2,title:"Neon Dreams",duration:"4:12",plays:"890K",dateAdded:"2024-12-27"},{id:3,title:"Electric Pulse",duration:"3:28",plays:"2.1M",dateAdded:"2024-12-26"},{id:4,title:"Sunset Boulevard",duration:"5:03",plays:"1.5M",dateAdded:"2024-12-25"},{id:5,title:"Digital Love",duration:"3:56",plays:"3.2M",dateAdded:"2024-12-24"},{id:6,title:"Cosmic Journey",duration:"4:34",plays:"750K",dateAdded:"2024-12-23"},{id:7,title:"Retro Wave",duration:"3:18",plays:"1.8M",dateAdded:"2024-12-22"},{id:8,title:"Future Nostalgia",duration:"4:45",plays:"2.5M",dateAdded:"2024-12-21"},{id:9,title:"Starlight Symphony",duration:"3:39",plays:"920K",dateAdded:"2024-12-20"},{id:10,title:"Urban Nights",duration:"4:21",plays:"1.1M",dateAdded:"2024-12-19"}],C=B=>{p===B?g(!c):(b(B),g(!0))},m=()=>{b(v[0].id),g(!0)},T=B=>{S(D=>{const u=new Set(D);return u.has(B)?u.delete(B):u.add(B),u})},F=B=>B;return t.jsxs("div",{className:"fixed inset-0 z-50 bg-dark-bg overflow-y-auto",children:[t.jsx("button",{onClick:d,className:"fixed top-3 right-3 md:top-6 md:right-6 z-50 w-9 h-9 md:w-10 md:h-10 rounded-full bg-dark-surface/80 backdrop-blur-xl border border-white/10 hover:border-white/20 flex items-center justify-center transition-all duration-200 hover:scale-110",children:t.jsx(Ve,{className:"w-5 h-5 text-white"})}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"h-52 md:h-80 bg-gradient-to-b from-accent/20 via-accent/10 to-dark-bg relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-accent/30 via-purple-500/20 to-transparent"}),t.jsx("div",{className:"absolute inset-0 opacity-20 bg-cover bg-center blur-2xl",style:{backgroundImage:`url(${i.avatar})`}}),t.jsx("div",{className:"relative h-full flex items-end px-4 md:px-10 pb-4 md:pb-8",children:t.jsxs("div",{className:"flex items-end gap-4 md:gap-6",children:[t.jsxs("div",{className:"relative group",children:[t.jsx("div",{className:`w-28 h-28 md:w-56 md:h-56 rounded-lg overflow-hidden shadow-2xl ${i.hasNewContent?"ring-4 ring-accent/50":"ring-2 ring-white/10"}`,children:t.jsx("img",{src:i.avatar,alt:i.name,className:"w-full h-full object-cover"})}),t.jsx("div",{className:`absolute -bottom-2 -right-2 w-12 h-12 rounded-full flex items-center justify-center ${i.type==="label"?"bg-accent":"bg-purple-500"} shadow-lg`,children:i.type==="label"?t.jsx(Lm,{className:"w-6 h-6 text-white",strokeWidth:2}):t.jsx($e,{className:"w-6 h-6 text-white",strokeWidth:2})})]}),t.jsxs("div",{className:"flex-1 pb-4",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 mb-3",children:[t.jsx("span",{className:"text-xs font-semibold text-white/80 uppercase tracking-wider",children:i.type==="label"?"Record Label":"Artist"}),i.hasNewContent&&t.jsx("span",{className:"px-2 py-0.5 rounded-full bg-accent text-white text-[10px] font-bold uppercase tracking-wide",children:"New"})]}),t.jsx("h1",{className:"text-2xl md:text-7xl font-bold text-white mb-2 md:mb-6 tracking-tight",children:i.name}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-white/70",children:[t.jsxs("span",{className:"font-semibold",children:[i.trackCount," tracks"]}),t.jsx("span",{children:""}),t.jsx("span",{children:"12.5M monthly listeners"})]})]})]})})]}),t.jsxs("div",{className:"bg-gradient-to-b from-dark-bg/50 to-dark-bg px-4 md:px-10 py-4 md:py-8",children:[t.jsxs("div",{className:"flex items-center gap-6 mb-8",children:[t.jsx("button",{onClick:m,className:"w-14 h-14 rounded-full bg-accent hover:bg-accent-hover hover:scale-105 flex items-center justify-center transition-all duration-200 shadow-xl shadow-accent/30",children:c&&p===v[0].id?t.jsx(Rt,{className:"w-6 h-6 text-white",fill:"white"}):t.jsx(Et,{className:"w-6 h-6 text-white ml-0.5",fill:"white"})}),t.jsx("button",{className:"w-12 h-12 rounded-full border-2 border-white/20 hover:border-white/40 hover:scale-105 flex items-center justify-center transition-all duration-200",children:t.jsx(Or,{className:"w-5 h-5 text-white/70",strokeWidth:2})}),t.jsx("button",{className:"w-12 h-12 rounded-full hover:bg-white/5 flex items-center justify-center transition-all duration-200",children:t.jsx(hn,{className:"w-6 h-6 text-white/70"})})]}),t.jsxs("div",{className:"bg-dark-surface/30 backdrop-blur-sm rounded-2xl border border-white/5 overflow-hidden",children:[t.jsxs("div",{className:"hidden md:grid grid-cols-[auto_1fr_auto_auto_auto] gap-4 px-6 py-3 border-b border-white/5 text-xs font-semibold text-brand-text-tertiary uppercase tracking-wider",children:[t.jsx("div",{className:"w-10 text-center",children:"#"}),t.jsx("div",{children:"Title"}),t.jsx("div",{className:"w-24 text-center",children:"Plays"}),t.jsx("div",{className:"w-20 text-center",children:t.jsx(Pa,{className:"w-4 h-4 mx-auto"})}),t.jsx("div",{className:"w-32"})]}),v.map((B,D)=>{const u=p===B.id&&c,k=j.has(B.id);return t.jsxs("div",{className:"grid grid-cols-[auto_1fr_auto] md:grid-cols-[auto_1fr_auto_auto_auto] gap-3 md:gap-4 px-3 md:px-6 py-2.5 md:py-3 hover:bg-white/5 group transition-all duration-200 border-b border-white/[0.02] last:border-b-0",children:[t.jsxs("div",{className:"w-10 flex items-center justify-center",children:[t.jsx("span",{className:`text-sm ${u?"text-accent":"text-brand-text-tertiary group-hover:hidden"}`,children:D+1}),t.jsx("button",{onClick:()=>C(B.id),className:"hidden group-hover:flex items-center justify-center",children:u?t.jsx(Rt,{className:"w-4 h-4 text-accent",fill:"currentColor"}):t.jsx(Et,{className:"w-4 h-4 text-white",fill:"currentColor"})})]}),t.jsxs("div",{className:"flex flex-col justify-center min-w-0",children:[t.jsx("div",{className:`font-semibold truncate ${u?"text-accent":"text-white"}`,children:B.title}),t.jsx("div",{className:"text-sm text-brand-text-tertiary truncate",children:i.name})]}),t.jsx("div",{className:"hidden md:flex w-24 items-center justify-center text-sm text-brand-text-tertiary",children:B.plays}),t.jsx("div",{className:"hidden md:flex w-20 items-center justify-center text-sm text-brand-text-tertiary",children:F(B.duration)}),t.jsxs("div",{className:"w-auto md:w-32 flex items-center justify-end gap-2",children:[t.jsx("button",{onClick:()=>T(B.id),className:`opacity-0 group-hover:opacity-100 transition-all duration-200 hover:scale-110 ${k?"opacity-100":""}`,children:t.jsx(Or,{className:`w-4 h-4 ${k?"text-accent fill-accent":"text-white/70"}`,strokeWidth:2})}),t.jsx("button",{className:"opacity-0 group-hover:opacity-100 transition-all duration-200 hover:scale-110",children:t.jsx(pt,{className:"w-4 h-4 text-white/70",strokeWidth:2})}),t.jsx("button",{className:"opacity-0 group-hover:opacity-100 transition-all duration-200",children:t.jsx(hn,{className:"w-4 h-4 text-white/70"})})]})]},B.id)})]}),t.jsxs("div",{className:"mt-8 text-sm text-brand-text-tertiary",children:[t.jsx("p",{className:"mb-2",children:t.jsxs("span",{className:"text-white font-semibold",children:["About ",i.name]})}),t.jsx("p",{className:"leading-relaxed",children:i.type==="label"?`${i.name} is a leading record label known for discovering and promoting exceptional talent across multiple genres. With a roster of innovative artists and a commitment to quality music production.`:`${i.name} is a talented artist pushing the boundaries of modern music. Known for their unique sound and captivating performances, they continue to inspire fans worldwide.`})]})]})]})]})}function yx({activeTonality:i,onTonalityChange:d}){const c=["1A","2A","3A","4A","5A","6A","7A","8A","9A","10A","11A","12A"],g=["1B","2B","3B","4B","5B","6B","7B","8B","9B","10B","11B","12B"],p={"1A":"#63E6E2","2A":"#86F0B0","3A":"#B7F36A","4A":"#FFE066","5A":"#FFB86B","6A":"#FF8B7A","7A":"#FF7CB7","8A":"#E8A7FF","9A":"#C9B6FF","10A":"#A7C8FF","11A":"#8EE1FF","12A":"#6DF3D0","1B":"#27D8D3","2B":"#34D27A","3B":"#8CD317","4B":"#FFC107","5B":"#FF9B4A","6B":"#FF6B6B","7B":"#FF4DA6","8B":"#C86BFA","9B":"#9B7CFF","10B":"#6B8CFF","11B":"#4DD8FF","12B":"#13D6B2"},b=j=>{d(i===j?"all":j)};return t.jsx("div",{className:"px-4 md:px-10 pt-2 pb-2 animate-in fade-in slide-in-from-top duration-500",style:{animationDelay:"200ms"},children:t.jsxs("div",{className:"rounded-2xl bg-white/[0.02] backdrop-blur-sm border border-white/10 shadow-lg shadow-black/10 p-4 sm:p-5",children:[t.jsx("div",{className:"text-sm font-semibold text-white/80 mb-3",children:"Elige la tonalidad:"}),t.jsx("div",{className:"overflow-x-auto scrollbar-hidden",children:t.jsx("div",{className:"flex gap-2 min-w-max",children:[...c,...g].map(j=>{const S=i===j;return t.jsx("button",{type:"button",onClick:()=>b(j),className:`h-9 w-9 sm:h-10 sm:w-10 rounded-lg text-xs font-extrabold text-black border transition-all duration-150 flex-shrink-0 ${S?"border-white/80 ring-2 ring-white/60 scale-[1.02]":"border-black/10 hover:brightness-105 hover:scale-[1.02]"}`,style:{backgroundColor:p[j]},children:j},j)})})})]})})}const bx=[{id:"all",name:"All Genres",Icon:$e},{id:"house",name:"House",Icon:Gi},{id:"techno",name:"Techno",Icon:Ns},{id:"hip-hop",name:"Hip-Hop",Icon:ex},{id:"jazz",name:"Jazz",Icon:pu},{id:"ambient",name:"Ambient",Icon:$i},{id:"dubstep",name:"Dubstep",Icon:Zi},{id:"trance",name:"Trance",Icon:ix}];function wx({activeGenre:i,onGenreChange:d}){return t.jsxs("div",{className:"relative px-4 md:px-10 pt-4 md:pt-5 pb-4 md:pb-5 bg-gradient-to-b from-dark-bg via-dark-bg/98 to-dark-bg/95",children:[t.jsxs("div",{className:"mb-3 md:mb-4",children:[t.jsx("h2",{className:"text-lg md:text-xl font-bold text-white tracking-tight",children:"Browse by Genre"}),t.jsx("p",{className:"text-[10px] md:text-xs text-brand-text-tertiary/80 mt-1",children:"Discover your perfect sound"})]}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"overflow-x-auto scrollbar-hidden pb-3",children:t.jsx("div",{className:"flex gap-3 min-w-max pr-10",children:bx.map(c=>{const g=c.Icon;return t.jsxs("button",{onClick:()=>d(c.id),className:`flex-shrink-0 flex items-center gap-2.5 px-5 py-2.5 rounded-lg font-medium text-sm transition-all duration-200 ${i===c.id?"bg-accent text-white":"bg-white/5 text-brand-text-secondary hover:bg-white/10 hover:text-white"}`,children:[t.jsx(g,{size:18,className:"flex-shrink-0"}),t.jsx("span",{className:"whitespace-nowrap",children:c.name})]},c.id)})})}),t.jsx("div",{className:"absolute right-0 top-0 bottom-3 w-32 bg-gradient-to-l from-dark-bg via-dark-bg/80 to-transparent pointer-events-none"})]})]})}function jx({albums:i,onAlbumClick:d}){return t.jsxs("div",{className:"my-8 md:my-12 px-4 md:px-10",children:[t.jsxs("div",{className:"mb-4 md:mb-6",children:[t.jsx("h2",{className:"text-lg md:text-2xl font-bold text-white",children:"New Albums"}),t.jsx("p",{className:"text-xs md:text-sm text-brand-text-tertiary mt-1",children:"Fresh releases from your favorite artists"})]}),t.jsx("div",{className:"relative",children:t.jsx("div",{className:"flex gap-3 md:gap-4 overflow-x-auto pb-4 scrollbar-hide scroll-smooth",children:i.map(c=>t.jsxs("div",{onClick:()=>d(c),className:"flex-shrink-0 w-36 md:w-48 group cursor-pointer",children:[t.jsx("div",{className:"relative mb-3 overflow-hidden rounded-lg bg-dark-elevated shadow-lg transition-all duration-300 group-hover:shadow-2xl group-hover:shadow-accent/20 group-hover:scale-105",children:t.jsxs("div",{className:"aspect-square relative",children:[c.coverArt?t.jsx("img",{src:c.coverArt,alt:c.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",onError:g=>{g.target.style.display="none",g.target.nextSibling&&(g.target.nextSibling.style.display="block")}}):null,t.jsx("div",{style:{display:c.coverArt?"none":"block"},children:t.jsx(Oi,{title:c.title,artist:c.artist,size:"full"})}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),c.isNew&&t.jsx("div",{className:"absolute top-2 right-2 px-2 py-1 rounded-full bg-accent text-white text-[10px] font-bold uppercase tracking-wider",children:"New"})]})}),t.jsxs("div",{className:"px-1",children:[t.jsx("h3",{className:"font-semibold text-white text-sm truncate mb-1 group-hover:text-accent transition-colors duration-200",children:c.title}),t.jsx("p",{className:"text-xs text-brand-text-tertiary truncate",children:c.artist}),t.jsxs("p",{className:"text-[10px] text-brand-text-tertiary/60 mt-0.5",children:[c.trackCount," tracks  ",c.year]})]})]},c.id))})})]})}const Nx="http://localhost:5000/api";function kx({playlists:i,onPlaylistClick:d}){const[c,g]=h.useState([]),[p,b]=h.useState(!0);h.useEffect(()=>{(async()=>{try{const C=await(await fetch(`${Nx}/sources`)).json();C.success&&C.data.length>0&&g(C.data)}catch(v){console.error("Error fetching sources for featured:",v)}finally{b(!1)}})()},[]);const j=c.length>0?c.map(S=>({id:S._id,title:S.name,coverArt:S.thumbnail||"",curator:S.platform||"TodoDJS",trackCount:S.totalTracks||0,albumCount:S.totalAlbums||0,isTrending:S.totalTracks>5})):i;return t.jsxs("div",{className:"my-8 md:my-12 px-4 md:px-10",children:[t.jsxs("div",{className:"mb-4 md:mb-6",children:[t.jsx("h2",{className:"text-lg md:text-2xl font-bold text-white",children:"Featured Collections"}),t.jsx("p",{className:"text-xs md:text-sm text-brand-text-tertiary mt-1",children:"Browse curated record pools and sources"})]}),t.jsx("div",{className:"relative",children:p?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx(Pe,{className:"w-6 h-6 text-accent animate-spin"})}):t.jsx("div",{className:"flex gap-3 md:gap-4 overflow-x-auto pb-4 scrollbar-hide scroll-smooth",children:j.map(S=>t.jsxs("div",{onClick:()=>d(S),className:"flex-shrink-0 w-36 md:w-48 group cursor-pointer",children:[t.jsx("div",{className:"relative mb-3 overflow-hidden rounded-lg bg-dark-elevated shadow-lg transition-all duration-300 group-hover:shadow-2xl group-hover:shadow-accent/20 group-hover:scale-105",children:t.jsxs("div",{className:"aspect-square relative",children:[S.coverArt?t.jsx("img",{src:S.coverArt,alt:S.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",onError:v=>{v.target.style.display="none",v.target.nextSibling.style.display="flex"}}):null,t.jsx("div",{className:"w-full h-full items-center justify-center bg-gradient-to-br from-accent/30 to-purple-500/20",style:{display:S.coverArt?"none":"flex"},children:t.jsx(bt,{className:"w-10 h-10 text-accent/50"})}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),S.isTrending&&t.jsx("div",{className:"absolute top-2 right-2 px-2 py-1 rounded-full bg-gradient-to-r from-accent to-purple-500 text-white text-[10px] font-bold uppercase tracking-wider",children:"Featured"})]})}),t.jsxs("div",{className:"px-1",children:[t.jsx("h3",{className:"font-semibold text-white text-sm truncate mb-1 group-hover:text-accent transition-colors duration-200",children:S.title}),t.jsx("p",{className:"text-xs text-brand-text-tertiary truncate",children:S.curator}),t.jsxs("p",{className:"text-[10px] text-brand-text-tertiary/60 mt-0.5",children:[S.trackCount," tracks",S.albumCount?`  ${S.albumCount} albums`:""]})]})]},S.id))})})]})}const Sx=i=>({"1A":"#63E6E2","2A":"#86F0B0","3A":"#B7F36A","4A":"#FFE066","5A":"#FFB86B","6A":"#FF8B7A","7A":"#FF7CB7","8A":"#E8A7FF","9A":"#C9B6FF","10A":"#A7C8FF","11A":"#8EE1FF","12A":"#6DF3D0","1B":"#27D8D3","2B":"#34D27A","3B":"#8CD317","4B":"#FFC107","5B":"#FF9B4A","6B":"#FF6B6B","7B":"#FF4DA6","8B":"#C86BFA","9B":"#9B7CFF","10B":"#6B8CFF","11B":"#4DD8FF","12B":"#13D6B2"})[i]||"#FFFFFF";function yu({tracks:i,onTrackInteraction:d}){const[c,g]=h.useState(null),[p,b]=h.useState(!1),[j,S]=h.useState(new Set),v=m=>{c===m.id?b(!p):(g(m.id),b(!0)),d==null||d("play",m)},C=m=>{S(T=>{const F=new Set(T);return F.has(m)?F.delete(m):F.add(m),F})};return t.jsx("div",{className:"px-3 md:px-10 py-4 md:py-6",children:t.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-3 md:gap-4",children:i.map(m=>{const T=c===m.id&&p,F=j.has(m.id);return t.jsxs("div",{className:"group relative bg-dark-elevated/30 rounded-lg p-3 hover:bg-dark-elevated/50 transition-all duration-300 hover:scale-105 animate-in fade-in",onClick:()=>v(m),children:[t.jsxs("div",{className:"relative mb-3 overflow-hidden rounded-md bg-dark-elevated aspect-square",children:[m.coverArt?t.jsx("img",{src:m.coverArt,alt:m.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",onError:B=>{B.target.style.display="none",B.target.nextSibling.style.display="flex"}}):null,t.jsx("div",{className:"w-full h-full items-center justify-center bg-gradient-to-br from-accent/30 to-accent/10",style:{display:m.coverArt?"none":"flex"},children:t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-accent/70",children:[t.jsx("path",{d:"M9 18V5l12-2v13"}),t.jsx("circle",{cx:"6",cy:"18",r:"3"}),t.jsx("circle",{cx:"18",cy:"16",r:"3"})]})}),t.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:t.jsx("button",{onClick:B=>{B.stopPropagation(),v(m)},className:"w-12 h-12 rounded-full bg-accent flex items-center justify-center shadow-lg shadow-accent/50 hover:scale-110 transition-transform duration-200",children:T?t.jsx(Rt,{className:"w-5 h-5 text-white",fill:"currentColor"}):t.jsx(Et,{className:"w-5 h-5 text-white ml-0.5",fill:"currentColor"})})}),t.jsx("div",{className:"absolute top-2 left-2 px-2 py-0.5 rounded-full bg-black/60 backdrop-blur-sm",children:t.jsx("span",{className:"text-[9px] font-semibold text-white uppercase tracking-wider",children:m.collection})}),t.jsx("div",{className:"absolute top-2 right-2 px-1.5 py-0.5 rounded bg-black/60 backdrop-blur-sm",children:t.jsx("span",{className:"text-[9px] font-medium text-white",children:m.bpm})})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("h3",{className:`text-xs font-semibold truncate transition-colors duration-200 ${T?"text-accent":"text-white group-hover:text-accent"}`,children:m.title}),t.jsx("p",{className:"text-[10px] text-brand-text-tertiary truncate",children:m.artist}),t.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap",children:[t.jsx("span",{className:"px-2 py-0.5 rounded-md text-[10px] font-bold text-white bg-accent/80 border border-accent/40",children:m.genre}),t.jsx("span",{className:"px-2 py-0.5 rounded-md text-[10px] font-extrabold text-black border border-black/10",style:{backgroundColor:Sx(m.tonality)},children:m.tonality}),t.jsxs("span",{className:"text-[9px] text-brand-text-tertiary/80",children:[m.bpm," BPM"]})]}),t.jsxs("div",{className:"flex items-center gap-1.5 text-[9px] text-brand-text-tertiary/60",children:[t.jsx("span",{children:new Date(m.dateAdded).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),t.jsx("span",{children:""}),t.jsx("span",{className:"truncate",children:m.pool})]})]}),t.jsxs("div",{className:"flex items-center justify-between mt-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[t.jsx("button",{onClick:B=>{B.stopPropagation(),C(m.id)},className:"hover:scale-110 transition-transform duration-150",children:t.jsx(Or,{className:`w-3.5 h-3.5 ${F?"text-accent fill-accent":"text-white/70"}`,strokeWidth:2})}),t.jsx("button",{onClick:B=>{B.stopPropagation(),d==null||d("download",m)},className:"hover:scale-110 transition-transform duration-150",children:t.jsx(pt,{className:"w-3.5 h-3.5 text-white/70",strokeWidth:2})}),t.jsx("button",{onClick:B=>B.stopPropagation(),className:"hover:scale-110 transition-transform duration-150",children:t.jsx(hn,{className:"w-3.5 h-3.5 text-white/70"})})]})]},m.id)})})})}const Cx="http://localhost:5000/api",Ax=["House","Tech House","Afro House","Amapiano","Techno","Hip-Hop","Jazz","Ambient","Dubstep","Trance","EDM"],Tx=i=>{var d,c;return{id:i._id,title:i.title,artist:i.artist,bpm:i.bpm||0,genre:i.genre||"",tonality:((d=i.tonality)==null?void 0:d.camelot)||"",dateAdded:i.dateAdded||i.createdAt,collection:i.collection||i.genre||"",coverArt:i.coverArt||"",pool:i.pool||"",locked:i.isLocked||!1,duration:((c=i.audioFile)==null?void 0:c.duration)||0}};function Ex({onTrackInteraction:i}){const[d,c]=h.useState([]),[g,p]=h.useState(!0),[b,j]=h.useState(1),[S,v]=h.useState(1),[C,m]=h.useState(0),[T,F]=h.useState("list"),[B,D]=h.useState("dateAdded"),[u,k]=h.useState("all"),[z,$]=h.useState("all"),[N,I]=h.useState(30),J=["1A","2A","3A","4A","5A","6A","7A","8A","9A","10A","11A","12A"],H=["1B","2B","3B","4B","5B","6B","7B","8B","9B","10B","11B","12B"],Y={"1A":"#63E6E2","2A":"#86F0B0","3A":"#B7F36A","4A":"#FFE066","5A":"#FFB86B","6A":"#FF8B7A","7A":"#FF7CB7","8A":"#E8A7FF","9A":"#C9B6FF","10A":"#A7C8FF","11A":"#8EE1FF","12A":"#6DF3D0","1B":"#27D8D3","2B":"#34D27A","3B":"#8CD317","4B":"#FFC107","5B":"#FF9B4A","6B":"#FF6B6B","7B":"#FF4DA6","8B":"#C86BFA","9B":"#9B7CFF","10B":"#6B8CFF","11B":"#4DD8FF","12B":"#13D6B2"},ne={dateAdded:"-dateAdded",title:"title",artist:"artist",bpm:"-bpm"},U=h.useCallback(async()=>{p(!0);try{const P=new URLSearchParams({page:b,limit:N,sort:ne[B]||"-dateAdded"});u!=="all"&&P.set("genre",u),z!=="all"&&P.set("tonality",z);const ee=await fetch(`${Cx}/tracks/browse?${P}`);if(!ee.ok){console.error("Library fetch error:",ee.status);return}const _=await ee.json();_.success&&(c(_.data.map(Tx)),v(_.pagination.pages||1),m(_.pagination.total||0))}catch(P){console.error("Failed to fetch library tracks:",P)}finally{p(!1)}},[b,N,B,u,z]);h.useEffect(()=>{U()},[U]);const de=P=>{j(P),window.scrollTo({top:0,behavior:"smooth"})},pe=P=>{k(P),j(1)},ye=P=>{$(ee=>ee===P?"all":P),j(1)},L=P=>{D(P),j(1)},Q=P=>{I(Number(P)),j(1)},X=()=>{const P=[];if(S<=5)for(let _=1;_<=S;_++)P.push(_);else if(b<=3){for(let _=1;_<=3;_++)P.push(_);P.push("..."),P.push(S)}else if(b>=S-2){P.push(1),P.push("...");for(let _=S-2;_<=S;_++)P.push(_)}else P.push(1),P.push("..."),P.push(b),P.push("..."),P.push(S);return P};return t.jsxs("div",{className:"min-h-screen",children:[t.jsxs("div",{className:"sticky top-14 md:top-16 z-20 bg-dark-bg/95 backdrop-blur-md border-b border-white/5 px-4 md:px-10 py-3",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-lg md:text-2xl font-bold text-white",children:"Your Library"}),t.jsxs("p",{className:"text-[10px] md:text-xs text-brand-text-tertiary mt-0.5",children:[C.toLocaleString()," tracks  Page ",b," of ",S]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[z!=="all"&&t.jsxs("button",{onClick:()=>{$("all"),j(1)},className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-accent/20 text-accent border border-accent/30 hover:bg-accent/30 hover:border-accent/50 transition-all duration-200 shadow-lg shadow-accent/10",children:[t.jsx(Ve,{className:"w-4 h-4"}),t.jsx("span",{className:"text-xs font-semibold",children:"Reset Tonality"})]}),t.jsx("button",{onClick:()=>F("list"),className:`p-2 rounded-lg transition-all duration-200 ${T==="list"?"bg-accent text-white shadow-lg shadow-accent/30":"bg-dark-elevated text-brand-text-tertiary hover:text-white hover:bg-dark-elevated/80"}`,children:t.jsx(Ji,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>F("grid"),className:`p-2 rounded-lg transition-all duration-200 ${T==="grid"?"bg-accent text-white shadow-lg shadow-accent/30":"bg-dark-elevated text-brand-text-tertiary hover:text-white hover:bg-dark-elevated/80"}`,children:t.jsx(Qi,{className:"w-4 h-4"})})]})]}),t.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(vu,{className:"w-3.5 h-3.5 text-brand-text-tertiary"}),t.jsxs("select",{value:u,onChange:P=>pe(P.target.value),className:"bg-dark-elevated text-white text-xs px-3 py-1.5 rounded-lg border border-white/10 focus:border-accent focus:outline-none transition-all duration-200 cursor-pointer hover:bg-dark-elevated/80",children:[t.jsx("option",{value:"all",children:"All Genres"}),Ax.map(P=>t.jsx("option",{value:P,children:P},P))]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(cu,{className:"w-3.5 h-3.5 text-brand-text-tertiary"}),t.jsxs("select",{value:B,onChange:P=>L(P.target.value),className:"bg-dark-elevated text-white text-xs px-3 py-1.5 rounded-lg border border-white/10 focus:border-accent focus:outline-none transition-all duration-200 cursor-pointer hover:bg-dark-elevated/80",children:[t.jsx("option",{value:"dateAdded",children:"Date Added (Newest)"}),t.jsx("option",{value:"title",children:"Title (A-Z)"}),t.jsx("option",{value:"artist",children:"Artist (A-Z)"}),t.jsx("option",{value:"bpm",children:"BPM (High to Low)"})]})]})]})]}),t.jsx("div",{className:"px-4 md:px-10 pt-4 md:pt-5 pb-2",children:t.jsxs("div",{className:"rounded-2xl bg-white/[0.02] backdrop-blur-sm border border-white/10 shadow-lg shadow-black/10 p-4 sm:p-5",children:[t.jsx("div",{className:"text-sm font-semibold text-white/80 mb-3",children:"Elige la tonalidad:"}),t.jsx("div",{className:"overflow-x-auto scrollbar-hidden",children:t.jsx("div",{className:"flex gap-2 min-w-max",children:[...J,...H].map(P=>{const ee=z===P;return t.jsx("button",{type:"button",onClick:()=>ye(P),className:`h-9 w-9 sm:h-10 sm:w-10 rounded-lg text-xs font-extrabold text-black border transition-all duration-150 flex-shrink-0 ${ee?"border-white/80 ring-2 ring-white/60 scale-[1.02]":"border-black/10 hover:brightness-105 hover:scale-[1.02]"}`,style:{backgroundColor:Y[P]},children:P},P)})})})]})}),g?t.jsx("div",{className:"flex items-center justify-center py-24",children:t.jsx(Pe,{className:"w-8 h-8 text-accent animate-spin"})}):d.length===0?t.jsxs("div",{className:"flex flex-col items-center justify-center py-24 text-center",children:[t.jsx("p",{className:"text-lg text-white font-semibold mb-2",children:"No tracks found"}),t.jsx("p",{className:"text-sm text-brand-text-tertiary",children:"Try adjusting your filters or check back later"})]}):T==="list"?t.jsx(Ra,{tracks:d,onTrackInteraction:i}):t.jsx(yu,{tracks:d,onTrackInteraction:i}),!g&&d.length>0&&t.jsx("div",{className:"px-4 md:px-10 py-6 md:py-8",children:t.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-6 max-w-6xl mx-auto",children:[t.jsxs("div",{className:"flex items-center gap-3 bg-white/[0.02] backdrop-blur-sm border border-white/10 rounded-xl px-4 py-2.5 shadow-lg",children:[t.jsx("span",{className:"text-sm font-medium text-brand-text-secondary whitespace-nowrap",children:"Songs per page:"}),t.jsxs("select",{value:N,onChange:P=>Q(P.target.value),className:"bg-dark-elevated text-white text-sm font-semibold px-3 py-1.5 rounded-lg border border-white/20 focus:border-accent focus:ring-2 focus:ring-accent/30 focus:outline-none transition-all duration-200 cursor-pointer hover:bg-dark-elevated/80 hover:border-white/30",children:[t.jsx("option",{value:"15",children:"15"}),t.jsx("option",{value:"30",children:"30"}),t.jsx("option",{value:"50",children:"50"})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("button",{onClick:()=>de(b-1),disabled:b===1,className:`px-5 py-2.5 rounded-xl font-semibold text-sm transition-all duration-200 ${b===1?"bg-dark-elevated/20 text-brand-text-tertiary/40 cursor-not-allowed":"bg-white/[0.05] text-white hover:bg-white/[0.08] hover:scale-105 border border-white/10 shadow-lg"}`,children:"Previous"}),t.jsx("div",{className:"flex items-center gap-2 bg-white/[0.02] backdrop-blur-sm border border-white/10 rounded-xl px-3 py-2 shadow-lg",children:X().map((P,ee)=>P==="..."?t.jsx("span",{className:"px-2 text-brand-text-tertiary font-bold",children:"..."},`ellipsis-${ee}`):t.jsx("button",{onClick:()=>de(P),className:`min-w-[36px] h-9 rounded-lg font-bold text-sm transition-all duration-200 ${b===P?"bg-accent text-white shadow-lg shadow-accent/40 scale-105":"bg-transparent text-brand-text-secondary hover:bg-white/[0.05] hover:text-white"}`,children:P},P))}),t.jsx("button",{onClick:()=>de(b+1),disabled:b===S,className:`px-5 py-2.5 rounded-xl font-semibold text-sm transition-all duration-200 ${b===S?"bg-dark-elevated/20 text-brand-text-tertiary/40 cursor-not-allowed":"bg-white/[0.05] text-white hover:bg-white/[0.08] hover:scale-105 border border-white/10 shadow-lg"}`,children:"Next"})]})]})})]})}const Ei="http://localhost:5000/api";function Dx({onAlbumClick:i,onTrackInteraction:d}){const[c,g]=h.useState("sources"),[p,b]=h.useState([]),[j,S]=h.useState([]),[v,C]=h.useState([]),[m,T]=h.useState(null),[F,B]=h.useState(null),[D,u]=h.useState(!1),k=h.useCallback(async()=>{try{u(!0);const Y=await(await fetch(`${Ei}/sources`)).json();Y.success&&b(Y.data)}catch(H){console.error("Error fetching sources:",H)}finally{u(!1)}},[]),z=h.useCallback(async H=>{try{u(!0);const ne=await(await fetch(`${Ei}/date-packs/source/${H}`)).json();ne.success&&S(ne.data)}catch(Y){console.error("Error fetching date cards:",Y)}finally{u(!1)}},[]),$=h.useCallback(async H=>{try{u(!0);const ne=await(await fetch(`${Ei}/date-packs/${H}/albums`)).json();ne.success&&C(ne.data)}catch(Y){console.error("Error fetching albums:",Y)}finally{u(!1)}},[]);h.useEffect(()=>{k()},[k]);const N=H=>{T(H),B(null),g("source"),z(H._id)},I=H=>{B(H),g("dateCard"),$(H._id)},J=()=>{c==="dateCard"?(g("source"),B(null)):c==="source"&&(g("sources"),T(null))};return t.jsxs("div",{className:"px-4 sm:px-6 md:px-10 py-4 md:py-6",children:[t.jsxs("div",{className:"mb-8",children:[c!=="sources"&&t.jsxs("button",{onClick:J,className:"flex items-center gap-1.5 text-brand-text-tertiary hover:text-white transition-colors mb-4 text-sm",children:[t.jsx(zm,{size:16})," Back"]}),c==="sources"&&t.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[t.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-white mb-2",children:"Record Pool"}),t.jsx("p",{className:"text-brand-text-tertiary",children:"Browse curated music sources"})]}),c==="source"&&m&&t.jsx(Mx,{source:m}),c==="dateCard"&&F&&m&&t.jsx(Fx,{dateCard:F,source:m})]}),c==="sources"&&(D?t.jsx(Di,{}):t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[p.map((H,Y)=>t.jsx(Px,{source:H,index:Y,onClick:()=>N(H)},H._id)),p.length===0&&t.jsx(Mi,{icon:bt,text:"No sources available yet"})]})),c==="source"&&m&&(D?t.jsx(Di,{}):t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[j.map((H,Y)=>t.jsx(zx,{dateCard:H,index:Y,onClick:()=>I(H)},H._id)),j.length===0&&t.jsx(Mi,{icon:Ur,text:"No date cards in this source yet"})]})),c==="dateCard"&&F&&(D?t.jsx(Di,{}):t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[v.map((H,Y)=>t.jsx(Bx,{album:H,index:Y,onClick:()=>i==null?void 0:i(H)},H._id)),v.length===0&&t.jsx(Mi,{icon:$e,text:"No albums in this date card yet"})]}))]})}function Mx({source:i}){return t.jsxs("div",{className:"flex items-center gap-5 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[t.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 rounded-2xl overflow-hidden shadow-xl shadow-black/30 flex-shrink-0",children:t.jsx("img",{src:i.thumbnail,alt:i.name,className:"w-full h-full object-cover"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-accent font-semibold uppercase tracking-wider mb-1",children:"Source"}),t.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-white mb-1",children:i.name}),t.jsxs("div",{className:"flex items-center gap-3 text-sm text-brand-text-tertiary",children:[t.jsx("span",{children:i.year}),i.platform&&t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"text-white/20",children:"|"}),t.jsx("span",{children:i.platform})]}),t.jsx("span",{className:"text-white/20",children:"|"}),t.jsxs("span",{children:[i.totalAlbums||0," albums"]}),t.jsx("span",{className:"text-white/20",children:"|"}),t.jsxs("span",{children:[i.totalTracks||0," tracks"]})]})]})]})}function Fx({dateCard:i,source:d}){const c=new Date(i.date).toLocaleDateString([],{month:"long",day:"numeric",year:"numeric"});return t.jsxs("div",{className:"flex items-center gap-5 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[t.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 rounded-2xl overflow-hidden shadow-xl shadow-black/30 flex-shrink-0",children:t.jsx("img",{src:i.thumbnail,alt:i.name,className:"w-full h-full object-cover"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 text-xs text-brand-text-tertiary mb-1",children:[t.jsx("span",{className:"text-accent font-semibold uppercase tracking-wider",children:"Date Card"}),t.jsx(Ir,{size:12}),t.jsx("span",{children:d.name})]}),t.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-white mb-1",children:i.name}),t.jsxs("div",{className:"flex items-center gap-3 text-sm text-brand-text-tertiary",children:[t.jsx(Ur,{size:14,className:"text-accent"}),t.jsx("span",{children:c}),t.jsx("span",{className:"text-white/20",children:"|"}),t.jsxs("span",{children:[i.totalAlbums||0," albums"]}),t.jsx("span",{className:"text-white/20",children:"|"}),t.jsxs("span",{children:[i.totalTracks||0," tracks"]})]})]})]})}function Px({source:i,index:d,onClick:c}){return t.jsxs("div",{onClick:c,className:"group cursor-pointer rounded-2xl overflow-hidden bg-dark-elevated border border-white/5 hover:border-accent/30 transition-all duration-500 hover:shadow-xl hover:shadow-accent/5 hover:-translate-y-1 animate-in fade-in slide-in-from-bottom-4",style:{animationDelay:`${d*80}ms`,animationFillMode:"both"},children:[t.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden bg-dark-surface",children:[i.thumbnail?t.jsx("img",{src:i.thumbnail,alt:i.name,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center",children:t.jsx(bt,{size:48,className:"text-white/10"})}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"}),t.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-5",children:[t.jsx("h3",{className:"text-xl font-bold text-white mb-1 drop-shadow-lg",children:i.name}),t.jsxs("p",{className:"text-white/60 text-sm",children:[i.year," ",i.platform&&` ${i.platform}`]})]}),t.jsx("div",{className:"absolute inset-0 bg-accent/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]}),t.jsxs("div",{className:"p-4 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[t.jsxs("span",{className:"text-brand-text-tertiary",children:[t.jsx(bt,{size:14,className:"inline mr-1 text-accent"}),i.totalAlbums||0," albums"]}),t.jsxs("span",{className:"text-brand-text-tertiary",children:[t.jsx($e,{size:14,className:"inline mr-1 text-accent"}),i.totalTracks||0," tracks"]})]}),t.jsx(Ir,{size:18,className:"text-brand-text-tertiary group-hover:text-accent group-hover:translate-x-1 transition-all duration-300"})]})]})}function zx({dateCard:i,index:d,onClick:c}){const g=new Date(i.date).toLocaleDateString([],{month:"short",day:"numeric",year:"numeric"});return t.jsxs("div",{onClick:c,className:"group cursor-pointer rounded-2xl overflow-hidden bg-dark-elevated border border-white/5 hover:border-accent/30 transition-all duration-500 hover:shadow-xl hover:shadow-accent/5 hover:-translate-y-1 animate-in fade-in slide-in-from-bottom-4",style:{animationDelay:`${d*80}ms`,animationFillMode:"both"},children:[t.jsxs("div",{className:"relative aspect-square overflow-hidden bg-dark-surface",children:[i.thumbnail?t.jsx("img",{src:i.thumbnail,alt:i.name,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center",children:t.jsx(Ur,{size:48,className:"text-white/10"})}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/30 to-transparent"}),t.jsxs("div",{className:"absolute top-3 right-3 px-2.5 py-1 bg-black/50 backdrop-blur-md rounded-full text-xs font-medium text-white/90 flex items-center gap-1",children:[t.jsx(Ur,{size:11}),g]}),t.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:t.jsx("h3",{className:"text-lg font-bold text-white drop-shadow-lg",children:i.name})}),t.jsx("div",{className:"absolute inset-0 bg-accent/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]}),t.jsxs("div",{className:"p-3 flex items-center justify-between text-sm",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("span",{className:"text-brand-text-tertiary",children:[t.jsx(bt,{size:13,className:"inline mr-1 text-accent"}),i.totalAlbums||0]}),t.jsxs("span",{className:"text-brand-text-tertiary",children:[t.jsx($e,{size:13,className:"inline mr-1 text-accent"}),i.totalTracks||0]})]}),t.jsx(Ir,{size:16,className:"text-brand-text-tertiary group-hover:text-accent group-hover:translate-x-1 transition-all duration-300"})]})]})}function Bx({album:i,index:d,onClick:c}){return t.jsxs("div",{onClick:c,className:"group cursor-pointer rounded-2xl overflow-hidden bg-dark-elevated border border-white/5 hover:border-accent/30 transition-all duration-500 hover:shadow-xl hover:shadow-accent/5 hover:-translate-y-1 animate-in fade-in slide-in-from-bottom-4",style:{animationDelay:`${d*80}ms`,animationFillMode:"both"},children:[t.jsxs("div",{className:"relative aspect-square overflow-hidden bg-dark-surface",children:[i.coverArt?t.jsx("img",{src:i.coverArt,alt:i.name,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center",children:t.jsx($e,{size:48,className:"text-white/10"})}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),t.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all duration-500",children:t.jsx("div",{className:"w-14 h-14 rounded-full bg-accent shadow-lg shadow-accent/40 flex items-center justify-center transform scale-75 group-hover:scale-100 transition-transform duration-500",children:t.jsx(Et,{size:24,className:"text-white ml-1",fill:"white"})})})]}),t.jsxs("div",{className:"p-4",children:[t.jsx("h3",{className:"font-bold text-white truncate mb-1 group-hover:text-accent transition-colors duration-300",children:i.name}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("span",{className:"text-brand-text-tertiary",children:[i.trackCount||0," tracks"]}),i.genre&&t.jsx("span",{className:"px-2 py-0.5 bg-accent/10 text-accent text-xs rounded-full font-medium",children:i.genre})]})]})]})}function Di(){return t.jsx("div",{className:"flex items-center justify-center py-20",children:t.jsx(Pe,{className:"w-8 h-8 text-accent animate-spin"})})}function Mi({icon:i,text:d}){return t.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center py-20 animate-in fade-in duration-500",children:[t.jsx(i,{size:48,className:"text-brand-text-tertiary opacity-30 mb-4"}),t.jsx("p",{className:"text-brand-text-tertiary",children:d})]})}function bu({type:i="subscribe",onClose:d,onSignUp:c,onSubscribe:g}){const p=i==="subscribe";return t.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:t.jsxs("div",{className:"relative w-full max-w-md mx-4 bg-dark-surface border border-white/10 rounded-2xl shadow-2xl shadow-black/50 overflow-hidden animate-in zoom-in-95 duration-300",children:[t.jsxs("div",{className:"relative h-32 bg-gradient-to-br from-accent via-purple-500 to-pink-500 flex items-center justify-center overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_30%_50%,rgba(255,255,255,0.15),transparent_60%)]"}),t.jsx(mu,{className:"w-14 h-14 text-white drop-shadow-lg",strokeWidth:1.5}),t.jsx("button",{onClick:d,className:"absolute top-3 right-3 w-8 h-8 rounded-full bg-black/20 hover:bg-black/40 flex items-center justify-center text-white/80 hover:text-white transition-all",children:t.jsx(Ve,{className:"w-4 h-4"})})]}),t.jsxs("div",{className:"px-6 py-6",children:[p?t.jsxs(t.Fragment,{children:[t.jsx("h2",{className:"text-xl font-bold text-white text-center mb-2",children:"Unlock Full Access"}),t.jsx("p",{className:"text-sm text-brand-text-tertiary text-center mb-6",children:"Upgrade to Premium to download tracks, listen to full songs, and get unlimited access to the entire catalog."})]}):t.jsxs(t.Fragment,{children:[t.jsx("h2",{className:"text-xl font-bold text-white text-center mb-2",children:"Create a Free Account"}),t.jsx("p",{className:"text-sm text-brand-text-tertiary text-center mb-6",children:"Sign up to like tracks, create playlists, and preview songs. Upgrade to Premium for full access and unlimited downloads."})]}),t.jsxs("div",{className:"space-y-3 mb-6",children:[t.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[t.jsx("div",{className:"w-8 h-8 rounded-lg bg-accent/10 flex items-center justify-center flex-shrink-0",children:t.jsx($e,{className:"w-4 h-4 text-accent"})}),t.jsx("span",{className:"text-brand-text-secondary",children:"Full-length song streaming"})]}),t.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[t.jsx("div",{className:"w-8 h-8 rounded-lg bg-accent/10 flex items-center justify-center flex-shrink-0",children:t.jsx(pt,{className:"w-4 h-4 text-accent"})}),t.jsx("span",{className:"text-brand-text-secondary",children:"Unlimited high-quality downloads"})]}),t.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[t.jsx("div",{className:"w-8 h-8 rounded-lg bg-accent/10 flex items-center justify-center flex-shrink-0",children:t.jsx(Ns,{className:"w-4 h-4 text-accent"})}),t.jsx("span",{className:"text-brand-text-secondary",children:"Early access to new releases"})]})]}),t.jsx("div",{className:"space-y-2",children:p?t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:g,className:"w-full py-3 rounded-xl bg-gradient-to-r from-accent to-purple-500 hover:from-accent-hover hover:to-purple-600 text-white font-bold text-sm transition-all duration-200 hover:scale-[1.02] active:scale-[0.98] shadow-lg shadow-accent/30",children:"Go Premium"}),t.jsx("button",{onClick:d,className:"w-full py-2.5 rounded-xl text-brand-text-tertiary hover:text-white text-sm transition-colors",children:"Continue with preview"})]}):t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:c,className:"w-full py-3 rounded-xl bg-gradient-to-r from-accent to-purple-500 hover:from-accent-hover hover:to-purple-600 text-white font-bold text-sm transition-all duration-200 hover:scale-[1.02] active:scale-[0.98] shadow-lg shadow-accent/30",children:"Sign Up Free"}),t.jsx("button",{onClick:d,className:"w-full py-2.5 rounded-xl text-brand-text-tertiary hover:text-white text-sm transition-colors",children:"Maybe later"})]})})]})]})})}const Lx=i=>({"1A":"#63E6E2","2A":"#86F0B0","3A":"#B7F36A","4A":"#FFE066","5A":"#FFB86B","6A":"#FF8B7A","7A":"#FF7CB7","8A":"#E8A7FF","9A":"#C9B6FF","10A":"#A7C8FF","11A":"#8EE1FF","12A":"#6DF3D0","1B":"#27D8D3","2B":"#34D27A","3B":"#8CD317","4B":"#FFC107","5B":"#FF9B4A","6B":"#FF6B6B","7B":"#FF4DA6","8B":"#C86BFA","9B":"#9B7CFF","10B":"#6B8CFF","11B":"#4DD8FF","12B":"#13D6B2"})[i]||"#FFFFFF";function _x({album:i,tracks:d,onClose:c,onTrackInteraction:g,user:p,onAuthRequired:b,onSubscribe:j}){var L;const[S,v]=h.useState(null),[C,m]=h.useState(!1),[T,F]=h.useState(new Set),[B,D]=h.useState(null),[u,k]=h.useState(!1),[z,$]=h.useState(null),[N,I]=h.useState(!1),J=p&&((L=p.subscription)==null?void 0:L.plan)&&p.subscription.plan!=="free",H=Q=>{S===Q.id?m(!C):(v(Q.id),m(!0)),g==null||g("play",Q)},Y=h.useCallback(Q=>p?!J&&(Q==="download"||Q==="downloadZip")?(D("subscribe"),!1):!0:(D("signup"),!1),[p,J]),ne=h.useCallback(async(Q,X)=>{var ee;if(X==null||X.stopPropagation(),!Y("download"))return;const P=Q.id||Q._id;$(P);try{const _=localStorage.getItem("token"),K=await(await fetch(`http://localhost:5000/api/tracks/${P}/playback`,{headers:_?{Authorization:`Bearer ${_}`}:{}})).json();if(K.success&&((ee=K.data)!=null&&ee.url)){const w=document.createElement("a");w.href=K.data.url,w.download=`${Q.artist} - ${Q.title}.mp3`,document.body.appendChild(w),w.click(),document.body.removeChild(w)}}catch(_){console.error("Download failed:",_)}finally{$(null)}},[Y]),U=h.useCallback(async()=>{var Q;if(Y("downloadZip")){I(!0);try{const X=localStorage.getItem("token");for(const P of d){const ee=P.id||P._id,re=await(await fetch(`http://localhost:5000/api/tracks/${ee}/playback`,{headers:X?{Authorization:`Bearer ${X}`}:{}})).json();if(re.success&&((Q=re.data)!=null&&Q.url)){const K=document.createElement("a");K.href=re.data.url,K.download=`${P.artist} - ${P.title}.mp3`,document.body.appendChild(K),K.click(),document.body.removeChild(K),await new Promise(w=>setTimeout(w,500))}}}catch(X){console.error("ZIP download failed:",X)}finally{I(!1)}}},[Y,d]),de=h.useCallback((Q,X)=>{if(X==null||X.stopPropagation(),!p){D("signup");return}F(P=>{const ee=new Set(P);return ee.has(Q)?ee.delete(Q):ee.add(Q),ee})},[p]),pe=h.useCallback(()=>{if(!p){D("signup");return}},[p]),ye=h.useCallback(()=>{const Q=window.location.href,X=`Check out "${i.title}" by ${i.artist}`;navigator.share?navigator.share({title:i.title,text:X,url:Q}).catch(()=>{}):navigator.clipboard.writeText(Q).then(()=>{k(!0),setTimeout(()=>k(!1),2e3)}).catch(()=>{})},[i]);return t.jsxs("div",{className:"fixed inset-0 z-50 bg-dark-bg animate-in fade-in duration-300",children:[t.jsx("button",{onClick:c,className:"fixed top-3 right-3 md:top-6 md:right-6 z-50 w-9 h-9 md:w-10 md:h-10 rounded-full bg-dark-elevated/80 backdrop-blur-md hover:bg-dark-elevated hover:scale-110 flex items-center justify-center transition-all duration-200 text-white shadow-lg",children:t.jsx(Ve,{className:"w-5 h-5",strokeWidth:2})}),t.jsx("div",{className:"h-full overflow-y-auto",children:t.jsx("div",{className:"max-w-[1600px] mx-auto px-4 py-4 md:px-10 md:py-8",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[400px_1fr] gap-8 animate-in slide-in-from-bottom duration-500",children:[t.jsx("div",{className:"lg:sticky lg:top-8 h-fit",children:t.jsxs("div",{className:"bg-gradient-to-br from-dark-elevated to-dark-surface rounded-2xl overflow-hidden shadow-2xl border border-white/5 animate-in slide-in-from-left duration-500",children:[t.jsxs("div",{className:"relative group h-[200px] md:h-[320px]",children:[i.coverArt?t.jsx("img",{src:i.coverArt,alt:i.title||i.name,className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full bg-dark-surface flex items-center justify-center",children:t.jsx(Wd,{className:"w-16 h-16 text-white/10"})}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/30 to-transparent"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-accent/10 via-transparent to-purple-500/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]}),t.jsxs("div",{className:"p-4 md:p-6",children:[t.jsxs("div",{className:"mb-3 md:mb-4",children:[i.isNew&&t.jsx("span",{className:"inline-block px-3 py-1 rounded-full bg-gradient-to-r from-accent to-purple-500 text-xs font-bold text-white uppercase tracking-wider mb-3",children:"New Release"}),t.jsx("h1",{className:"text-lg md:text-2xl font-bold text-white mb-1 md:mb-2 leading-tight",children:i.title}),t.jsx("p",{className:"text-sm md:text-lg text-brand-text-secondary font-medium",children:i.artist})]}),t.jsxs("div",{className:"flex items-center gap-4 text-sm text-brand-text-tertiary mb-6",children:[t.jsx("span",{children:i.year}),t.jsx("span",{children:""}),t.jsxs("span",{children:[i.trackCount," tracks"]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:U,disabled:N,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-lg bg-gradient-to-r from-accent to-purple-500 hover:from-accent-hover hover:to-purple-600 transition-all duration-200 hover:scale-105 shadow-lg shadow-accent/30 disabled:opacity-60 disabled:hover:scale-100",children:[N?t.jsxs("svg",{className:"animate-spin w-4 h-4 text-white",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}):t.jsx(Wd,{className:"w-4 h-4 text-white"}),t.jsx("span",{className:"text-sm font-semibold text-white",children:N?"Downloading...":"Download All"})]}),t.jsx("button",{onClick:pe,className:"px-4 py-3 rounded-lg bg-dark-elevated hover:bg-dark-elevated/80 transition-all duration-200 hover:scale-105 group",children:t.jsx(Or,{className:"w-4 h-4 text-white group-hover:text-accent transition-colors"})}),t.jsxs("button",{onClick:ye,className:"relative px-4 py-3 rounded-lg bg-dark-elevated hover:bg-dark-elevated/80 transition-all duration-200 hover:scale-105 group",children:[t.jsx(sx,{className:"w-4 h-4 text-white group-hover:text-accent transition-colors"}),u&&t.jsxs("div",{className:"absolute -top-10 left-1/2 -translate-x-1/2 px-3 py-1 rounded-lg bg-accent text-white text-[10px] font-semibold whitespace-nowrap shadow-lg animate-in fade-in zoom-in-95 duration-200 flex items-center gap-1",children:[t.jsx(uu,{className:"w-3 h-3"})," Link copied!"]})]})]})]})]})}),t.jsx("div",{className:"animate-in slide-in-from-right duration-500",style:{animationDelay:"100ms"},children:t.jsxs("div",{className:"bg-gradient-to-br from-dark-surface/40 to-dark-elevated/30 rounded-2xl border border-white/5 overflow-hidden backdrop-blur-sm",children:[t.jsx("div",{className:"px-4 md:px-6 py-3 md:py-4 border-b border-white/5 bg-gradient-to-r from-dark-elevated/80 to-dark-surface/80 backdrop-blur-md",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h2",{className:"text-xl font-bold text-white",children:"Tracks"}),t.jsx("div",{className:"flex items-center gap-2 text-xs text-brand-text-tertiary",children:t.jsxs("span",{children:[d.length," tracks"]})})]})}),t.jsxs("div",{className:"divide-y divide-white/5",children:[d.length===0&&t.jsxs("div",{className:"flex items-center justify-center py-16 text-brand-text-tertiary",children:[t.jsxs("svg",{className:"animate-spin h-5 w-5 mr-3 text-accent",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Loading tracks..."]}),d.map((Q,X)=>{const P=S===Q.id&&C,ee=T.has(Q.id);return t.jsx("div",{className:"group px-3 md:px-6 py-2.5 md:py-3 hover:bg-white/5 transition-all duration-200 animate-in fade-in slide-in-from-right",style:{animationDelay:`${X*30}ms`,animationDuration:"400ms"},onClick:()=>H(Q),children:t.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[t.jsxs("div",{className:"w-6 md:w-8 flex items-center justify-center flex-shrink-0",children:[t.jsx("span",{className:`text-sm font-medium ${P?"text-accent":"text-brand-text-tertiary group-hover:hidden"}`,children:X+1}),t.jsx("button",{onClick:_=>{_.stopPropagation(),H(Q)},className:"hidden group-hover:flex items-center justify-center",children:P?t.jsx(Rt,{className:"w-4 h-4 text-accent",fill:"currentColor"}):t.jsx(Et,{className:"w-4 h-4 text-white",fill:"currentColor"})})]}),t.jsx("div",{className:"flex-1 min-w-0",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:`text-sm font-semibold truncate transition-colors duration-200 ${P?"text-accent":"text-white group-hover:text-accent"}`,children:Q.title}),t.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[t.jsx("p",{className:"text-xs text-brand-text-tertiary truncate",children:Q.artist}),t.jsx("span",{className:"text-brand-text-tertiary/40",children:""}),t.jsx("span",{className:"text-[10px] text-brand-text-tertiary/60 truncate",children:Q.pool})]})]}),t.jsx("span",{className:"hidden sm:inline px-2 py-0.5 rounded-md text-[10px] font-bold text-white bg-accent/80 border border-accent/40",children:Q.genre}),t.jsx("span",{className:"px-1.5 sm:px-2 py-0.5 rounded-md text-[9px] sm:text-[10px] font-extrabold text-black border border-black/10",style:{backgroundColor:Lx(Q.tonality)},children:Q.tonality}),t.jsx("span",{className:"px-1.5 sm:px-2 py-0.5 rounded bg-dark-elevated/50 text-[9px] font-medium text-brand-text-secondary",children:Q.bpm}),t.jsx("span",{className:"hidden md:inline text-[10px] text-brand-text-tertiary w-20 text-right",children:new Date(Q.dateAdded).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})}),t.jsxs("div",{className:"flex items-center gap-2 md:opacity-0 md:group-hover:opacity-100 transition-opacity duration-200",children:[t.jsx("button",{onClick:_=>de(Q.id,_),className:"hover:scale-110 transition-transform duration-150",title:ee?"Unlike":"Like",children:t.jsx(Or,{className:`w-4 h-4 ${ee?"text-accent fill-accent":"text-white/70 hover:text-white"}`,strokeWidth:2})}),t.jsx("button",{onClick:_=>ne(Q,_),disabled:z===(Q.id||Q._id),className:"hover:scale-110 transition-transform duration-150 disabled:opacity-50",title:"Download track",children:z===(Q.id||Q._id)?t.jsxs("svg",{className:"animate-spin w-4 h-4 text-accent",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}):t.jsx(pt,{className:"w-4 h-4 text-white/70 hover:text-white",strokeWidth:2})})]})]})},Q.id)})]})]})})]})})}),B&&t.jsx(bu,{type:B==="signup"?"signup":"subscribe",onClose:()=>D(null),onSignUp:()=>{D(null),b==null||b()},onSubscribe:()=>{D(null),j==null||j()}})]})}function $x({tracks:i,onTrackInteraction:d}){const[c,g]=h.useState(1),[p,b]=h.useState("list"),[j,S]=h.useState("dateAdded"),[v,C]=h.useState("all"),[m,T]=h.useState("all"),[F,B]=h.useState(30),D=["1A","2A","3A","4A","5A","6A","7A","8A","9A","10A","11A","12A"],u=["1B","2B","3B","4B","5B","6B","7B","8B","9B","10B","11B","12B"],k={"1A":"#63E6E2","2A":"#86F0B0","3A":"#B7F36A","4A":"#FFE066","5A":"#FFB86B","6A":"#FF8B7A","7A":"#FF7CB7","8A":"#E8A7FF","9A":"#C9B6FF","10A":"#A7C8FF","11A":"#8EE1FF","12A":"#6DF3D0","1B":"#27D8D3","2B":"#34D27A","3B":"#8CD317","4B":"#FFC107","5B":"#FF9B4A","6B":"#FF6B6B","7B":"#FF4DA6","8B":"#C86BFA","9B":"#9B7CFF","10B":"#6B8CFF","11B":"#4DD8FF","12B":"#13D6B2"},z=h.useMemo(()=>{const L=new Set(i.map(Q=>Q.collection));return["all",...Array.from(L).sort()]},[i]),$=h.useMemo(()=>{let L=i;return v!=="all"&&(L=L.filter(X=>X.collection===v)),m!=="all"&&(L=L.filter(X=>X.tonality===m)),[...L].sort((X,P)=>{switch(j){case"title":return X.title.localeCompare(P.title);case"artist":return X.artist.localeCompare(P.artist);case"bpm":return P.bpm-X.bpm;case"dateAdded":default:return new Date(P.dateAdded)-new Date(X.dateAdded)}})},[i,v,m,j]),N=Math.ceil($.length/F),I=(c-1)*F,J=I+F,H=$.slice(I,J),Y=L=>{g(L),window.scrollTo({top:0,behavior:"smooth"})},ne=L=>{C(L),g(1)},U=L=>{T(Q=>Q===L?"all":L),g(1)},de=L=>{S(L),g(1)},pe=L=>{B(Number(L)),g(1)},ye=()=>{const L=[];if(N<=5)for(let X=1;X<=N;X++)L.push(X);else if(c<=3){for(let X=1;X<=3;X++)L.push(X);L.push("..."),L.push(N)}else if(c>=N-2){L.push(1),L.push("...");for(let X=N-2;X<=N;X++)L.push(X)}else L.push(1),L.push("..."),L.push(c),L.push("..."),L.push(N);return L};return t.jsxs("div",{className:"min-h-screen",children:[t.jsx("div",{className:"relative w-full py-4 px-4 md:px-10 bg-gradient-to-b from-black/50 to-dark-bg",children:t.jsx("div",{className:"max-w-4xl mx-auto",children:t.jsx("div",{className:"relative w-full aspect-video max-h-[350px] rounded-2xl overflow-hidden shadow-2xl shadow-black/50 border border-white/10",children:t.jsx("iframe",{className:"absolute inset-0 w-full h-full",src:"https://www.youtube.com/embed/TOpg1R0QqTA?si=m2OezJYthDZLw8XI",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin",allowFullScreen:!0})})})}),t.jsxs("div",{className:"sticky top-14 md:top-16 z-20 bg-dark-bg/95 backdrop-blur-md border-b border-white/5 px-4 md:px-10 py-3 md:py-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-xl md:text-3xl font-bold text-white",children:"New Drops"}),t.jsxs("p",{className:"text-[10px] md:text-sm text-brand-text-tertiary mt-1",children:[$.length," tracks available this week"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[m!=="all"&&t.jsxs("button",{onClick:()=>{T("all"),g(1)},className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-accent/20 text-accent border border-accent/30 hover:bg-accent/30 hover:border-accent/50 transition-all duration-200 shadow-lg shadow-accent/10",children:[t.jsx(Ve,{className:"w-4 h-4"}),t.jsx("span",{className:"text-xs font-semibold",children:"Reset Tonality"})]}),t.jsx("button",{onClick:()=>b("list"),className:`p-2 rounded-lg transition-all duration-200 ${p==="list"?"bg-accent text-white shadow-lg shadow-accent/30":"bg-dark-elevated text-brand-text-tertiary hover:text-white hover:bg-dark-elevated/80"}`,children:t.jsx(Ji,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>b("grid"),className:`p-2 rounded-lg transition-all duration-200 ${p==="grid"?"bg-accent text-white shadow-lg shadow-accent/30":"bg-dark-elevated text-brand-text-tertiary hover:text-white hover:bg-dark-elevated/80"}`,children:t.jsx(Qi,{className:"w-4 h-4"})})]})]}),t.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(vu,{className:"w-3.5 h-3.5 text-brand-text-tertiary"}),t.jsx("select",{value:v,onChange:L=>ne(L.target.value),className:"bg-dark-elevated text-white text-xs px-3 py-1.5 rounded-lg border border-white/10 focus:border-accent focus:outline-none transition-all duration-200 cursor-pointer hover:bg-dark-elevated/80",children:z.map(L=>t.jsx("option",{value:L,children:L==="all"?"All Genres":L},L))})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(cu,{className:"w-3.5 h-3.5 text-brand-text-tertiary"}),t.jsxs("select",{value:j,onChange:L=>de(L.target.value),className:"bg-dark-elevated text-white text-xs px-3 py-1.5 rounded-lg border border-white/10 focus:border-accent focus:outline-none transition-all duration-200 cursor-pointer hover:bg-dark-elevated/80",children:[t.jsx("option",{value:"dateAdded",children:"Date Added (Newest)"}),t.jsx("option",{value:"title",children:"Title (A-Z)"}),t.jsx("option",{value:"artist",children:"Artist (A-Z)"}),t.jsx("option",{value:"bpm",children:"BPM (High to Low)"})]})]})]})]}),t.jsx("div",{className:"px-4 md:px-10 pt-4 md:pt-5 pb-2",children:t.jsxs("div",{className:"rounded-2xl bg-white/[0.02] backdrop-blur-sm border border-white/10 shadow-lg shadow-black/10 p-4 sm:p-5",children:[t.jsx("div",{className:"text-sm font-semibold text-white/80 mb-3",children:"Elige la tonalidad:"}),t.jsx("div",{className:"overflow-x-auto scrollbar-hidden",children:t.jsx("div",{className:"flex gap-2 min-w-max",children:[...D,...u].map(L=>{const Q=m===L;return t.jsx("button",{type:"button",onClick:()=>U(L),className:`h-9 w-9 sm:h-10 sm:w-10 rounded-lg text-xs font-extrabold text-black border transition-all duration-150 flex-shrink-0 ${Q?"border-white/80 ring-2 ring-white/60 scale-[1.02]":"border-black/10 hover:brightness-105 hover:scale-[1.02]"}`,style:{backgroundColor:k[L]},children:L},L)})})})]})}),p==="list"?t.jsx(Ra,{tracks:H,onTrackInteraction:d}):t.jsx(yu,{tracks:H,onTrackInteraction:d}),t.jsx("div",{className:"px-4 md:px-10 py-6 md:py-8",children:t.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-6 max-w-6xl mx-auto",children:[t.jsxs("div",{className:"flex items-center gap-3 bg-white/[0.02] backdrop-blur-sm border border-white/10 rounded-xl px-4 py-2.5 shadow-lg",children:[t.jsx("span",{className:"text-sm font-medium text-brand-text-secondary whitespace-nowrap",children:"Songs per page:"}),t.jsxs("select",{value:F,onChange:L=>pe(L.target.value),className:"bg-dark-elevated text-white text-sm font-semibold px-3 py-1.5 rounded-lg border border-white/20 focus:border-accent focus:ring-2 focus:ring-accent/30 focus:outline-none transition-all duration-200 cursor-pointer hover:bg-dark-elevated/80 hover:border-white/30",children:[t.jsx("option",{value:"15",children:"15"}),t.jsx("option",{value:"30",children:"30"}),t.jsx("option",{value:"50",children:"50"})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("button",{onClick:()=>Y(c-1),disabled:c===1,className:`px-5 py-2.5 rounded-xl font-semibold text-sm transition-all duration-200 ${c===1?"bg-dark-elevated/20 text-brand-text-tertiary/40 cursor-not-allowed":"bg-white/[0.05] text-white hover:bg-white/[0.08] hover:scale-105 border border-white/10 shadow-lg"}`,children:"Previous"}),t.jsx("div",{className:"flex items-center gap-2 bg-white/[0.02] backdrop-blur-sm border border-white/10 rounded-xl px-3 py-2 shadow-lg",children:ye().map((L,Q)=>L==="..."?t.jsx("span",{className:"px-2 text-brand-text-tertiary font-bold",children:"..."},`ellipsis-${Q}`):t.jsx("button",{onClick:()=>Y(L),className:`min-w-[36px] h-9 rounded-lg font-bold text-sm transition-all duration-200 ${c===L?"bg-accent text-white shadow-lg shadow-accent/40 scale-105":"bg-transparent text-brand-text-secondary hover:bg-white/[0.05] hover:text-white"}`,children:L},L))}),t.jsx("button",{onClick:()=>Y(c+1),disabled:c===N,className:`px-5 py-2.5 rounded-xl font-semibold text-sm transition-all duration-200 ${c===N?"bg-dark-elevated/20 text-brand-text-tertiary/40 cursor-not-allowed":"bg-white/[0.05] text-white hover:bg-white/[0.08] hover:scale-105 border border-white/10 shadow-lg"}`,children:"Next"})]})]})})]})}const Rx="http://localhost:5000/api",Ux=i=>{const d=Math.floor((Date.now()-new Date(i).getTime())/1e3);if(d<60)return"just now";const c=Math.floor(d/60);if(c<60)return`${c}m ago`;const g=Math.floor(c/60);return g<24?`${g}h ago`:`${Math.floor(g/24)}d ago`},Ix=i=>{switch(i){case"download":return pt;case"upload":return Dt;case"signup":return _a;case"upgrade":return ks;default:return ou}};function Yd({onNavigate:i}){const[d,c]=h.useState(null),[g,p]=h.useState(!0),[b,j]=h.useState(null),S=async()=>{try{p(!0),j(null);const u=localStorage.getItem("token"),z=await(await fetch(`${Rx}/admin/overview`,{headers:{Authorization:`Bearer ${u}`}})).json();z.success?c(z.data):j(z.message||"Failed to load overview")}catch(u){j(u.message)}finally{p(!1)}};if(h.useEffect(()=>{S();const u=setInterval(S,6e4);return()=>clearInterval(u)},[]),g&&!d)return t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx(Pe,{className:"w-8 h-8 text-accent animate-spin"})});if(b&&!d)return t.jsxs("div",{className:"flex flex-col items-center justify-center h-64 gap-4",children:[t.jsx("p",{className:"text-red-400 text-sm",children:b}),t.jsx("button",{onClick:S,className:"px-4 py-2 rounded-lg bg-accent text-white text-sm font-medium",children:"Retry"})]});const{stats:v,recentActivity:C,systemStatus:m}=d,T=[{label:"Total Tracks",value:v.totalTracks.toLocaleString(),icon:$e,change:v.tracksChange,color:"from-blue-500 to-cyan-500"},{label:"Total Users",value:v.totalUsers.toLocaleString(),icon:Hr,change:v.usersChange,color:"from-purple-500 to-pink-500"},{label:"Downloads Today",value:v.downloadsToday.toLocaleString(),icon:pt,change:v.downloadsChange,color:"from-green-500 to-emerald-500"},{label:"Active Subscriptions",value:v.activeSubscriptions.toLocaleString(),icon:za,change:v.subscriptionsChange,color:"from-orange-500 to-red-500"}],F=[{label:"Upload Track",icon:Dt,color:"bg-accent",section:"tracks"},{label:"Create Album",icon:$e,color:"bg-purple-500",section:"recordpool"},{label:"Add User",icon:_a,color:"bg-green-500",section:"users"},{label:"View Reports",icon:ou,color:"bg-orange-500",section:"analytics"}],B=m.memoryTotalMB>0?Math.round(m.memoryUsedMB/m.memoryTotalMB*100):0,D=u=>{const k=Math.floor(u/86400),z=Math.floor(u%86400/3600),$=Math.floor(u%3600/60);return k>0?`${k}d ${z}h`:z>0?`${z}h ${$}m`:`${$}m`};return t.jsxs("div",{className:"p-4 md:p-8",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6 md:mb-8",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl md:text-3xl font-bold text-white mb-1 md:mb-2",children:"Dashboard Overview"}),t.jsx("p",{className:"text-xs md:text-base text-brand-text-tertiary",children:"Welcome back! Here's what's happening today."})]}),t.jsx("button",{onClick:S,disabled:g,className:"w-9 h-9 rounded-lg bg-dark-elevated border border-white/10 flex items-center justify-center text-brand-text-tertiary hover:text-white transition-colors",title:"Refresh",children:t.jsx(fu,{className:`w-4 h-4 ${g?"animate-spin":""}`})})]}),t.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-6 md:mb-8",children:T.map((u,k)=>{const z=u.icon,$=u.change.startsWith("+");return t.jsxs("div",{className:"bg-dark-elevated rounded-2xl p-4 md:p-6 border border-white/10 hover:border-white/20 transition-all duration-300 hover:scale-105",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3 md:mb-4",children:[t.jsx("div",{className:`w-10 h-10 md:w-12 md:h-12 rounded-xl bg-gradient-to-br ${u.color} flex items-center justify-center`,children:t.jsx(z,{className:"w-5 h-5 md:w-6 md:h-6 text-white",strokeWidth:2})}),t.jsx("span",{className:`text-[10px] md:text-xs font-semibold px-1.5 md:px-2 py-0.5 md:py-1 rounded-full ${$?"text-green-400 bg-green-400/10":"text-red-400 bg-red-400/10"}`,children:u.change})]}),t.jsx("h3",{className:"text-xl md:text-3xl font-bold text-white mb-0.5 md:mb-1",children:u.value}),t.jsx("p",{className:"text-[10px] md:text-sm text-brand-text-tertiary",children:u.label})]},k)})}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6",children:[t.jsxs("div",{className:"lg:col-span-2 bg-dark-elevated rounded-2xl p-4 md:p-6 border border-white/10",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4 md:mb-6",children:[t.jsx("h3",{className:"text-base md:text-xl font-bold text-white",children:"Recent Activity"}),t.jsx("span",{className:"text-[10px] md:text-xs text-brand-text-tertiary",children:"Live"})]}),C.length===0?t.jsx("p",{className:"text-sm text-brand-text-tertiary text-center py-8",children:"No recent activity"}):t.jsx("div",{className:"space-y-2 md:space-y-4",children:C.map((u,k)=>{const z=Ix(u.type);return t.jsxs("div",{className:"flex items-center gap-3 md:gap-4 p-2 md:p-3 rounded-lg hover:bg-dark-surface transition-colors duration-200",children:[t.jsx("div",{className:"w-9 h-9 md:w-10 md:h-10 rounded-full bg-dark-surface flex items-center justify-center flex-shrink-0",children:t.jsx(z,{className:"w-4 h-4 md:w-5 md:h-5 text-accent",strokeWidth:2})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("p",{className:"text-xs md:text-sm text-white",children:[t.jsx("span",{className:"font-semibold",children:u.user})," ",u.action]}),t.jsx("p",{className:"text-[10px] md:text-xs text-brand-text-tertiary",children:Ux(u.time)})]})]},k)})})]}),t.jsxs("div",{className:"bg-dark-elevated rounded-2xl p-4 md:p-6 border border-white/10",children:[t.jsx("h3",{className:"text-base md:text-xl font-bold text-white mb-4 md:mb-6",children:"Quick Actions"}),t.jsx("div",{className:"space-y-2 md:space-y-3",children:F.map((u,k)=>{const z=u.icon;return t.jsxs("button",{onClick:()=>i==null?void 0:i(u.section),className:`w-full flex items-center gap-3 px-4 py-2.5 md:py-3 rounded-lg ${u.color} hover:opacity-90 transition-all duration-200 hover:scale-105 text-white text-sm font-medium shadow-lg`,children:[t.jsx(z,{className:"w-5 h-5",strokeWidth:2}),t.jsx("span",{children:u.label})]},k)})}),t.jsxs("div",{className:"mt-5 md:mt-6 pt-5 md:pt-6 border-t border-white/10",children:[t.jsx("h4",{className:"text-sm font-semibold text-white mb-3",children:"System Status"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between text-xs",children:[t.jsx("span",{className:"text-brand-text-tertiary",children:"Server"}),t.jsxs("span",{className:"text-green-400 font-medium",children:[" ",m.server==="online"?"Online":"Offline"]})]}),t.jsxs("div",{className:"flex items-center justify-between text-xs",children:[t.jsx("span",{className:"text-brand-text-tertiary",children:"Memory"}),t.jsxs("span",{className:"text-white font-medium",children:[m.memoryUsedMB,"MB / ",m.memoryTotalMB,"MB (",B,"%)"]})]}),t.jsxs("div",{className:"flex items-center justify-between text-xs",children:[t.jsx("span",{className:"text-brand-text-tertiary",children:"Uptime"}),t.jsx("span",{className:"text-white font-medium",children:D(m.uptime)})]}),t.jsxs("div",{className:"flex items-center justify-between text-xs",children:[t.jsx("span",{className:"text-brand-text-tertiary",children:"API"}),t.jsx("span",{className:"text-green-400 font-medium",children:" Healthy"})]})]})]})]})]})]})}const Fa="http://localhost:5000/api",wu=()=>localStorage.getItem("token"),Fi=(i=!1)=>{const d={},c=wu();return c&&(d.Authorization=`Bearer ${c}`),i&&(d["Content-Type"]="application/json"),d};function Ox(){const[i,d]=h.useState("list"),[c,g]=h.useState(""),[p,b]=h.useState(""),[j,S]=h.useState(!1),[v,C]=h.useState([]),[m,T]=h.useState(!1),[F,B]=h.useState({}),D=h.useRef(null),[u,k]=h.useState([]),[z,$]=h.useState(!0),[N,I]=h.useState({total:0,page:1,limit:25,pages:1}),[J,H]=h.useState(null),[Y,ne]=h.useState(null);h.useEffect(()=>{const P=setTimeout(()=>b(c),400);return()=>clearTimeout(P)},[c]);const U=h.useCallback(async(P=1)=>{$(!0);try{const ee=new URLSearchParams({page:P,limit:25});p&&ee.set("search",p);const _=await fetch(`${Fa}/tracks?${ee}`,{headers:Fi()});if(!_.ok){const K=await _.text();console.error("Tracks API HTTP error:",_.status,K);return}const re=await _.json();re.success?(k(re.data),I(re.pagination)):console.error("Tracks API error:",re.message)}catch(ee){console.error("Failed to fetch tracks:",ee.message||ee)}finally{$(!1)}},[p]);h.useEffect(()=>{U(1)},[U]);const de=async P=>{try{(await(await fetch(`${Fa}/tracks/${P}`,{method:"DELETE",headers:Fi()})).json()).success&&(ne(null),U(N.page))}catch(ee){console.error("Delete failed:",ee)}},pe=async(P,ee)=>{try{(await(await fetch(`${Fa}/tracks/${P}`,{method:"PUT",headers:Fi(!0),body:JSON.stringify(ee)})).json()).success&&(H(null),U(N.page))}catch(_){console.error("Update failed:",_)}},ye=P=>P!=null&&P.tonality?P.tonality.camelot?P.tonality.camelot:P.tonality.key?`${P.tonality.key}${P.tonality.scale?` ${P.tonality.scale}`:""}`:"":"",L=P=>{var ee;return((ee=P==null?void 0:P.tonality)==null?void 0:ee.source)||""},Q=(N.page-1)*N.limit+1,X=Math.min(N.page*N.limit,N.total);return t.jsxs("div",{className:"p-8",children:[t.jsxs("div",{className:"flex items-center justify-between mb-8",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Track Management"}),t.jsxs("p",{className:"text-brand-text-tertiary",children:["Manage all tracks in the system  ",t.jsx("span",{className:"text-white font-semibold",children:N.total})," total"]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("button",{className:"flex items-center gap-2 px-4 py-2.5 rounded-lg bg-dark-elevated hover:bg-dark-surface border border-white/10 text-white transition-all duration-200",children:[t.jsx(pt,{className:"w-4 h-4"}),t.jsx("span",{className:"font-medium",children:"Export"})]}),t.jsxs("button",{onClick:()=>S(!0),className:"flex items-center gap-2 px-4 py-2.5 rounded-lg bg-accent hover:bg-accent-hover text-white font-medium transition-all duration-200 shadow-lg shadow-accent/30",children:[t.jsx(Dt,{className:"w-4 h-4"}),t.jsx("span",{children:"Upload Tracks"})]})]})]}),t.jsx("div",{className:"bg-dark-elevated rounded-xl p-4 border border-white/10 mb-6",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(mn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-brand-text-tertiary"}),t.jsx("input",{type:"text",placeholder:"Search tracks by title, artist...",value:c,onChange:P=>g(P.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-dark-surface border border-white/10 rounded-lg text-white placeholder-brand-text-tertiary focus:outline-none focus:border-accent transition-colors"})]}),t.jsxs("div",{className:"flex items-center gap-1 bg-dark-surface rounded-lg p-1 border border-white/10",children:[t.jsx("button",{onClick:()=>d("list"),className:`p-2 rounded transition-colors ${i==="list"?"bg-accent text-white":"text-brand-text-tertiary hover:text-white"}`,children:t.jsx(Ji,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>d("grid"),className:`p-2 rounded transition-colors ${i==="grid"?"bg-accent text-white":"text-brand-text-tertiary hover:text-white"}`,children:t.jsx(Qi,{className:"w-4 h-4"})})]})]})}),z&&t.jsx("div",{className:"flex items-center justify-center py-16",children:t.jsx(Pe,{className:"w-8 h-8 text-accent animate-spin"})}),!z&&u.length>0&&t.jsxs("div",{className:"bg-dark-elevated rounded-xl border border-white/10 overflow-hidden",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-white/10 bg-dark-surface",children:[t.jsx("th",{className:"text-left px-6 py-4 text-xs font-semibold text-brand-text-tertiary uppercase tracking-wider",children:"Track"}),t.jsx("th",{className:"text-left px-6 py-4 text-xs font-semibold text-brand-text-tertiary uppercase tracking-wider",children:"Album"}),t.jsx("th",{className:"text-left px-6 py-4 text-xs font-semibold text-brand-text-tertiary uppercase tracking-wider",children:"Genre"}),t.jsx("th",{className:"text-left px-6 py-4 text-xs font-semibold text-brand-text-tertiary uppercase tracking-wider",children:"BPM"}),t.jsx("th",{className:"text-left px-6 py-4 text-xs font-semibold text-brand-text-tertiary uppercase tracking-wider",children:"Tonality"}),t.jsx("th",{className:"text-left px-6 py-4 text-xs font-semibold text-brand-text-tertiary uppercase tracking-wider",children:"Pool"}),t.jsx("th",{className:"text-left px-6 py-4 text-xs font-semibold text-brand-text-tertiary uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"text-left px-6 py-4 text-xs font-semibold text-brand-text-tertiary uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-white/5",children:u.map(P=>{var ee;return t.jsxs("tr",{className:"hover:bg-dark-surface transition-colors",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{children:[t.jsx("div",{className:"font-semibold text-white truncate max-w-[260px]",children:P.title}),t.jsx("div",{className:"text-sm text-brand-text-tertiary truncate max-w-[260px]",children:P.artist})]})}),t.jsx("td",{className:"px-6 py-4 text-sm text-brand-text-tertiary truncate max-w-[160px]",children:((ee=P.albumId)==null?void 0:ee.name)||""}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:"px-2 py-1 rounded-md text-xs font-bold text-white bg-accent/80 border border-accent/40",children:P.genre||""})}),t.jsx("td",{className:"px-6 py-4 text-sm text-white",children:P.bpm||""}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:`px-2 py-1 rounded-md text-xs font-bold text-white ${L(P)==="audio-analysis"?"bg-green-600":L(P)==="id3-tag"?"bg-blue-600":L(P)==="openai"?"bg-yellow-600":"bg-gray-600"}`,title:`Source: ${L(P)||"unknown"}`,children:ye(P)})}),t.jsx("td",{className:"px-6 py-4 text-sm text-brand-text-tertiary",children:P.pool||""}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${P.status==="published"?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30"}`,children:P.status||"published"})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>H(P),className:"p-2 hover:bg-dark-elevated rounded-lg transition-colors text-brand-text-tertiary hover:text-white",children:t.jsx(Ki,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>ne(P),className:"p-2 hover:bg-dark-elevated rounded-lg transition-colors text-brand-text-tertiary hover:text-red-400",children:t.jsx(Wr,{className:"w-4 h-4"})})]})})]},P._id)})})]})}),t.jsxs("div",{className:"px-6 py-4 border-t border-white/10 flex items-center justify-between",children:[t.jsxs("div",{className:"text-sm text-brand-text-tertiary",children:["Showing ",t.jsxs("span",{className:"font-semibold text-white",children:[Q,"-",X]})," of ",t.jsx("span",{className:"font-semibold text-white",children:N.total.toLocaleString()})," tracks"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:()=>U(N.page-1),disabled:N.page<=1,className:"px-3 py-1.5 rounded-lg bg-dark-surface hover:bg-dark-elevated border border-white/10 text-white text-sm transition-colors disabled:opacity-40 disabled:cursor-not-allowed flex items-center gap-1",children:[t.jsx(hu,{className:"w-4 h-4"})," Prev"]}),t.jsxs("span",{className:"text-sm text-white font-medium px-2",children:[N.page," / ",N.pages]}),t.jsxs("button",{onClick:()=>U(N.page+1),disabled:N.page>=N.pages,className:"px-3 py-1.5 rounded-lg bg-dark-surface hover:bg-dark-elevated border border-white/10 text-white text-sm transition-colors disabled:opacity-40 disabled:cursor-not-allowed flex items-center gap-1",children:["Next ",t.jsx(Ir,{className:"w-4 h-4"})]})]})]})]}),!z&&u.length===0&&t.jsxs("div",{className:"text-center py-20",children:[t.jsx($e,{className:"w-16 h-16 mx-auto mb-4 text-brand-text-tertiary opacity-30"}),t.jsx("p",{className:"text-brand-text-tertiary text-lg",children:p?"No tracks match your search":"No tracks in the system yet"})]}),Y&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-dark-surface rounded-2xl border border-white/10 p-8 max-w-md w-full mx-4",children:[t.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Delete Track"}),t.jsx("p",{className:"text-brand-text-tertiary mb-1",children:"Are you sure you want to delete:"}),t.jsxs("p",{className:"text-white font-semibold mb-6",children:[Y.title,"  ",Y.artist]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>ne(null),className:"flex-1 px-4 py-2.5 rounded-lg bg-dark-elevated hover:bg-dark-surface border border-white/10 text-white font-medium transition-colors",children:"Cancel"}),t.jsx("button",{onClick:()=>de(Y._id),className:"flex-1 px-4 py-2.5 rounded-lg bg-red-600 hover:bg-red-700 text-white font-medium transition-colors",children:"Delete"})]})]})}),J&&t.jsx(Hx,{track:J,onClose:()=>H(null),onSave:pe}),j&&t.jsx(Vx,{onClose:()=>{S(!1),C([]),B({}),U(N.page)},uploadFiles:v,setUploadFiles:C,isDragging:m,setIsDragging:T,uploadProgress:F,setUploadProgress:B,fileInputRef:D})]})}function Hx({track:i,onClose:d,onSave:c}){const[g,p]=h.useState(i.title||""),[b,j]=h.useState(i.artist||""),[S,v]=h.useState(i.bpm||""),[C,m]=h.useState(i.genre||""),[T,F]=h.useState(i.coverArt||""),[B,D]=h.useState(!1),[u,k]=h.useState(""),z=h.useRef(null),$=async N=>{if(!(!N||!N.type.startsWith("image/"))){D(!0),k("");try{const I=new FormData;I.append("thumbnail",N);const H=await(await fetch(`${Fa}/tracks/${i._id}/thumbnail`,{method:"PUT",headers:{Authorization:`Bearer ${wu()}`},body:I})).json();H.success?(F(H.data.coverArt),k("Thumbnail updated!")):k(H.message||"Upload failed")}catch{k("Upload error")}finally{D(!1)}}};return t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-dark-surface rounded-2xl border border-white/10 p-8 max-w-lg w-full mx-4 max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-xl font-bold text-white",children:"Edit Track"}),t.jsx("button",{onClick:d,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:t.jsx(Ve,{className:"w-5 h-5 text-white"})})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-sm font-medium text-brand-text-tertiary mb-2",children:"Cover Art"}),t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsxs("div",{className:"w-24 h-24 rounded-xl overflow-hidden bg-dark-elevated border-2 border-dashed border-white/10 flex-shrink-0 cursor-pointer hover:border-accent/50 transition-colors relative group",onClick:()=>{var N;return(N=z.current)==null?void 0:N.click()},onDragOver:N=>{N.preventDefault(),N.stopPropagation()},onDrop:N=>{N.preventDefault(),N.stopPropagation();const I=N.dataTransfer.files[0];I&&$(I)},children:[T?t.jsx("img",{src:T,alt:"Cover",className:"w-full h-full object-cover",onError:N=>{N.target.style.display="none"}}):t.jsx("div",{className:"w-full h-full flex flex-col items-center justify-center",children:t.jsx($e,{className:"w-8 h-8 text-white/20"})}),t.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:t.jsx(Dt,{className:"w-5 h-5 text-white"})}),B&&t.jsx("div",{className:"absolute inset-0 bg-black/70 flex items-center justify-center",children:t.jsx(Pe,{className:"w-5 h-5 text-accent animate-spin"})})]}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-xs text-brand-text-tertiary mb-2",children:"Click or drag an image to upload a custom cover art for this track."}),t.jsx("button",{onClick:()=>{var N;return(N=z.current)==null?void 0:N.click()},className:"px-3 py-1.5 rounded-lg bg-dark-elevated hover:bg-dark-surface border border-white/10 text-white text-xs font-medium transition-colors",children:"Choose Image"}),u&&t.jsx("p",{className:`text-xs mt-1.5 ${u.includes("updated")?"text-green-400":"text-red-400"}`,children:u})]})]}),t.jsx("input",{ref:z,type:"file",accept:"image/*",className:"hidden",onChange:N=>{const I=N.target.files[0];I&&$(I),N.target.value=""}})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-brand-text-tertiary mb-1",children:"Title"}),t.jsx("input",{value:g,onChange:N=>p(N.target.value),className:"w-full px-4 py-2.5 bg-dark-elevated border border-white/10 rounded-lg text-white focus:outline-none focus:border-accent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-brand-text-tertiary mb-1",children:"Artist"}),t.jsx("input",{value:b,onChange:N=>j(N.target.value),className:"w-full px-4 py-2.5 bg-dark-elevated border border-white/10 rounded-lg text-white focus:outline-none focus:border-accent"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-brand-text-tertiary mb-1",children:"BPM"}),t.jsx("input",{type:"number",value:S,onChange:N=>v(N.target.value),className:"w-full px-4 py-2.5 bg-dark-elevated border border-white/10 rounded-lg text-white focus:outline-none focus:border-accent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-brand-text-tertiary mb-1",children:"Genre"}),t.jsx("input",{value:C,onChange:N=>m(N.target.value),className:"w-full px-4 py-2.5 bg-dark-elevated border border-white/10 rounded-lg text-white focus:outline-none focus:border-accent"})]})]})]}),t.jsxs("div",{className:"flex gap-3 mt-6",children:[t.jsx("button",{onClick:d,className:"flex-1 px-4 py-2.5 rounded-lg bg-dark-elevated hover:bg-dark-surface border border-white/10 text-white font-medium transition-colors",children:"Cancel"}),t.jsx("button",{onClick:()=>c(i._id,{title:g,artist:b,bpm:parseInt(S)||void 0,genre:C}),className:"flex-1 px-4 py-2.5 rounded-lg bg-accent hover:bg-accent-hover text-white font-medium transition-colors",children:"Save"})]})]})})}function Vx({onClose:i,uploadFiles:d,setUploadFiles:c,isDragging:g,setIsDragging:p,uploadProgress:b,setUploadProgress:j,fileInputRef:S}){const v=h.useCallback(N=>{N.preventDefault(),p(!0)},[p]),C=h.useCallback(N=>{N.preventDefault(),p(!1)},[p]),m=h.useCallback(N=>{N.preventDefault(),p(!1);const I=Array.from(N.dataTransfer.files);F(I)},[p]),T=N=>{const I=Array.from(N.target.files);F(I)},F=N=>{const J=N.filter(H=>{const Y=H.type.startsWith("audio/")||H.name.match(/\.(mp3|wav|flac|m4a)$/i),ne=H.type==="application/zip"||H.name.endsWith(".zip");return Y||ne}).map(H=>({file:H,id:Math.random().toString(36).substr(2,9),name:H.name,size:H.size,type:H.type,status:"pending",progress:0,metadata:null}));c(H=>[...H,...J])},B=N=>{c(I=>I.filter(J=>J.id!==N)),j(I=>{const J={...I};return delete J[N],J})},D=async N=>{const I=new FormData;I.append("file",N.file);try{j(Y=>({...Y,[N.id]:{status:"uploading",progress:0}}));const J=new XMLHttpRequest;J.upload.addEventListener("progress",Y=>{if(Y.lengthComputable){const ne=Y.loaded/Y.total*100;j(U=>({...U,[N.id]:{status:"uploading",progress:ne}}))}}),J.addEventListener("load",()=>{if(J.status===200){const Y=JSON.parse(J.responseText);j(ne=>({...ne,[N.id]:{status:"complete",progress:100,data:Y}}))}else j(Y=>({...Y,[N.id]:{status:"error",progress:0,error:"Upload failed"}}))}),J.addEventListener("error",()=>{j(Y=>({...Y,[N.id]:{status:"error",progress:0,error:"Network error"}}))}),J.open("POST","http://localhost:5000/api/tracks/upload");const H=localStorage.getItem("token");H&&J.setRequestHeader("Authorization",`Bearer ${H}`),J.send(I)}catch(J){j(H=>({...H,[N.id]:{status:"error",progress:0,error:J.message}}))}},u=()=>{d.forEach(N=>{(!b[N.id]||b[N.id].status==="pending")&&D(N)})},k=N=>{if(N===0)return"0 Bytes";const I=1024,J=["Bytes","KB","MB","GB"],H=Math.floor(Math.log(N)/Math.log(I));return Math.round(N/Math.pow(I,H)*100)/100+" "+J[H]},z=N=>N.endsWith(".zip")?Qm:$e,$=N=>{var J;const I=(J=b[N])==null?void 0:J.status;return I==="complete"?t.jsx(Vr,{className:"w-5 h-5 text-green-400"}):I==="error"?t.jsx(jr,{className:"w-5 h-5 text-red-400"}):I==="uploading"?t.jsx(Pe,{className:"w-5 h-5 text-accent animate-spin"}):t.jsx(Vm,{className:"w-5 h-5 text-brand-text-tertiary"})};return t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-md animate-in fade-in duration-200",children:t.jsxs("div",{className:"relative w-full max-w-4xl mx-4 max-h-[90vh] bg-dark-surface/95 backdrop-blur-xl rounded-2xl border border-white/10 shadow-2xl shadow-black/40 animate-in zoom-in duration-300 flex flex-col",children:[t.jsx("button",{onClick:i,className:"absolute top-5 right-5 w-9 h-9 rounded-full bg-white hover:bg-brand-text-secondary border border-brand-black/10 hover:border-brand-black/20 flex items-center justify-center transition-all duration-150 hover:scale-110 text-black z-10",children:t.jsx(Ve,{className:"w-4 h-4",strokeWidth:2})}),t.jsxs("div",{className:"p-8 border-b border-white/10",children:[t.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Upload Tracks"}),t.jsx("p",{className:"text-sm text-brand-text-tertiary",children:"Upload individual tracks or ZIP files containing multiple tracks"})]}),t.jsxs("div",{className:"p-8 flex-1 overflow-y-auto",children:[t.jsxs("div",{onDragOver:v,onDragLeave:C,onDrop:m,onClick:()=>{var N;return(N=S.current)==null?void 0:N.click()},className:`border-2 border-dashed rounded-xl p-12 text-center cursor-pointer transition-all duration-200 mb-6 ${g?"border-accent bg-accent/10":"border-white/20 hover:border-accent/50 hover:bg-white/5"}`,children:[t.jsx(Dt,{className:`w-12 h-12 mx-auto mb-4 ${g?"text-accent":"text-brand-text-tertiary"}`}),t.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:g?"Drop files here":"Drag & drop files here"}),t.jsx("p",{className:"text-sm text-brand-text-tertiary mb-4",children:"or click to browse"}),t.jsx("p",{className:"text-xs text-brand-text-tertiary",children:"Supported: MP3, WAV, FLAC, ZIP (max 500MB per file)"}),t.jsx("input",{ref:S,type:"file",multiple:!0,accept:"audio/*,.zip",onChange:T,className:"hidden"})]}),d.length>0&&t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("h3",{className:"text-lg font-semibold text-white",children:["Files (",d.length,")"]}),t.jsx("button",{onClick:u,className:"px-4 py-2 rounded-lg bg-accent hover:bg-accent-hover text-white font-medium transition-all duration-200 text-sm",children:"Upload All"})]}),d.map(N=>{const I=z(N.name),J=b[N.id];return t.jsx("div",{className:"bg-dark-elevated rounded-lg p-4 border border-white/10 hover:border-white/20 transition-all duration-200",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"flex-shrink-0",children:$(N.id)}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx(I,{className:"w-4 h-4 text-accent flex-shrink-0"}),t.jsx("p",{className:"text-sm font-medium text-white truncate",children:N.name})]}),t.jsx("p",{className:"text-xs text-brand-text-tertiary",children:k(N.size)}),J&&J.status==="uploading"&&t.jsxs("div",{className:"mt-2",children:[t.jsx("div",{className:"w-full bg-dark-surface rounded-full h-1.5",children:t.jsx("div",{className:"bg-accent h-1.5 rounded-full transition-all duration-300",style:{width:`${J.progress}%`}})}),t.jsxs("p",{className:"text-xs text-brand-text-tertiary mt-1",children:[Math.round(J.progress),"%"]})]}),J&&J.status==="error"&&t.jsx("p",{className:"text-xs text-red-400 mt-1",children:J.error}),J&&J.status==="complete"&&t.jsx("p",{className:"text-xs text-green-400 mt-1",children:"Upload complete"})]}),t.jsx("button",{onClick:()=>B(N.id),className:"flex-shrink-0 p-2 hover:bg-dark-surface rounded-lg transition-colors text-brand-text-tertiary hover:text-red-400",children:t.jsx(Wr,{className:"w-4 h-4"})})]})},N.id)})]})]})]})})}function Wx(){return t.jsxs("div",{className:"p-8",children:[t.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Pack Management"}),t.jsx("p",{className:"text-brand-text-tertiary",children:"Manage weekly/monthly packs - Coming soon"})]})}function Qx(){return t.jsxs("div",{className:"p-8",children:[t.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Crate Management"}),t.jsx("p",{className:"text-brand-text-tertiary",children:"Manage DJ crates - Coming soon"})]})}const Pi="http://localhost:5000/api",Gx=()=>localStorage.getItem("token"),zi=(i=!1)=>{const d={},c=Gx();return c&&(d.Authorization=`Bearer ${c}`),i&&(d["Content-Type"]="application/json"),d};function Jx(){const[i,d]=h.useState(""),[c,g]=h.useState(""),[p,b]=h.useState([]),[j,S]=h.useState(!0),[v,C]=h.useState({total:0,page:1,limit:25,pages:1}),[m,T]=h.useState({totalUsers:0,premiumCount:0,proCount:0,newThisMonth:0}),[F,B]=h.useState(null),[D,u]=h.useState(null);h.useEffect(()=>{const U=setTimeout(()=>g(i),400);return()=>clearTimeout(U)},[i]);const k=h.useCallback(async(U=1)=>{S(!0);try{const de=new URLSearchParams({page:U,limit:25});c&&de.set("search",c);const pe=await fetch(`${Pi}/users?${de}`,{headers:zi()});if(!pe.ok){console.error("Users API HTTP error:",pe.status,await pe.text());return}const ye=await pe.json();ye.success&&(b(ye.data),C(ye.pagination),T(ye.stats))}catch(de){console.error("Failed to fetch users:",de.message||de)}finally{S(!1)}},[c]);h.useEffect(()=>{k(1)},[k]);const z=async U=>{try{(await(await fetch(`${Pi}/users/${U}`,{method:"DELETE",headers:zi()})).json()).success&&(u(null),k(v.page))}catch(de){console.error("Delete failed:",de)}},$=async(U,de)=>{try{(await(await fetch(`${Pi}/users/${U}`,{method:"PUT",headers:zi(!0),body:JSON.stringify(de)})).json()).success&&(B(null),k(v.page))}catch(pe){console.error("Update failed:",pe)}},N=U=>{switch(U){case"admin":return er;default:return $a}},I=U=>{var de,pe;return U.role==="admin"?"Admin":(((de=U.subscription)==null?void 0:de.plan)||"free").charAt(0).toUpperCase()+(((pe=U.subscription)==null?void 0:pe.plan)||"free").slice(1)},J=U=>{var pe;if(U.role==="admin")return"from-red-500 to-pink-500";const de=((pe=U.subscription)==null?void 0:pe.plan)||"free";return de==="pro"?"from-orange-500 to-red-500":de==="premium"?"from-purple-500 to-pink-500":"from-gray-500 to-gray-600"},H=U=>{if(!U)return"";const de=Date.now()-new Date(U).getTime(),pe=Math.floor(de/6e4);if(pe<1)return"Just now";if(pe<60)return`${pe}m ago`;const ye=Math.floor(pe/60);return ye<24?`${ye}h ago`:`${Math.floor(ye/24)}d ago`},Y=(v.page-1)*v.limit+1,ne=Math.min(v.page*v.limit,v.total);return t.jsxs("div",{className:"p-8",children:[t.jsx("div",{className:"flex items-center justify-between mb-8",children:t.jsxs("div",{children:[t.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Member Management"}),t.jsx("p",{className:"text-brand-text-tertiary",children:"Manage all members and their permissions"})]})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[t.jsxs("div",{className:"bg-dark-elevated rounded-xl p-6 border border-white/10",children:[t.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:m.totalUsers.toLocaleString()}),t.jsx("p",{className:"text-sm text-brand-text-tertiary",children:"Total Members"})]}),t.jsxs("div",{className:"bg-dark-elevated rounded-xl p-6 border border-white/10",children:[t.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:m.premiumCount.toLocaleString()}),t.jsx("p",{className:"text-sm text-brand-text-tertiary",children:"Premium Members"})]}),t.jsxs("div",{className:"bg-dark-elevated rounded-xl p-6 border border-white/10",children:[t.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:m.proCount.toLocaleString()}),t.jsx("p",{className:"text-sm text-brand-text-tertiary",children:"Pro Members"})]}),t.jsxs("div",{className:"bg-dark-elevated rounded-xl p-6 border border-white/10",children:[t.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:m.newThisMonth.toLocaleString()}),t.jsx("p",{className:"text-sm text-brand-text-tertiary",children:"New This Month"})]})]}),t.jsx("div",{className:"bg-dark-elevated rounded-xl p-4 border border-white/10 mb-6",children:t.jsxs("div",{className:"relative",children:[t.jsx(mn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-brand-text-tertiary"}),t.jsx("input",{type:"text",placeholder:"Search members by name or email...",value:i,onChange:U=>d(U.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-dark-surface border border-white/10 rounded-lg text-white placeholder-brand-text-tertiary focus:outline-none focus:border-accent transition-colors"})]})}),j&&t.jsx("div",{className:"flex items-center justify-center py-16",children:t.jsx(Pe,{className:"w-8 h-8 text-accent animate-spin"})}),!j&&p.length>0&&t.jsxs("div",{className:"bg-dark-elevated rounded-xl border border-white/10 overflow-hidden",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-white/10 bg-dark-surface",children:[t.jsx("th",{className:"text-left px-6 py-4 text-xs font-semibold text-brand-text-tertiary uppercase tracking-wider",children:"Member"}),t.jsx("th",{className:"text-left px-6 py-4 text-xs font-semibold text-brand-text-tertiary uppercase tracking-wider",children:"Role / Plan"}),t.jsx("th",{className:"text-left px-6 py-4 text-xs font-semibold text-brand-text-tertiary uppercase tracking-wider",children:"Joined"}),t.jsx("th",{className:"text-left px-6 py-4 text-xs font-semibold text-brand-text-tertiary uppercase tracking-wider",children:"Last Login"}),t.jsx("th",{className:"text-left px-6 py-4 text-xs font-semibold text-brand-text-tertiary uppercase tracking-wider",children:"Downloads"}),t.jsx("th",{className:"text-left px-6 py-4 text-xs font-semibold text-brand-text-tertiary uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"text-left px-6 py-4 text-xs font-semibold text-brand-text-tertiary uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-white/5",children:p.map(U=>{var pe;const de=N(U.role);return t.jsxs("tr",{className:"hover:bg-dark-surface transition-colors",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`w-10 h-10 rounded-full bg-gradient-to-br ${J(U)} flex items-center justify-center`,children:t.jsx("span",{className:"text-white font-bold text-sm",children:(U.name||"?").charAt(0).toUpperCase()})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-semibold text-white",children:U.name}),t.jsx("div",{className:"text-sm text-brand-text-tertiary",children:U.email})]})]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(de,{className:"w-4 h-4 text-accent"}),t.jsx("span",{className:"text-sm font-medium text-white",children:I(U)})]})}),t.jsx("td",{className:"px-6 py-4 text-sm text-brand-text-tertiary",children:new Date(U.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),t.jsx("td",{className:"px-6 py-4 text-sm text-brand-text-tertiary",children:H(U.lastLogin)}),t.jsx("td",{className:"px-6 py-4 text-sm text-white",children:((pe=U.downloads)==null?void 0:pe.total)||0}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${U.isActive!==!1?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-red-500/20 text-red-400 border border-red-500/30"}`,children:U.isActive!==!1?"Active":"Inactive"})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>B(U),className:"p-2 hover:bg-dark-elevated rounded-lg transition-colors text-brand-text-tertiary hover:text-white",children:t.jsx(Ki,{className:"w-4 h-4"})}),U.role!=="admin"&&t.jsx("button",{onClick:()=>u(U),className:"p-2 hover:bg-dark-elevated rounded-lg transition-colors text-brand-text-tertiary hover:text-red-400",children:t.jsx(Wr,{className:"w-4 h-4"})})]})})]},U._id)})})]})}),t.jsxs("div",{className:"px-6 py-4 border-t border-white/10 flex items-center justify-between",children:[t.jsxs("div",{className:"text-sm text-brand-text-tertiary",children:["Showing ",t.jsxs("span",{className:"font-semibold text-white",children:[Y,"-",ne]})," of ",t.jsx("span",{className:"font-semibold text-white",children:v.total.toLocaleString()})," members"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:()=>k(v.page-1),disabled:v.page<=1,className:"px-3 py-1.5 rounded-lg bg-dark-surface hover:bg-dark-elevated border border-white/10 text-white text-sm transition-colors disabled:opacity-40 disabled:cursor-not-allowed flex items-center gap-1",children:[t.jsx(hu,{className:"w-4 h-4"})," Prev"]}),t.jsxs("span",{className:"text-sm text-white font-medium px-2",children:[v.page," / ",v.pages]}),t.jsxs("button",{onClick:()=>k(v.page+1),disabled:v.page>=v.pages,className:"px-3 py-1.5 rounded-lg bg-dark-surface hover:bg-dark-elevated border border-white/10 text-white text-sm transition-colors disabled:opacity-40 disabled:cursor-not-allowed flex items-center gap-1",children:["Next ",t.jsx(Ir,{className:"w-4 h-4"})]})]})]})]}),!j&&p.length===0&&t.jsxs("div",{className:"text-center py-20",children:[t.jsx(Hr,{className:"w-16 h-16 mx-auto mb-4 text-brand-text-tertiary opacity-30"}),t.jsx("p",{className:"text-brand-text-tertiary text-lg",children:c?"No members match your search":"No members yet"})]}),D&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-dark-surface rounded-2xl border border-white/10 p-8 max-w-md w-full mx-4",children:[t.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Delete Member"}),t.jsx("p",{className:"text-brand-text-tertiary mb-1",children:"Are you sure you want to delete:"}),t.jsxs("p",{className:"text-white font-semibold mb-6",children:[D.name," (",D.email,")"]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>u(null),className:"flex-1 px-4 py-2.5 rounded-lg bg-dark-elevated hover:bg-dark-surface border border-white/10 text-white font-medium transition-colors",children:"Cancel"}),t.jsx("button",{onClick:()=>z(D._id),className:"flex-1 px-4 py-2.5 rounded-lg bg-red-600 hover:bg-red-700 text-white font-medium transition-colors",children:"Delete"})]})]})}),F&&t.jsx(qx,{user:F,onClose:()=>B(null),onSave:$})]})}function qx({user:i,onClose:d,onSave:c}){var C;const[g,p]=h.useState(i.role||"user"),[b,j]=h.useState(((C=i.subscription)==null?void 0:C.plan)||"free"),[S,v]=h.useState(i.isActive!==!1);return t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-dark-surface rounded-2xl border border-white/10 p-8 max-w-lg w-full mx-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-xl font-bold text-white",children:"Edit Member"}),t.jsx("button",{onClick:d,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:t.jsx(Ve,{className:"w-5 h-5 text-white"})})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("p",{className:"text-white font-semibold",children:i.name}),t.jsx("p",{className:"text-sm text-brand-text-tertiary",children:i.email})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-brand-text-tertiary mb-1",children:"Role"}),t.jsxs("select",{value:g,onChange:m=>p(m.target.value),className:"w-full px-4 py-2.5 bg-dark-elevated border border-white/10 rounded-lg text-white focus:outline-none focus:border-accent",children:[t.jsx("option",{value:"user",children:"User"}),t.jsx("option",{value:"admin",children:"Admin"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-brand-text-tertiary mb-1",children:"Subscription Plan"}),t.jsxs("select",{value:b,onChange:m=>j(m.target.value),className:"w-full px-4 py-2.5 bg-dark-elevated border border-white/10 rounded-lg text-white focus:outline-none focus:border-accent",children:[t.jsx("option",{value:"free",children:"Free"}),t.jsx("option",{value:"premium",children:"Premium"}),t.jsx("option",{value:"pro",children:"Pro"})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("label",{className:"text-sm font-medium text-brand-text-tertiary",children:"Active"}),t.jsx("button",{onClick:()=>v(!S),className:`w-12 h-6 rounded-full transition-colors relative ${S?"bg-green-500":"bg-gray-600"}`,children:t.jsx("div",{className:`w-5 h-5 bg-white rounded-full absolute top-0.5 transition-transform ${S?"translate-x-6":"translate-x-0.5"}`})})]})]}),t.jsxs("div",{className:"flex gap-3 mt-6",children:[t.jsx("button",{onClick:d,className:"flex-1 px-4 py-2.5 rounded-lg bg-dark-elevated hover:bg-dark-surface border border-white/10 text-white font-medium transition-colors",children:"Cancel"}),t.jsx("button",{onClick:()=>c(i._id,{role:g,plan:b,isActive:S}),className:"flex-1 px-4 py-2.5 rounded-lg bg-accent hover:bg-accent-hover text-white font-medium transition-colors",children:"Save"})]})]})})}const Kx="http://localhost:5000/api",Zx=()=>localStorage.getItem("token"),Yx=()=>{const i={},d=Zx();return d&&(i.Authorization=`Bearer ${d}`),i};function Xx(){const[i,d]=h.useState(null),[c,g]=h.useState(!0);if(h.useEffect(()=>{(async()=>{try{const u=await fetch(`${Kx}/analytics`,{headers:Yx()});if(!u.ok){console.error("Analytics error:",u.status);return}const k=await u.json();k.success&&d(k.data)}catch(u){console.error("Failed to fetch analytics:",u)}finally{g(!1)}})()},[]),c)return t.jsx("div",{className:"p-8 flex items-center justify-center py-24",children:t.jsx(Pe,{className:"w-8 h-8 text-accent animate-spin"})});if(!i)return t.jsxs("div",{className:"p-8",children:[t.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Analytics & Reports"}),t.jsx("p",{className:"text-brand-text-tertiary",children:"Failed to load analytics data. Make sure you're logged in as admin."})]});const{overview:p,growth:b,charts:j,topTracks:S,recentSignups:v}=i,C=(u,k)=>{if(!k)return u>0?"+100%":"0%";const z=((u-k)/k*100).toFixed(0);return z>=0?`+${z}%`:`${z}%`},m=[{label:"Total Tracks",value:p.totalTracks,icon:$e,color:"from-blue-500 to-cyan-500",change:C(b.tracksThisMonth,b.tracksLastMonth)},{label:"Total Members",value:p.totalUsers,icon:Hr,color:"from-purple-500 to-pink-500",change:C(b.newUsersThisMonth,b.newUsersLastMonth)},{label:"Downloads Today",value:p.downloadsToday,icon:pt,color:"from-green-500 to-emerald-500",change:null},{label:"Total Downloads",value:p.totalDownloads,icon:Ba,color:"from-orange-500 to-red-500",change:C(b.downloadsThisMonth,b.downloadsLastMonth)}],T=Math.max(...j.downloadsOverTime.map(u=>u.count),1),F=Math.max(...j.usersOverTime.map(u=>u.count),1),B=Math.max(...j.tracksByGenre.map(u=>u.count),1),D=["bg-blue-500","bg-purple-500","bg-pink-500","bg-orange-500","bg-green-500","bg-cyan-500","bg-red-500","bg-yellow-500","bg-indigo-500","bg-teal-500"];return t.jsxs("div",{className:"p-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Analytics & Reports"}),t.jsx("p",{className:"text-brand-text-tertiary",children:"Live data from your record pool"})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:m.map((u,k)=>{const z=u.icon,$=u.change&&u.change.startsWith("+");return t.jsxs("div",{className:"bg-dark-elevated rounded-2xl p-6 border border-white/10 hover:border-white/20 transition-all duration-300",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsx("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-br ${u.color} flex items-center justify-center`,children:t.jsx(z,{className:"w-6 h-6 text-white",strokeWidth:2})}),u.change&&t.jsxs("span",{className:`text-xs font-semibold px-2 py-1 rounded-full flex items-center gap-0.5 ${$?"text-green-400 bg-green-400/10":"text-red-400 bg-red-400/10"}`,children:[$?t.jsx(Bm,{className:"w-3 h-3"}):t.jsx(Pm,{className:"w-3 h-3"}),u.change]})]}),t.jsx("h3",{className:"text-3xl font-bold text-white mb-1",children:u.value.toLocaleString()}),t.jsx("p",{className:"text-sm text-brand-text-tertiary",children:u.label})]},k)})}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[t.jsx(Aa,{label:"Albums",value:p.totalAlbums}),t.jsx(Aa,{label:"Sources",value:p.sourceCount}),t.jsx(Aa,{label:"Premium Members",value:p.premiumUsers}),t.jsx(Aa,{label:"Pro Members",value:p.proUsers})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[t.jsxs("div",{className:"bg-dark-elevated rounded-2xl p-6 border border-white/10",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[t.jsx(du,{className:"w-5 h-5 text-accent"}),t.jsx("h3",{className:"text-lg font-bold text-white",children:"Downloads (Last 30 Days)"})]}),j.downloadsOverTime.length>0?t.jsx("div",{className:"flex items-end gap-1 h-48",children:j.downloadsOverTime.map((u,k)=>{const z=u.count/T*100;return t.jsxs("div",{className:"flex-1 group relative flex flex-col items-center justify-end h-full",children:[t.jsx("div",{className:"w-full bg-accent/80 hover:bg-accent rounded-t transition-all cursor-pointer min-h-[2px]",style:{height:`${Math.max(z,1)}%`}}),t.jsxs("div",{className:"absolute bottom-full mb-2 left-1/2 -translate-x-1/2 bg-dark-surface border border-white/10 px-3 py-1.5 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none z-10 text-xs",children:[t.jsx("div",{className:"font-bold text-white",children:u.count}),t.jsx("div",{className:"text-brand-text-tertiary",children:new Date(u._id).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]})]},k)})}):t.jsx("div",{className:"h-48 flex items-center justify-center text-brand-text-tertiary",children:"No download data yet"})]}),t.jsxs("div",{className:"bg-dark-elevated rounded-2xl p-6 border border-white/10",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[t.jsx(_a,{className:"w-5 h-5 text-accent"}),t.jsx("h3",{className:"text-lg font-bold text-white",children:"New Members (Last 30 Days)"})]}),j.usersOverTime.length>0?t.jsx("div",{className:"flex items-end gap-1 h-48",children:j.usersOverTime.map((u,k)=>{const z=u.count/F*100;return t.jsxs("div",{className:"flex-1 group relative flex flex-col items-center justify-end h-full",children:[t.jsx("div",{className:"w-full bg-purple-500/80 hover:bg-purple-500 rounded-t transition-all cursor-pointer min-h-[2px]",style:{height:`${Math.max(z,1)}%`}}),t.jsxs("div",{className:"absolute bottom-full mb-2 left-1/2 -translate-x-1/2 bg-dark-surface border border-white/10 px-3 py-1.5 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none z-10 text-xs",children:[t.jsx("div",{className:"font-bold text-white",children:u.count}),t.jsx("div",{className:"text-brand-text-tertiary",children:new Date(u._id).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]})]},k)})}):t.jsx("div",{className:"h-48 flex items-center justify-center text-brand-text-tertiary",children:"No signups in the last 30 days"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[t.jsxs("div",{className:"bg-dark-elevated rounded-2xl p-6 border border-white/10",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[t.jsx(bt,{className:"w-5 h-5 text-accent"}),t.jsx("h3",{className:"text-lg font-bold text-white",children:"Tracks by Genre"})]}),j.tracksByGenre.length>0?t.jsx("div",{className:"space-y-3",children:j.tracksByGenre.map((u,k)=>t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("span",{className:"text-sm text-white font-medium",children:u._id||"Unknown"}),t.jsx("span",{className:"text-xs text-brand-text-tertiary",children:u.count})]}),t.jsx("div",{className:"w-full h-2 bg-dark-surface rounded-full overflow-hidden",children:t.jsx("div",{className:`h-full rounded-full ${D[k%D.length]} transition-all`,style:{width:`${u.count/B*100}%`}})})]},k))}):t.jsx("p",{className:"text-brand-text-tertiary text-center py-8",children:"No tracks yet"})]}),t.jsxs("div",{className:"bg-dark-elevated rounded-2xl p-6 border border-white/10",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[t.jsx(Hr,{className:"w-5 h-5 text-accent"}),t.jsx("h3",{className:"text-lg font-bold text-white",children:"Members by Plan"})]}),t.jsx("div",{className:"space-y-4",children:j.usersByPlan.map((u,k)=>{const z=["bg-gray-500","bg-purple-500","bg-orange-500"],$=p.totalUsers>0?(u.count/p.totalUsers*100).toFixed(1):0;return t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm text-white font-medium",children:u.plan}),t.jsxs("span",{className:"text-sm text-brand-text-tertiary",children:[u.count.toLocaleString()," (",$,"%)"]})]}),t.jsx("div",{className:"w-full h-3 bg-dark-surface rounded-full overflow-hidden",children:t.jsx("div",{className:`h-full rounded-full ${z[k]} transition-all`,style:{width:`${$}%`}})})]},k)})}),t.jsx("div",{className:"mt-6 pt-4 border-t border-white/10 grid grid-cols-3 gap-2 text-center",children:j.usersByPlan.map((u,k)=>t.jsxs("div",{children:[t.jsx("div",{className:"text-xl font-bold text-white",children:u.count}),t.jsx("div",{className:"text-xs text-brand-text-tertiary",children:u.plan})]},k))})]}),t.jsxs("div",{className:"bg-dark-elevated rounded-2xl p-6 border border-white/10",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[t.jsx(ks,{className:"w-5 h-5 text-accent"}),t.jsx("h3",{className:"text-lg font-bold text-white",children:"Top Tracks (30d)"})]}),S.length>0?t.jsx("div",{className:"space-y-3",children:S.map((u,k)=>t.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-dark-surface transition-colors",children:[t.jsx("div",{className:"w-7 h-7 rounded-full bg-accent/20 flex items-center justify-center flex-shrink-0",children:t.jsx("span",{className:"text-xs font-bold text-accent",children:k+1})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm text-white font-medium truncate",children:u.title}),t.jsx("p",{className:"text-xs text-brand-text-tertiary truncate",children:u.artist})]}),t.jsx("div",{className:"text-sm font-bold text-accent",children:u.count})]},k))}):t.jsx("p",{className:"text-brand-text-tertiary text-center py-8",children:"No downloads yet"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-dark-elevated rounded-2xl p-6 border border-white/10",children:[t.jsx("h3",{className:"text-lg font-bold text-white mb-6",children:"This Month's Growth"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsx(Ta,{label:"New Members",value:b.newUsersThisMonth,prev:b.newUsersLastMonth}),t.jsx(Ta,{label:"New Tracks",value:b.tracksThisMonth,prev:b.tracksLastMonth}),t.jsx(Ta,{label:"Downloads",value:b.downloadsThisMonth,prev:b.downloadsLastMonth}),t.jsx(Ta,{label:"New Albums",value:b.albumsThisMonth,prev:null})]})]}),t.jsxs("div",{className:"bg-dark-elevated rounded-2xl p-6 border border-white/10",children:[t.jsx("h3",{className:"text-lg font-bold text-white mb-6",children:"Recent Signups"}),v.length>0?t.jsx("div",{className:"space-y-3",children:v.map((u,k)=>{var z;return t.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-dark-surface transition-colors",children:[t.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center flex-shrink-0",children:t.jsx("span",{className:"text-white font-bold text-xs",children:(u.name||"?").charAt(0).toUpperCase()})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm text-white font-medium truncate",children:u.name}),t.jsx("p",{className:"text-xs text-brand-text-tertiary truncate",children:u.email})]}),t.jsxs("div",{className:"text-right flex-shrink-0",children:[t.jsx("span",{className:"text-xs font-medium text-accent capitalize",children:((z=u.subscription)==null?void 0:z.plan)||"free"}),t.jsx("p",{className:"text-xs text-brand-text-tertiary",children:new Date(u.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]})]},k)})}):t.jsx("p",{className:"text-brand-text-tertiary text-center py-8",children:"No signups yet"})]})]})]})}function Aa({label:i,value:d}){return t.jsxs("div",{className:"bg-dark-elevated rounded-xl p-4 border border-white/10",children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:d.toLocaleString()}),t.jsx("p",{className:"text-xs text-brand-text-tertiary",children:i})]})}function Ta({label:i,value:d,prev:c}){const g=c!=null&&c>0?((d-c)/c*100).toFixed(0):null,p=g!==null&&g>=0;return t.jsxs("div",{className:"bg-dark-surface rounded-xl p-4",children:[t.jsx("p",{className:"text-xs text-brand-text-tertiary mb-1",children:i}),t.jsxs("div",{className:"flex items-end gap-2",children:[t.jsx("span",{className:"text-2xl font-bold text-white",children:d.toLocaleString()}),g!==null&&t.jsxs("span",{className:`text-xs font-semibold mb-1 ${p?"text-green-400":"text-red-400"}`,children:[p?"+":"",g,"%"]})]}),c!=null&&t.jsxs("p",{className:"text-xs text-brand-text-tertiary mt-1",children:["vs ",c.toLocaleString()," last month"]})]})}function ep(){return t.jsxs("div",{className:"p-8",children:[t.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Source Management"}),t.jsx("p",{className:"text-brand-text-tertiary",children:"Manage track sources and pools - Coming soon"})]})}const tp="http://localhost:5000/api",rp=()=>localStorage.getItem("token"),sp=()=>{const i={},d=rp();return d&&(i.Authorization=`Bearer ${d}`),i},np=[{code:"1A",key:"Ab minor",color:"bg-red-500"},{code:"1B",key:"B major",color:"bg-red-400"},{code:"2A",key:"Eb minor",color:"bg-orange-500"},{code:"2B",key:"F# major",color:"bg-orange-400"},{code:"3A",key:"Bb minor",color:"bg-yellow-500"},{code:"3B",key:"Db major",color:"bg-yellow-400"},{code:"4A",key:"F minor",color:"bg-lime-500"},{code:"4B",key:"Ab major",color:"bg-lime-400"},{code:"5A",key:"C minor",color:"bg-green-500"},{code:"5B",key:"Eb major",color:"bg-green-400"},{code:"6A",key:"G minor",color:"bg-emerald-500"},{code:"6B",key:"Bb major",color:"bg-emerald-400"},{code:"7A",key:"D minor",color:"bg-teal-500"},{code:"7B",key:"F major",color:"bg-teal-400"},{code:"8A",key:"A minor",color:"bg-cyan-500"},{code:"8B",key:"C major",color:"bg-cyan-400"},{code:"9A",key:"E minor",color:"bg-blue-500"},{code:"9B",key:"G major",color:"bg-blue-400"},{code:"10A",key:"B minor",color:"bg-indigo-500"},{code:"10B",key:"D major",color:"bg-indigo-400"},{code:"11A",key:"F# minor",color:"bg-violet-500"},{code:"11B",key:"A major",color:"bg-violet-400"},{code:"12A",key:"Db minor",color:"bg-pink-500"},{code:"12B",key:"E major",color:"bg-pink-400"}],Bi={House:"from-blue-500 to-cyan-500","Tech House":"from-purple-500 to-blue-500","Afro House":"from-orange-500 to-yellow-500",Amapiano:"from-green-500 to-emerald-500",Techno:"from-gray-500 to-gray-700","Hip-Hop":"from-red-500 to-pink-500",Jazz:"from-amber-500 to-orange-500",Ambient:"from-teal-500 to-cyan-500",Dubstep:"from-violet-500 to-purple-500",Trance:"from-indigo-500 to-blue-500",EDM:"from-pink-500 to-rose-500"};function ap(){const[i,d]=h.useState(null),[c,g]=h.useState(!0);if(h.useEffect(()=>{(async()=>{try{const u=await fetch(`${tp}/analytics/genres`,{headers:sp()});if(!u.ok){console.error("Genre stats error:",u.status);return}const k=await u.json();k.success&&d(k.data)}catch(u){console.error("Failed to fetch genre stats:",u)}finally{g(!1)}})()},[]),c)return t.jsx("div",{className:"p-8 flex items-center justify-center py-24",children:t.jsx(Pe,{className:"w-8 h-8 text-accent animate-spin"})});if(!i)return t.jsxs("div",{className:"p-8",children:[t.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"DJ Genre Management"}),t.jsx("p",{className:"text-brand-text-tertiary",children:"Failed to load data. Make sure you're logged in as admin."})]});const{genreStats:p,camelotStats:b,tonalitySourceStats:j,genreCamelotCross:S,summary:v}=i,C=Math.max(...p.map(u=>u.count),1),m=Math.max(...b.map(u=>u.count),1),T={};b.forEach(u=>{T[u._id]=u.count});const F=v.totalTracks>0?(v.tracksWithTonality/v.totalTracks*100).toFixed(1):0,B={"audio-analysis":"Audio Analysis",openai:"OpenAI","id3-tag":"ID3 Tag",manual:"Manual",unknown:"Unknown"},D={"audio-analysis":"bg-green-500",openai:"bg-blue-500","id3-tag":"bg-purple-500",manual:"bg-orange-500",unknown:"bg-gray-500"};return t.jsxs("div",{className:"p-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"DJ Genre Management"}),t.jsx("p",{className:"text-brand-text-tertiary",children:"Genre breakdown, Camelot wheel tonalities, and detection stats"})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[t.jsxs("div",{className:"bg-dark-elevated rounded-xl p-5 border border-white/10",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx($e,{className:"w-5 h-5 text-accent"}),t.jsx("span",{className:"text-xs text-brand-text-tertiary uppercase font-semibold",children:"Total Tracks"})]}),t.jsx("div",{className:"text-2xl font-bold text-white",children:v.totalTracks.toLocaleString()})]}),t.jsxs("div",{className:"bg-dark-elevated rounded-xl p-5 border border-white/10",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(bt,{className:"w-5 h-5 text-accent"}),t.jsx("span",{className:"text-xs text-brand-text-tertiary uppercase font-semibold",children:"Genres Used"})]}),t.jsxs("div",{className:"text-2xl font-bold text-white",children:[p.length," / ",v.genreEnum.length]})]}),t.jsxs("div",{className:"bg-dark-elevated rounded-xl p-5 border border-white/10",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(Vr,{className:"w-5 h-5 text-green-400"}),t.jsx("span",{className:"text-xs text-brand-text-tertiary uppercase font-semibold",children:"Tonality Coverage"})]}),t.jsxs("div",{className:"text-2xl font-bold text-white",children:[F,"%"]}),t.jsxs("div",{className:"text-xs text-brand-text-tertiary",children:[v.tracksWithTonality.toLocaleString()," tracks"]})]}),t.jsxs("div",{className:"bg-dark-elevated rounded-xl p-5 border border-white/10",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(ox,{className:"w-5 h-5 text-yellow-400"}),t.jsx("span",{className:"text-xs text-brand-text-tertiary uppercase font-semibold",children:"Needs Review"})]}),t.jsx("div",{className:"text-2xl font-bold text-white",children:v.needsReviewCount.toLocaleString()})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[t.jsxs("div",{className:"bg-dark-elevated rounded-2xl p-6 border border-white/10",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[t.jsx(du,{className:"w-5 h-5 text-accent"}),t.jsx("h3",{className:"text-lg font-bold text-white",children:"Genre Breakdown"})]}),t.jsxs("div",{className:"space-y-3",children:[p.map((u,k)=>t.jsxs("div",{className:"group",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:`w-3 h-3 rounded-full bg-gradient-to-r ${Bi[u._id]||"from-gray-500 to-gray-600"}`}),t.jsx("span",{className:"text-sm text-white font-medium",children:u._id||"Unknown"})]}),t.jsxs("div",{className:"flex items-center gap-3 text-xs text-brand-text-tertiary",children:[t.jsxs("span",{children:[u.count," tracks"]}),t.jsxs("span",{className:"text-white font-medium",children:[u.avgBpm?Math.round(u.avgBpm):""," BPM avg"]}),u.minBpm&&u.maxBpm&&t.jsxs("span",{className:"hidden group-hover:inline",children:[u.minBpm,"",u.maxBpm]})]})]}),t.jsx("div",{className:"w-full h-2.5 bg-dark-surface rounded-full overflow-hidden",children:t.jsx("div",{className:`h-full rounded-full bg-gradient-to-r ${Bi[u._id]||"from-gray-500 to-gray-600"} transition-all`,style:{width:`${u.count/C*100}%`}})})]},k)),p.length===0&&t.jsx("p",{className:"text-brand-text-tertiary text-center py-8",children:"No tracks yet"})]})]}),t.jsxs("div",{className:"bg-dark-elevated rounded-2xl p-6 border border-white/10",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[t.jsx(bt,{className:"w-5 h-5 text-accent"}),t.jsx("h3",{className:"text-lg font-bold text-white",children:"Camelot Wheel"})]}),t.jsx("div",{className:"grid grid-cols-4 gap-2",children:np.map(u=>{const k=T[u.code]||0,z=m>0?Math.max(.15,k/m):.15;return t.jsxs("div",{className:"relative rounded-lg p-2.5 border border-white/5 hover:border-white/20 transition-all group cursor-default",style:{backgroundColor:`rgba(255,255,255,${z*.08})`},children:[t.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[t.jsx("div",{className:`w-2.5 h-2.5 rounded-full ${u.color}`}),t.jsx("span",{className:"text-xs font-bold text-white",children:u.code})]}),t.jsx("div",{className:"text-xs text-brand-text-tertiary truncate",children:u.key}),t.jsx("div",{className:`text-sm font-bold mt-1 ${k>0?"text-white":"text-white/20"}`,children:k}),t.jsx("div",{className:"absolute inset-0 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity bg-dark-surface/95 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-sm font-bold text-white",children:u.code}),t.jsx("div",{className:"text-xs text-brand-text-tertiary",children:u.key}),t.jsxs("div",{className:"text-lg font-bold text-accent mt-1",children:[k," tracks"]})]})})]},u.code)})})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[t.jsxs("div",{className:"bg-dark-elevated rounded-2xl p-6 border border-white/10",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[t.jsx(Ns,{className:"w-5 h-5 text-accent"}),t.jsx("h3",{className:"text-lg font-bold text-white",children:"Detection Sources"})]}),t.jsxs("div",{className:"space-y-4",children:[j.map((u,k)=>{const z=B[u._id]||u._id||"None",$=D[u._id]||"bg-gray-500",N=v.totalTracks>0?(u.count/v.totalTracks*100).toFixed(1):0;return t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:`w-2.5 h-2.5 rounded-full ${$}`}),t.jsx("span",{className:"text-sm text-white font-medium",children:z})]}),t.jsxs("span",{className:"text-xs text-brand-text-tertiary",children:[u.count," (",N,"%)"]})]}),t.jsx("div",{className:"w-full h-2 bg-dark-surface rounded-full overflow-hidden",children:t.jsx("div",{className:`h-full rounded-full ${$} transition-all`,style:{width:`${N}%`}})})]},k)}),j.length===0&&t.jsx("p",{className:"text-brand-text-tertiary text-center py-4",children:"No data"})]})]}),t.jsxs("div",{className:"lg:col-span-2 bg-dark-elevated rounded-2xl p-6 border border-white/10",children:[t.jsx("h3",{className:"text-lg font-bold text-white mb-6",children:"Top Genre + Key Combinations"}),S.length>0?t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:S.map((u,k)=>t.jsxs("div",{className:"bg-dark-surface rounded-xl p-3 border border-white/5 hover:border-white/15 transition-all",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("div",{className:`w-2.5 h-2.5 rounded-full bg-gradient-to-r ${Bi[u._id.genre]||"from-gray-500 to-gray-600"}`}),t.jsx("span",{className:"text-xs text-white font-medium truncate",children:u._id.genre})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-lg font-bold text-accent",children:u._id.camelot}),t.jsxs("span",{className:"text-xs text-brand-text-tertiary",children:[u.count," tracks"]})]})]},k))}):t.jsx("p",{className:"text-brand-text-tertiary text-center py-8",children:"No cross-reference data yet"})]})]}),t.jsxs("div",{className:"bg-dark-elevated rounded-2xl p-6 border border-white/10",children:[t.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Available Genres"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:v.genreEnum.map((u,k)=>{const z=p.find(N=>N._id===u),$=z&&z.count>0;return t.jsxs("div",{className:`px-4 py-2 rounded-full border text-sm font-medium transition-all ${$?"bg-accent/10 border-accent/30 text-accent":"bg-dark-surface border-white/10 text-brand-text-tertiary"}`,children:[u,$&&t.jsxs("span",{className:"ml-2 text-xs opacity-70",children:["(",z.count,")"]})]},k)})})]})]})}const lp="http://localhost:5000/api",ip=()=>localStorage.getItem("token"),op=()=>{const i={},d=ip();return d&&(i.Authorization=`Bearer ${d}`),i};function cp(){const[i,d]=h.useState(!0),[c,g]=h.useState({totalUsers:0,premiumCount:0,proCount:0,freeCount:0,newThisMonth:0}),[p,b]=h.useState(null);h.useEffect(()=>{(async()=>{try{const C=await fetch(`${lp}/users?limit=1`,{headers:op()});if(!C.ok)return;const m=await C.json();if(m.success){const T=m.stats;g({...T,freeCount:T.totalUsers-T.premiumCount-T.proCount})}}catch(C){console.error("Failed to fetch subscription stats:",C.message||C)}finally{d(!1)}})()},[]);const j=[{id:"free",name:"Free",monthlyPrice:0,yearlyPrice:0,subscribers:c.freeCount,features:["5 downloads/day","MP3 quality","Basic support"],color:"from-gray-500 to-gray-600",active:!0},{id:"premium",name:"Premium",monthlyPrice:9.99,yearlyPrice:99.99,subscribers:c.premiumCount,features:["50 downloads/day","WAV/MP3 quality","Priority support","Exclusive content"],color:"from-purple-500 to-pink-500",active:!0},{id:"pro",name:"Pro",monthlyPrice:19.99,yearlyPrice:199.99,subscribers:c.proCount,features:["Unlimited downloads","WAV/FLAC quality","24/7 support","Early access","API access"],color:"from-orange-500 to-red-500",active:!0}],S=(c.premiumCount*9.99+c.proCount*19.99).toFixed(0),v=c.totalUsers>0?((c.premiumCount+c.proCount)/c.totalUsers*100).toFixed(1):"0";return t.jsxs("div",{className:"p-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Membership Management"}),t.jsx("p",{className:"text-brand-text-tertiary",children:"Manage pricing plans and membership settings"})]}),i&&t.jsx("div",{className:"flex items-center justify-center py-16",children:t.jsx(Pe,{className:"w-8 h-8 text-accent animate-spin"})}),!i&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[t.jsxs("div",{className:"bg-dark-elevated rounded-xl p-6 border border-white/10",children:[t.jsx("div",{className:"flex items-center justify-between mb-3",children:t.jsx(Om,{className:"w-8 h-8 text-accent",strokeWidth:2})}),t.jsxs("h3",{className:"text-2xl font-bold text-white mb-1",children:["$",Number(S).toLocaleString()]}),t.jsx("p",{className:"text-sm text-brand-text-tertiary",children:"Est. Monthly Revenue"})]}),t.jsxs("div",{className:"bg-dark-elevated rounded-xl p-6 border border-white/10",children:[t.jsx("div",{className:"flex items-center justify-between mb-3",children:t.jsx(Hr,{className:"w-8 h-8 text-accent",strokeWidth:2})}),t.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:c.totalUsers.toLocaleString()}),t.jsx("p",{className:"text-sm text-brand-text-tertiary",children:"Total Members"})]}),t.jsxs("div",{className:"bg-dark-elevated rounded-xl p-6 border border-white/10",children:[t.jsx("div",{className:"flex items-center justify-between mb-3",children:t.jsx(ks,{className:"w-8 h-8 text-accent",strokeWidth:2})}),t.jsxs("h3",{className:"text-2xl font-bold text-white mb-1",children:[v,"%"]}),t.jsx("p",{className:"text-sm text-brand-text-tertiary",children:"Paid Conversion"})]}),t.jsxs("div",{className:"bg-dark-elevated rounded-xl p-6 border border-white/10",children:[t.jsx("div",{className:"flex items-center justify-between mb-3",children:t.jsx(za,{className:"w-8 h-8 text-accent",strokeWidth:2})}),t.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:c.newThisMonth.toLocaleString()}),t.jsx("p",{className:"text-sm text-brand-text-tertiary",children:"New This Month"})]})]}),t.jsxs("div",{children:[t.jsx("div",{className:"flex items-center justify-between mb-6",children:t.jsx("h3",{className:"text-xl font-bold text-white",children:"Membership Plans"})}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:j.map(C=>t.jsxs("div",{className:"bg-dark-elevated rounded-2xl border border-white/10 overflow-hidden hover:border-white/20 transition-all duration-300",children:[t.jsxs("div",{className:`bg-gradient-to-br ${C.color} p-6 text-center`,children:[t.jsx("h4",{className:"text-2xl font-bold text-white mb-2",children:C.name}),t.jsxs("div",{className:"text-4xl font-bold text-white mb-1",children:["$",C.monthlyPrice]}),t.jsx("p",{className:"text-white/80 text-sm",children:"per month"}),C.yearlyPrice>0&&t.jsxs("p",{className:"text-white/60 text-xs mt-2",children:["$",C.yearlyPrice,"/year (Save ",Math.round((1-C.yearlyPrice/(C.monthlyPrice*12))*100),"%)"]})]}),t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4 pb-4 border-b border-white/10",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-brand-text-tertiary",children:"Members"}),t.jsx("p",{className:"text-xl font-bold text-white",children:C.subscribers.toLocaleString()})]}),t.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-semibold ${C.active?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-red-500/20 text-red-400 border border-red-500/30"}`,children:C.active?"Active":"Inactive"})]}),t.jsxs("div",{className:"space-y-2 mb-6",children:[t.jsx("p",{className:"text-xs font-semibold text-brand-text-tertiary uppercase tracking-wider mb-3",children:"Features"}),C.features.map((m,T)=>t.jsxs("div",{className:"flex items-center gap-2 text-sm text-white",children:[t.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent"}),t.jsx("span",{children:m})]},T))]}),t.jsxs("button",{onClick:()=>b(C),className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg bg-dark-surface hover:bg-dark-elevated border border-white/10 text-white font-medium transition-all duration-200",children:[t.jsx(Ki,{className:"w-4 h-4"}),t.jsx("span",{children:"Edit Plan"})]})]})]},C.id))})]})]}),p&&t.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-dark-elevated rounded-2xl border border-white/10 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsx("div",{className:"p-6 border-b border-white/10",children:t.jsxs("h3",{className:"text-2xl font-bold text-white",children:["Edit ",p.name," Plan"]})}),t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Monthly Price ($)"}),t.jsx("input",{type:"number",defaultValue:p.monthlyPrice,className:"w-full px-4 py-2.5 bg-dark-surface border border-white/10 rounded-lg text-white focus:outline-none focus:border-accent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Yearly Price ($)"}),t.jsx("input",{type:"number",defaultValue:p.yearlyPrice,className:"w-full px-4 py-2.5 bg-dark-surface border border-white/10 rounded-lg text-white focus:outline-none focus:border-accent"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Features (one per line)"}),t.jsx("textarea",{rows:5,defaultValue:p.features.join(`
`),className:"w-full px-4 py-2.5 bg-dark-surface border border-white/10 rounded-lg text-white focus:outline-none focus:border-accent resize-none"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"checkbox",id:"active",defaultChecked:p.active,className:"w-4 h-4 rounded border-white/20 bg-dark-surface"}),t.jsx("label",{htmlFor:"active",className:"text-sm font-medium text-white",children:"Active Plan"})]})]}),t.jsxs("div",{className:"p-6 border-t border-white/10 flex items-center justify-end gap-3",children:[t.jsx("button",{onClick:()=>b(null),className:"px-4 py-2.5 rounded-lg bg-dark-surface hover:bg-dark-elevated border border-white/10 text-white font-medium transition-all duration-200",children:"Cancel"}),t.jsx("button",{onClick:()=>b(null),className:"px-4 py-2.5 rounded-lg bg-accent hover:bg-accent-hover text-white font-medium transition-all duration-200",children:"Save Changes"})]})]})})]})}const Xd="http://localhost:5000/api",ju=()=>localStorage.getItem("token"),dp=()=>{const i={},d=ju();return d&&(i.Authorization=`Bearer ${d}`),i},up=i=>{const d=Math.floor(i/86400),c=Math.floor(i%86400/3600),g=Math.floor(i%3600/60),p=[];return d>0&&p.push(`${d}d`),c>0&&p.push(`${c}h`),p.push(`${g}m`),p.join(" ")},hp=i=>i?i<1024?`${i} B`:i<1024*1024?`${(i/1024).toFixed(1)} KB`:i<1024*1024*1024?`${(i/1024/1024).toFixed(1)} MB`:`${(i/1024/1024/1024).toFixed(2)} GB`:"0 B";function mp({user:i,onUserUpdate:d}){const[c,g]=h.useState(null),[p,b]=h.useState(!0),[j,S]=h.useState(null),[v,C]=h.useState(!1),[m,T]=h.useState(null);h.useEffect(()=>{(async()=>{try{const z=await fetch(`${Xd}/settings`,{headers:dp()});if(!z.ok){console.error("Settings error:",z.status);return}const $=await z.json();$.success&&g($.data)}catch(z){console.error("Failed to fetch settings:",z)}finally{b(!1)}})()},[]);const F=async z=>{var I;const $=(I=z.target.files)==null?void 0:I[0];if(!$)return;if($.size>5*1024*1024){T({type:"error",text:"Image must be under 5MB"});return}const N=new FileReader;N.onload=J=>S(J.target.result),N.readAsDataURL($),C(!0),T(null);try{const J=new FormData;J.append("avatar",$);const Y=await(await fetch(`${Xd}/users/avatar`,{method:"PUT",headers:{Authorization:`Bearer ${ju()}`},body:J})).json();Y.success?(T({type:"success",text:"Profile photo updated!"}),d==null||d({...i,avatar:Y.data.avatar})):(T({type:"error",text:Y.message||"Upload failed"}),S(null))}catch(J){console.error("Avatar upload error:",J),T({type:"error",text:"Upload failed. Please try again."}),S(null)}finally{C(!1)}};if(p)return t.jsx("div",{className:"p-8 flex items-center justify-center py-24",children:t.jsx(Pe,{className:"w-8 h-8 text-accent animate-spin"})});if(!c)return t.jsxs("div",{className:"p-8",children:[t.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Site Settings"}),t.jsx("p",{className:"text-brand-text-tertiary",children:"Failed to load. Make sure you're logged in as admin."})]});const{server:B,config:D,database:u}=c,k=B.memoryUsage.heapTotal>0?(B.memoryUsage.heapUsed/B.memoryUsage.heapTotal*100).toFixed(0):0;return t.jsxs("div",{className:"p-4 md:p-8",children:[t.jsxs("div",{className:"mb-6 md:mb-8",children:[t.jsx("h2",{className:"text-xl md:text-3xl font-bold text-white mb-2",children:"Site Settings"}),t.jsx("p",{className:"text-xs md:text-base text-brand-text-tertiary",children:"Server configuration, system health, and feature flags"})]}),t.jsxs("div",{className:"bg-dark-elevated rounded-2xl p-4 md:p-6 border border-white/10 mb-6 md:mb-8",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4 md:mb-5",children:[t.jsx(_m,{className:"w-5 h-5 text-accent"}),t.jsx("h3",{className:"text-base md:text-lg font-bold text-white",children:"Profile Photo"})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 md:gap-6",children:[t.jsxs("div",{className:"relative group",children:[t.jsx("div",{className:"w-24 h-24 rounded-full overflow-hidden border-2 border-white/10 bg-dark-surface flex items-center justify-center",children:j||i!=null&&i.avatar?t.jsx("img",{src:j||(i==null?void 0:i.avatar),alt:(i==null?void 0:i.name)||"Admin",className:"w-full h-full object-cover"}):t.jsx($a,{className:"w-10 h-10 text-white/20"})}),v&&t.jsx("div",{className:"absolute inset-0 rounded-full bg-black/60 flex items-center justify-center",children:t.jsx(Pe,{className:"w-6 h-6 text-accent animate-spin"})})]}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm text-brand-text-secondary mb-1",children:(i==null?void 0:i.name)||"Admin"}),t.jsx("p",{className:"text-xs text-brand-text-tertiary mb-3",children:"This photo will be displayed across the site. Max 5MB, JPEG/PNG/WebP."}),t.jsxs("label",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-accent/10 hover:bg-accent/20 border border-accent/30 text-accent text-sm font-semibold cursor-pointer transition-all duration-200 hover:scale-[1.02] active:scale-[0.98]",children:[t.jsx(Dt,{className:"w-4 h-4"}),v?"Uploading...":"Upload Photo",t.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/webp,image/gif",onChange:F,disabled:v,className:"hidden"})]}),m&&t.jsx("p",{className:`text-xs mt-2 ${m.type==="success"?"text-green-400":"text-red-400"}`,children:m.text})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[t.jsxs("div",{className:"bg-dark-elevated rounded-xl p-5 border border-white/10",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(Jd,{className:"w-5 h-5 text-green-400"}),t.jsx("span",{className:"text-xs text-brand-text-tertiary uppercase font-semibold",children:"Status"})]}),t.jsx("div",{className:"text-lg font-bold text-green-400",children:"Online"}),t.jsxs("div",{className:"text-xs text-brand-text-tertiary",children:[B.env," mode"]})]}),t.jsxs("div",{className:"bg-dark-elevated rounded-xl p-5 border border-white/10",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(Pa,{className:"w-5 h-5 text-accent"}),t.jsx("span",{className:"text-xs text-brand-text-tertiary uppercase font-semibold",children:"Uptime"})]}),t.jsx("div",{className:"text-lg font-bold text-white",children:up(B.uptime)}),t.jsxs("div",{className:"text-xs text-brand-text-tertiary",children:["Node ",B.nodeVersion]})]}),t.jsxs("div",{className:"bg-dark-elevated rounded-xl p-5 border border-white/10",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(Im,{className:"w-5 h-5 text-accent"}),t.jsx("span",{className:"text-xs text-brand-text-tertiary uppercase font-semibold",children:"Memory"})]}),t.jsxs("div",{className:"text-lg font-bold text-white",children:[B.memoryUsage.heapUsed,"MB"]}),t.jsxs("div",{className:"text-xs text-brand-text-tertiary",children:[k,"% of ",B.memoryUsage.heapTotal,"MB heap"]}),t.jsx("div",{className:"w-full h-1.5 bg-dark-surface rounded-full mt-2 overflow-hidden",children:t.jsx("div",{className:`h-full rounded-full transition-all ${k>80?"bg-red-500":k>60?"bg-yellow-500":"bg-green-500"}`,style:{width:`${k}%`}})})]}),t.jsxs("div",{className:"bg-dark-elevated rounded-xl p-5 border border-white/10",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(Ri,{className:"w-5 h-5 text-accent"}),t.jsx("span",{className:"text-xs text-brand-text-tertiary uppercase font-semibold",children:"Storage"})]}),t.jsx("div",{className:"text-lg font-bold text-white",children:hp(u.totalStorageBytes)}),t.jsx("div",{className:"text-xs text-brand-text-tertiary",children:"Wasabi S3"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[t.jsxs("div",{className:"bg-dark-elevated rounded-2xl p-6 border border-white/10",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[t.jsx(gu,{className:"w-5 h-5 text-accent"}),t.jsx("h3",{className:"text-lg font-bold text-white",children:"Server Configuration"})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx(wr,{label:"Port",value:D.port,icon:Qd}),t.jsx(wr,{label:"Frontend URL",value:D.frontendUrl,icon:Qd}),t.jsx(wr,{label:"Max Upload Size",value:D.maxFileSize,icon:Ri}),t.jsx(wr,{label:"JWT Expiry",value:D.jwtExpire,icon:er}),t.jsx(wr,{label:"Platform",value:B.platform,icon:Jd})]})]}),t.jsxs("div",{className:"bg-dark-elevated rounded-2xl p-6 border border-white/10",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[t.jsx(Ns,{className:"w-5 h-5 text-accent"}),t.jsx("h3",{className:"text-lg font-bold text-white",children:"Feature Flags & Integrations"})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx(Ea,{label:"Tonality Detection",enabled:D.tonalityDetection}),t.jsx(Ea,{label:"AI Fallback (OpenAI)",enabled:D.tonalityAiFallback}),t.jsx(wr,{label:"OpenAI Model",value:D.openaiModel,icon:Ns}),t.jsx(Ea,{label:"Stripe Payments",enabled:D.stripeConfigured}),t.jsx(Ea,{label:"Email Service",enabled:D.emailConfigured}),t.jsx(wr,{label:"Wasabi Region",value:D.wasabiRegion,icon:$i}),t.jsx(wr,{label:"Wasabi Bucket",value:D.wasabiBucket,icon:$i})]})]})]}),t.jsxs("div",{className:"bg-dark-elevated rounded-2xl p-6 border border-white/10",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[t.jsx(Ba,{className:"w-5 h-5 text-accent"}),t.jsx("h3",{className:"text-lg font-bold text-white",children:"Database Overview"})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[t.jsx(un,{label:"Tracks",value:u.totalTracks}),t.jsx(un,{label:"Albums",value:u.totalAlbums}),t.jsx(un,{label:"Users",value:u.totalUsers}),t.jsx(un,{label:"Downloads",value:u.totalDownloads}),t.jsx(un,{label:"Sources",value:u.totalSources})]})]})]})}function wr({label:i,value:d,icon:c}){return t.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-white/5 last:border-0",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[c&&t.jsx(c,{className:"w-4 h-4 text-brand-text-tertiary"}),t.jsx("span",{className:"text-sm text-brand-text-tertiary",children:i})]}),t.jsx("span",{className:"text-sm text-white font-medium font-mono",children:d})]})}function Ea({label:i,enabled:d}){return t.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-white/5 last:border-0",children:[t.jsx("span",{className:"text-sm text-brand-text-tertiary",children:i}),t.jsx("div",{className:"flex items-center gap-1.5",children:d?t.jsxs(t.Fragment,{children:[t.jsx(Vr,{className:"w-4 h-4 text-green-400"}),t.jsx("span",{className:"text-xs font-semibold text-green-400",children:"Enabled"})]}):t.jsxs(t.Fragment,{children:[t.jsx(Um,{className:"w-4 h-4 text-red-400"}),t.jsx("span",{className:"text-xs font-semibold text-red-400",children:"Disabled"})]})})]})}function un({label:i,value:d}){return t.jsxs("div",{className:"bg-dark-surface rounded-xl p-4 text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:d.toLocaleString()}),t.jsx("div",{className:"text-xs text-brand-text-tertiary mt-1",children:i})]})}const xp="http://localhost:5000/api",pp=()=>localStorage.getItem("token"),fp=()=>{const i={},d=pp();return d&&(i.Authorization=`Bearer ${d}`),i},Li=i=>{if(!i)return"Never";const d=Date.now()-new Date(i).getTime(),c=Math.floor(d/6e4);if(c<1)return"Just now";if(c<60)return`${c}m ago`;const g=Math.floor(c/60);if(g<24)return`${g}h ago`;const p=Math.floor(g/24);return p<30?`${p}d ago`:new Date(i).toLocaleDateString("en-US",{month:"short",day:"numeric"})};function gp(){const[i,d]=h.useState(null),[c,g]=h.useState(!0);if(h.useEffect(()=>{(async()=>{try{const m=await fetch(`${xp}/settings/security`,{headers:fp()});if(!m.ok){console.error("Security error:",m.status);return}const T=await m.json();T.success&&d(T.data)}catch(m){console.error("Failed to fetch security data:",m)}finally{g(!1)}})()},[]),c)return t.jsx("div",{className:"p-8 flex items-center justify-center py-24",children:t.jsx(Pe,{className:"w-8 h-8 text-accent animate-spin"})});if(!i)return t.jsxs("div",{className:"p-8",children:[t.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Security & Logs"}),t.jsx("p",{className:"text-brand-text-tertiary",children:"Failed to load. Make sure you're logged in as admin."})]});const{overview:p,adminUsers:b,recentLogins:j,recentSignups:S,recentDownloads:v,roleDistribution:C}=i;return t.jsxs("div",{className:"p-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Security & Logs"}),t.jsx("p",{className:"text-brand-text-tertiary",children:"User activity, admin accounts, and security overview"})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-8",children:[t.jsx(ws,{icon:Hr,label:"Total Users",value:p.totalUsers,color:"text-accent"}),t.jsx(ws,{icon:La,label:"Active (24h)",value:p.activeSessions,color:"text-green-400"}),t.jsx(ws,{icon:er,label:"Admins",value:p.adminCount,color:"text-blue-400"}),t.jsx(ws,{icon:dx,label:"Inactive (30d)",value:p.inactiveCount,color:"text-yellow-400"}),t.jsx(ws,{icon:Ui,label:"Deactivated",value:p.deactivatedCount,color:"text-red-400"}),t.jsx(ws,{icon:xu,label:"Unverified",value:p.unverifiedEmails,color:"text-orange-400"})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[t.jsxs("div",{className:"bg-dark-elevated rounded-2xl p-6 border border-white/10",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[t.jsx(er,{className:"w-5 h-5 text-red-400"}),t.jsx("h3",{className:"text-lg font-bold text-white",children:"Admin Accounts"})]}),b.length>0?t.jsx("div",{className:"space-y-3",children:b.map((m,T)=>t.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-dark-surface border border-white/5",children:[t.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-red-500 to-pink-500 flex items-center justify-center flex-shrink-0",children:t.jsx("span",{className:"text-white font-bold text-xs",children:(m.name||"?").charAt(0).toUpperCase()})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm text-white font-medium truncate",children:m.name}),t.jsx("p",{className:"text-xs text-brand-text-tertiary truncate",children:m.email})]}),t.jsxs("div",{className:"text-right flex-shrink-0",children:[t.jsx("span",{className:`text-xs font-medium ${m.isActive!==!1?"text-green-400":"text-red-400"}`,children:m.isActive!==!1?"Active":"Disabled"}),t.jsx("p",{className:"text-xs text-brand-text-tertiary",children:Li(m.lastLogin)})]})]},T))}):t.jsx("p",{className:"text-brand-text-tertiary text-center py-4",children:"No admin accounts"})]}),t.jsxs("div",{className:"bg-dark-elevated rounded-2xl p-6 border border-white/10",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[t.jsx(cx,{className:"w-5 h-5 text-accent"}),t.jsx("h3",{className:"text-lg font-bold text-white",children:"Role Distribution"})]}),t.jsx("div",{className:"space-y-4",children:C.map((m,T)=>{const F=p.totalUsers>0?(m.count/p.totalUsers*100).toFixed(1):0,B={admin:"bg-red-500",user:"bg-blue-500"};return t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm text-white font-medium capitalize",children:m._id||"Unknown"}),t.jsxs("span",{className:"text-sm text-brand-text-tertiary",children:[m.count.toLocaleString()," (",F,"%)"]})]}),t.jsx("div",{className:"w-full h-3 bg-dark-surface rounded-full overflow-hidden",children:t.jsx("div",{className:`h-full rounded-full ${B[m._id]||"bg-gray-500"} transition-all`,style:{width:`${F}%`}})})]},T)})}),t.jsxs("div",{className:"mt-8 pt-6 border-t border-white/10",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx(pt,{className:"w-4 h-4 text-accent"}),t.jsx("h4",{className:"text-sm font-bold text-white",children:"Top Downloaders (24h)"})]}),v.length>0?t.jsx("div",{className:"space-y-2",children:v.slice(0,5).map((m,T)=>t.jsxs("div",{className:"flex items-center justify-between py-1.5",children:[t.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[t.jsx("span",{className:"text-xs font-bold text-accent w-5",children:T+1}),t.jsx("span",{className:"text-sm text-white truncate",children:m.name}),t.jsxs("span",{className:"text-xs text-brand-text-tertiary capitalize",children:["(",m.plan,")"]})]}),t.jsx("span",{className:"text-sm font-bold text-white flex-shrink-0",children:m.count})]},T))}):t.jsx("p",{className:"text-brand-text-tertiary text-xs text-center py-2",children:"No downloads in 24h"})]})]}),t.jsxs("div",{className:"bg-dark-elevated rounded-2xl p-6 border border-white/10",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[t.jsx(_a,{className:"w-5 h-5 text-green-400"}),t.jsx("h3",{className:"text-lg font-bold text-white",children:"Recent Signups (7d)"})]}),S.length>0?t.jsx("div",{className:"space-y-2",children:S.map((m,T)=>{var F;return t.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-dark-surface transition-colors",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-green-500 to-emerald-500 flex items-center justify-center flex-shrink-0",children:t.jsx("span",{className:"text-white font-bold text-xs",children:(m.name||"?").charAt(0).toUpperCase()})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm text-white font-medium truncate",children:m.name}),t.jsx("p",{className:"text-xs text-brand-text-tertiary truncate",children:m.email})]}),t.jsxs("div",{className:"text-right flex-shrink-0",children:[t.jsx("span",{className:"text-xs font-medium text-accent capitalize",children:((F=m.subscription)==null?void 0:F.plan)||"free"}),t.jsx("p",{className:"text-xs text-brand-text-tertiary",children:Li(m.createdAt)})]})]},T)})}):t.jsx("p",{className:"text-brand-text-tertiary text-center py-4",children:"No signups in last 7 days"})]})]}),t.jsxs("div",{className:"bg-dark-elevated rounded-2xl p-6 border border-white/10",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[t.jsx(Ii,{className:"w-5 h-5 text-accent"}),t.jsx("h3",{className:"text-lg font-bold text-white",children:"Recent Logins (7d)"})]}),j.length>0?t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-white/10",children:[t.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-brand-text-tertiary uppercase",children:"User"}),t.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-brand-text-tertiary uppercase",children:"Role"}),t.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-brand-text-tertiary uppercase",children:"Plan"}),t.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-brand-text-tertiary uppercase",children:"Last Login"})]})}),t.jsx("tbody",{className:"divide-y divide-white/5",children:j.map((m,T)=>{var F;return t.jsxs("tr",{className:"hover:bg-dark-surface transition-colors",children:[t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-7 h-7 rounded-full bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center flex-shrink-0",children:t.jsx("span",{className:"text-white font-bold text-xs",children:(m.name||"?").charAt(0).toUpperCase()})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-white font-medium",children:m.name}),t.jsx("p",{className:"text-xs text-brand-text-tertiary",children:m.email})]})]})}),t.jsx("td",{className:"px-4 py-3",children:t.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${m.role==="admin"?"bg-red-500/20 text-red-400":"bg-blue-500/20 text-blue-400"}`,children:m.role})}),t.jsx("td",{className:"px-4 py-3 text-sm text-white capitalize",children:((F=m.subscription)==null?void 0:F.plan)||"free"}),t.jsx("td",{className:"px-4 py-3 text-sm text-brand-text-tertiary",children:Li(m.lastLogin)})]},T)})})]})}):t.jsx("p",{className:"text-brand-text-tertiary text-center py-8",children:"No logins in last 7 days"})]})]})}function ws({icon:i,label:d,value:c,color:g}){return t.jsxs("div",{className:"bg-dark-elevated rounded-xl p-4 border border-white/10",children:[t.jsx(i,{className:`w-5 h-5 ${g} mb-2`}),t.jsx("div",{className:"text-xl font-bold text-white",children:c.toLocaleString()}),t.jsx("p",{className:"text-xs text-brand-text-tertiary",children:d})]})}function vp({placeholder:i="Search...",onSearch:d,onFilterClick:c,showFilters:g=!1,loading:p=!1}){const[b,j]=h.useState(""),S=C=>{j(C),d==null||d(C)},v=()=>{j(""),d==null||d("")};return t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(mn,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-brand-text-tertiary"}),t.jsx("input",{type:"text",placeholder:i,value:b,onChange:C=>S(C.target.value),className:"w-full pl-12 pr-12 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder-brand-text-tertiary focus:outline-none focus:border-accent transition-colors"}),p&&t.jsx(Pe,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-accent animate-spin"}),!p&&b&&t.jsx("button",{onClick:v,className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-brand-text-tertiary hover:text-white transition-colors",children:t.jsx(Ve,{size:20})})]}),g&&t.jsxs("button",{onClick:c,className:"flex items-center gap-2 px-4 py-3 bg-white/5 hover:bg-white/10 border border-white/10 rounded-lg text-white transition-colors",children:[t.jsx(Wm,{size:18}),t.jsx("span",{className:"font-medium",children:"Filters"})]})]})}function yp({isOpen:i,onClose:d,onApply:c,collectionId:g,datePackId:p,albumId:b}){const[j,S]=h.useState({genre:"",tonalityKey:"",camelot:"",bpmMin:"",bpmMax:"",pool:""}),[v,C]=h.useState({genres:[],tonalityKeys:[],camelotKeys:[],pools:[],bpmRange:{min:80,max:180}}),[m,T]=h.useState(!1);h.useEffect(()=>{i&&F()},[i,g,p,b]);const F=async()=>{try{T(!0);const u=new URLSearchParams;g&&u.append("collectionId",g),p&&u.append("datePackId",p),b&&u.append("albumId",b);const z=await(await fetch(`http://localhost:5000/api/search/filters?${u}`)).json();z.success&&C(z.data)}catch(u){console.error("Error fetching filter options:",u)}finally{T(!1)}},B=()=>{S({genre:"",tonalityKey:"",camelot:"",bpmMin:"",bpmMax:"",pool:""})},D=()=>{const u=Object.entries(j).reduce((k,[z,$])=>($&&(k[z]=$),k),{});c==null||c(u),d()};return i?t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-end bg-black/90 backdrop-blur-md animate-in fade-in duration-200",children:t.jsxs("div",{className:"relative w-full max-w-md h-full bg-dark-surface/95 backdrop-blur-xl border-l border-white/10 shadow-2xl shadow-black/40 animate-in slide-in-from-right duration-300 overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 z-10 bg-dark-surface/95 backdrop-blur-xl border-b border-white/10 p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-lg bg-accent/10 flex items-center justify-center",children:t.jsx(lx,{className:"w-5 h-5 text-accent",strokeWidth:1.5})}),t.jsx("h2",{className:"text-xl font-bold text-white",children:"Advanced Filters"})]}),t.jsx("button",{onClick:d,className:"w-9 h-9 rounded-full bg-white/10 hover:bg-white/20 flex items-center justify-center transition-all duration-150 text-white",children:t.jsx(Ve,{className:"w-4 h-4",strokeWidth:2})})]}),t.jsx("p",{className:"text-sm text-brand-text-tertiary",children:"Filter tracks by genre, tonality, and BPM"})]}),m?t.jsx("div",{className:"flex items-center justify-center py-20",children:t.jsx(Pe,{className:"w-8 h-8 text-accent animate-spin"})}):t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-brand-text-tertiary uppercase tracking-wider mb-3",children:"Genre"}),t.jsxs("select",{value:j.genre,onChange:u=>S({...j,genre:u.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-accent transition-colors",children:[t.jsx("option",{value:"",children:"All Genres"}),v.genres.map(u=>t.jsx("option",{value:u,children:u},u))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-brand-text-tertiary uppercase tracking-wider mb-3",children:"Musical Key"}),t.jsxs("select",{value:j.tonalityKey,onChange:u=>S({...j,tonalityKey:u.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-accent transition-colors",children:[t.jsx("option",{value:"",children:"All Keys"}),v.tonalityKeys.map(u=>t.jsx("option",{value:u,children:u},u))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-brand-text-tertiary uppercase tracking-wider mb-3",children:"Camelot Notation"}),t.jsxs("select",{value:j.camelot,onChange:u=>S({...j,camelot:u.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-accent transition-colors",children:[t.jsx("option",{value:"",children:"All Camelot Keys"}),v.camelotKeys.map(u=>t.jsx("option",{value:u,children:u},u))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-brand-text-tertiary uppercase tracking-wider mb-3",children:"BPM Range"}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-brand-text-tertiary mb-2",children:"Min"}),t.jsx("input",{type:"number",value:j.bpmMin,onChange:u=>S({...j,bpmMin:u.target.value}),placeholder:v.bpmRange.min,className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-accent transition-colors"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-brand-text-tertiary mb-2",children:"Max"}),t.jsx("input",{type:"number",value:j.bpmMax,onChange:u=>S({...j,bpmMax:u.target.value}),placeholder:v.bpmRange.max,className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-accent transition-colors"})]})]})]}),v.pools.length>0&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-brand-text-tertiary uppercase tracking-wider mb-3",children:"Pool"}),t.jsxs("select",{value:j.pool,onChange:u=>S({...j,pool:u.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-accent transition-colors",children:[t.jsx("option",{value:"",children:"All Pools"}),v.pools.map(u=>t.jsx("option",{value:u,children:u},u))]})]})]}),t.jsx("div",{className:"sticky bottom-0 bg-dark-surface/95 backdrop-blur-xl border-t border-white/10 p-6",children:t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:B,className:"flex-1 py-3 rounded-lg bg-white/5 hover:bg-white/10 border border-white/10 text-white text-sm font-semibold transition-all duration-150",children:"Reset"}),t.jsx("button",{onClick:D,className:"flex-1 py-3 rounded-lg bg-accent hover:bg-accent-hover text-white text-sm font-semibold transition-all duration-150 shadow-lg shadow-accent/30",children:"Apply Filters"})]})})]})}):null}function bp({album:i,onClose:d,onUpdate:c}){var w,R;const[g,p]=h.useState([]),[b,j]=h.useState([]),[S,v]=h.useState(!0),[C,m]=h.useState(null),[T,F]=h.useState({}),[B,D]=h.useState(null),[u,k]=h.useState(0),[z,$]=h.useState(0),[N,I]=h.useState(""),[J,H]=h.useState(!1),[Y,ne]=h.useState({}),U=h.useRef(null);h.useEffect(()=>{de()},[i._id]);const de=async()=>{try{v(!0);const V=localStorage.getItem("token"),ae=await(await fetch(`http://localhost:5000/api/albums/${i._id}/tracks`,{headers:{Authorization:`Bearer ${V}`}})).json();ae.success&&(p(ae.data),j(ae.data))}catch(V){console.error("Error fetching tracks:",V)}finally{v(!1)}},pe=V=>{I(V),L(V,Y)},ye=V=>{ne(V),L(N,V)},L=(V,te)=>{let ae=[...g];if(V){const ie=V.toLowerCase();ae=ae.filter(ve=>ve.title.toLowerCase().includes(ie)||ve.artist.toLowerCase().includes(ie)||ve.featuredArtist&&ve.featuredArtist.toLowerCase().includes(ie))}te.genre&&(ae=ae.filter(ie=>ie.genre&&ie.genre.toLowerCase().includes(te.genre.toLowerCase()))),te.tonalityKey&&(ae=ae.filter(ie=>{var ve;return((ve=ie.tonality)==null?void 0:ve.key)&&ie.tonality.key.toLowerCase().includes(te.tonalityKey.toLowerCase())})),te.camelot&&(ae=ae.filter(ie=>{var ve;return((ve=ie.tonality)==null?void 0:ve.camelot)===te.camelot})),te.bpmMin&&(ae=ae.filter(ie=>ie.bpm>=parseInt(te.bpmMin))),te.bpmMax&&(ae=ae.filter(ie=>ie.bpm<=parseInt(te.bpmMax))),j(ae)},Q=V=>{m(V._id),F({title:V.title,artist:V.artist,featuredArtist:V.featuredArtist||"",bpm:V.bpm||"",genre:V.genre||""})},X=async V=>{try{const te=localStorage.getItem("token");(await(await fetch(`http://localhost:5000/api/tracks/${V}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${te}`},body:JSON.stringify(T)})).json()).success&&(m(null),de(),c())}catch(te){console.error("Error updating track:",te)}},P=async V=>{if(confirm("Are you sure you want to delete this track?"))try{const te=localStorage.getItem("token");(await(await fetch(`http://localhost:5000/api/tracks/${V}`,{method:"DELETE",headers:{Authorization:`Bearer ${te}`}})).json()).success&&(de(),c())}catch(te){console.error("Error deleting track:",te)}},ee=async V=>{try{if(B===V._id&&U.current&&!U.current.paused){U.current.pause(),D(null);return}const te=localStorage.getItem("token"),ie=await(await fetch(`http://localhost:5000/api/tracks/${V._id}/playback`,{headers:{Authorization:`Bearer ${te}`}})).json();ie.success&&U.current&&(U.current.src=ie.data.url,U.current.play(),D(V._id))}catch(te){console.error("Error playing track:",te)}},_=()=>{U.current&&(k(U.current.currentTime),$(U.current.duration||0))},re=V=>{const te=V.currentTarget.getBoundingClientRect(),ae=(V.clientX-te.left)/te.width;U.current&&(U.current.currentTime=ae*z)},K=V=>{if(!V||isNaN(V))return"0:00";const te=Math.floor(V/60),ae=Math.floor(V%60);return`${te}:${ae.toString().padStart(2,"0")}`};return t.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-dark-bg border border-white/10 rounded-xl w-full max-w-5xl max-h-[90vh] overflow-hidden flex flex-col",children:[t.jsxs("div",{className:"p-6 border-b border-white/10",children:[t.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[t.jsx("img",{src:i.coverArt,alt:i.name,className:"w-20 h-20 rounded-lg object-cover"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h2",{className:"text-2xl font-bold mb-1",children:i.name}),t.jsxs("p",{className:"text-brand-text-tertiary",children:[(w=i.sourceId)==null?void 0:w.name,"  ",i.year,"  ",b.length," of ",g.length," tracks"]})]}),t.jsx("button",{onClick:d,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:t.jsx(Ve,{size:24})})]}),t.jsx(vp,{placeholder:"Search tracks by title, artist...",onSearch:pe,onFilterClick:()=>H(!0),showFilters:!0})]}),t.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:S?t.jsx("div",{className:"text-center py-12 text-brand-text-tertiary",children:"Loading tracks..."}):t.jsx("div",{className:"space-y-2",children:b.map((V,te)=>{var ae;return t.jsx("div",{className:"bg-white/5 rounded-lg p-4 hover:bg-white/10 transition-colors border border-white/10",children:C===V._id?t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-brand-text-tertiary mb-1",children:"Title"}),t.jsx("input",{type:"text",value:T.title,onChange:ie=>F({...T,title:ie.target.value}),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg focus:outline-none focus:border-accent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-brand-text-tertiary mb-1",children:"Artist"}),t.jsx("input",{type:"text",value:T.artist,onChange:ie=>F({...T,artist:ie.target.value}),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg focus:outline-none focus:border-accent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-brand-text-tertiary mb-1",children:"Featured Artist"}),t.jsx("input",{type:"text",value:T.featuredArtist,onChange:ie=>F({...T,featuredArtist:ie.target.value}),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg focus:outline-none focus:border-accent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-brand-text-tertiary mb-1",children:"BPM"}),t.jsx("input",{type:"number",value:T.bpm,onChange:ie=>F({...T,bpm:ie.target.value}),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg focus:outline-none focus:border-accent"})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:()=>X(V._id),className:"flex items-center gap-2 px-4 py-2 bg-accent hover:bg-accent-hover rounded-lg font-medium transition-colors",children:[t.jsx(rx,{size:16}),"Save"]}),t.jsx("button",{onClick:()=>m(null),className:"px-4 py-2 bg-white/5 hover:bg-white/10 rounded-lg font-medium transition-colors",children:"Cancel"})]})]}):t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:()=>ee(V),className:"p-2 hover:bg-accent/20 rounded-lg transition-colors text-accent",children:B===V._id?t.jsx(Rt,{size:20}):t.jsx(Et,{size:20})}),t.jsx("div",{className:"text-brand-text-tertiary font-mono text-sm w-8",children:String(te+1).padStart(2,"0")}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-medium",children:V.title}),t.jsxs("div",{className:"text-sm text-brand-text-tertiary",children:[V.artist,V.featuredArtist&&` feat. ${V.featuredArtist}`]})]}),t.jsx("div",{className:"text-sm text-brand-text-tertiary",children:V.genre}),((ae=V.tonality)==null?void 0:ae.camelot)&&t.jsx("div",{className:"px-2 py-1 bg-accent/20 text-accent text-xs font-bold rounded",children:V.tonality.camelot}),t.jsx("div",{className:"text-sm text-brand-text-tertiary",children:V.bpm&&`${V.bpm} BPM`}),t.jsxs("div",{className:"text-sm text-brand-text-tertiary",children:[Math.floor(V.duration/60),":",String(Math.floor(V.duration%60)).padStart(2,"0")]}),t.jsxs("div",{className:"text-sm text-accent flex items-center gap-1",children:[t.jsx(pt,{size:14}),V.downloads||0]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>Q(V),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:t.jsx(qi,{size:16})}),t.jsx("button",{onClick:()=>P(V._id),className:"p-2 hover:bg-red-500/20 text-red-500 rounded-lg transition-colors",children:t.jsx(Wr,{size:16})})]})]})},V._id)})})}),B&&t.jsx("div",{className:"p-4 border-t border-white/10 bg-white/5",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:()=>{U.current&&(U.current.paused?U.current.play():U.current.pause())},className:"p-2 hover:bg-accent/20 rounded-lg transition-colors text-accent",children:U.current&&!U.current.paused?t.jsx(Rt,{size:24}):t.jsx(Et,{size:24})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"text-sm font-medium mb-1",children:(R=g.find(V=>V._id===B))==null?void 0:R.title}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-xs text-brand-text-tertiary",children:K(u)}),t.jsx("div",{onClick:re,className:"flex-1 h-1 bg-white/10 rounded-full cursor-pointer",children:t.jsx("div",{className:"h-full bg-accent rounded-full transition-all",style:{width:`${z?u/z*100:0}%`}})}),t.jsx("span",{className:"text-xs text-brand-text-tertiary",children:K(z)})]})]}),t.jsx(Zi,{size:20,className:"text-brand-text-tertiary"})]})}),t.jsxs("div",{className:"p-6 border-t border-white/10 flex items-center justify-between",children:[t.jsxs("div",{className:"text-sm text-brand-text-tertiary",children:["Total: ",g.length," tracks  ",(i.totalSize/(1024*1024)).toFixed(2)," MB"]}),t.jsx("button",{onClick:d,className:"px-6 py-2 bg-accent hover:bg-accent-hover rounded-lg font-medium transition-colors",children:"Done"})]}),t.jsx("audio",{ref:U,onTimeUpdate:_,onEnded:()=>D(null),onLoadedMetadata:_}),t.jsx(yp,{isOpen:J,onClose:()=>H(!1),onApply:ye,albumId:i._id})]})})}const Tt="http://localhost:5000/api",Nu=()=>localStorage.getItem("token"),js=()=>({Authorization:`Bearer ${Nu()}`});function wp(){const[i,d]=h.useState("sources"),[c,g]=h.useState([]),[p,b]=h.useState([]),[j,S]=h.useState([]),[v,C]=h.useState(null),[m,T]=h.useState(null),[F,B]=h.useState(null),[D,u]=h.useState(!1),[k,z]=h.useState(null),[$,N]=h.useState(null),I=h.useCallback(async()=>{try{u(!0);const Q=await(await fetch(`${Tt}/sources`)).json();Q.success&&g(Q.data)}catch(L){console.error("Error fetching sources:",L)}finally{u(!1)}},[]),J=h.useCallback(async L=>{try{u(!0);const X=await(await fetch(`${Tt}/date-packs/source/${L}`)).json();X.success&&b(X.data)}catch(Q){console.error("Error fetching date cards:",Q)}finally{u(!1)}},[]),H=h.useCallback(async L=>{try{u(!0);const X=await(await fetch(`${Tt}/date-packs/${L}/albums`)).json();X.success&&S(X.data)}catch(Q){console.error("Error fetching albums:",Q)}finally{u(!1)}},[]);h.useEffect(()=>{I()},[I]);const Y=L=>{C(L),T(null),d("dateCards"),J(L._id)},ne=L=>{T(L),d("albums"),H(L._id)},U=L=>{L==="sources"?(d("sources"),C(null),T(null),I()):L==="dateCards"&&(d("dateCards"),T(null),v&&J(v._id))},de=async L=>{if(confirm(`Delete "${L.name}"? This will delete ALL date cards, albums, and tracks under it.`))try{(await(await fetch(`${Tt}/sources/${L._id}`,{method:"DELETE",headers:js()})).json()).success&&I()}catch(Q){console.error("Error deleting source:",Q)}},pe=async L=>{if(confirm(`Delete "${L.name}"? This will delete all albums and tracks.`))try{(await(await fetch(`${Tt}/date-packs/${L._id}`,{method:"DELETE",headers:js()})).json()).success&&v&&J(v._id)}catch(Q){console.error("Error deleting date card:",Q)}},ye=async L=>{if(confirm(`Delete "${L.name}"? This will delete all tracks.`))try{(await(await fetch(`${Tt}/albums/${L._id}`,{method:"DELETE",headers:js()})).json()).success&&m&&H(m._id)}catch(Q){console.error("Error deleting album:",Q)}};return t.jsx("div",{className:"min-h-screen bg-dark-bg text-white p-8",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsx("div",{className:"flex items-center justify-between mb-6",children:t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold mb-1",children:"Record Pool Management"}),t.jsx("p",{className:"text-brand-text-tertiary text-sm",children:"Manage sources, date cards, and albums"})]})}),t.jsxs("div",{className:"flex items-center gap-2 mb-6 text-sm",children:[t.jsxs("button",{onClick:()=>U("sources"),className:`flex items-center gap-1 transition-colors ${i==="sources"?"text-white font-semibold":"text-brand-text-tertiary hover:text-accent"}`,children:[t.jsx(Gi,{size:14})," Sources"]}),v&&t.jsxs(t.Fragment,{children:[t.jsx(Ir,{size:14,className:"text-brand-text-tertiary"}),t.jsx("button",{onClick:()=>U("dateCards"),className:`transition-colors ${i==="dateCards"?"text-white font-semibold":"text-brand-text-tertiary hover:text-accent"}`,children:v.name})]}),m&&t.jsxs(t.Fragment,{children:[t.jsx(Ir,{size:14,className:"text-brand-text-tertiary"}),t.jsx("span",{className:"text-white font-semibold",children:m.name})]})]}),i==="sources"&&t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-2xl font-bold",children:"Sources"}),t.jsxs("button",{onClick:()=>{z("createSource"),N(null)},className:"flex items-center gap-2 px-5 py-2.5 bg-accent hover:bg-accent-hover rounded-lg font-medium transition-colors",children:[t.jsx(Gd,{size:18})," New Source"]})]}),D?t.jsx(_i,{}):t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[c.map(L=>t.jsx(jp,{source:L,onView:Y,onEdit:()=>{N(L),z("editSource")},onDelete:de},L._id)),c.length===0&&t.jsxs("div",{className:"col-span-full text-center py-16",children:[t.jsx(Wi,{size:48,className:"mx-auto mb-4 text-brand-text-tertiary opacity-50"}),t.jsx("p",{className:"text-brand-text-tertiary",children:"No sources yet. Create your first source!"})]})]})]}),i==="dateCards"&&v&&t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("h2",{className:"text-2xl font-bold",children:["Date Cards  ",v.name]}),t.jsxs("button",{onClick:()=>{z("createDateCard"),N(null)},className:"flex items-center gap-2 px-5 py-2.5 bg-accent hover:bg-accent-hover rounded-lg font-medium transition-colors",children:[t.jsx(Gd,{size:18})," New Date Card"]})]}),D?t.jsx(_i,{}):t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[p.map(L=>t.jsx(Np,{dateCard:L,onView:ne,onEdit:()=>{N(L),z("editDateCard")},onDelete:pe},L._id)),p.length===0&&t.jsxs("div",{className:"col-span-full text-center py-16",children:[t.jsx(Ur,{size:48,className:"mx-auto mb-4 text-brand-text-tertiary opacity-50"}),t.jsx("p",{className:"text-brand-text-tertiary",children:"No date cards yet. Create one to start adding albums!"})]})]})]}),i==="albums"&&m&&t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("h2",{className:"text-2xl font-bold",children:["Albums  ",m.name]}),t.jsxs("button",{onClick:()=>z("uploadAlbum"),className:"flex items-center gap-2 px-5 py-2.5 bg-accent hover:bg-accent-hover rounded-lg font-medium transition-colors",children:[t.jsx(Dt,{size:18})," Upload Album"]})]}),D?t.jsx(_i,{}):t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[j.map(L=>t.jsx(kp,{album:L,onView:()=>B(L),onDelete:ye},L._id)),j.length===0&&t.jsxs("div",{className:"col-span-full text-center py-16",children:[t.jsx(bt,{size:48,className:"mx-auto mb-4 text-brand-text-tertiary opacity-50"}),t.jsx("p",{className:"text-brand-text-tertiary",children:"No albums yet. Upload a ZIP of MP3s!"})]})]})]}),(k==="createSource"||k==="editSource")&&t.jsx(Sp,{source:k==="editSource"?$:null,onClose:()=>z(null),onSuccess:()=>{z(null),I()}}),(k==="createDateCard"||k==="editDateCard")&&v&&t.jsx(Cp,{sourceId:v._id,dateCard:k==="editDateCard"?$:null,onClose:()=>z(null),onSuccess:()=>{z(null),J(v._id)}}),k==="uploadAlbum"&&v&&m&&t.jsx(Ap,{sourceId:v._id,datePackId:m._id,sourceName:v.name,dateCardName:m.name,onClose:()=>z(null),onSuccess:()=>{z(null),H(m._id)}}),F&&t.jsx(bp,{album:F,onClose:()=>B(null),onUpdate:()=>{m&&H(m._id)}})]})})}function _i(){return t.jsx("div",{className:"flex items-center justify-center py-16",children:t.jsx(Pe,{className:"w-8 h-8 text-accent animate-spin"})})}function jp({source:i,onView:d,onEdit:c,onDelete:g}){return t.jsxs("div",{className:"bg-dark-elevated rounded-xl border border-white/10 overflow-hidden hover:border-accent/40 transition-all duration-300 group",children:[t.jsxs("div",{className:"relative aspect-[16/9] overflow-hidden",children:[t.jsx("img",{src:i.thumbnail,alt:i.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"}),t.jsxs("div",{className:"absolute bottom-3 left-3 right-3",children:[t.jsx("h3",{className:"font-bold text-lg text-white truncate",children:i.name}),t.jsxs("p",{className:"text-white/70 text-sm",children:[i.year," ",i.platform&&` ${i.platform}`]})]})]}),t.jsxs("div",{className:"p-4",children:[t.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4 text-center",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-xl font-bold text-accent",children:i.totalAlbums||0}),t.jsx("div",{className:"text-xs text-brand-text-tertiary",children:"Albums"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xl font-bold text-accent",children:i.totalTracks||0}),t.jsx("div",{className:"text-xs text-brand-text-tertiary",children:"Tracks"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xl font-bold text-accent",children:i.totalDownloads||0}),t.jsx("div",{className:"text-xs text-brand-text-tertiary",children:"Downloads"})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:()=>d(i),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-accent hover:bg-accent-hover rounded-lg font-medium text-sm transition-colors",children:[t.jsx(La,{size:15})," View"]}),t.jsx("button",{onClick:()=>c(i),className:"px-3 py-2 bg-white/10 hover:bg-white/20 rounded-lg transition-colors",children:t.jsx(qi,{size:15})}),t.jsx("button",{onClick:()=>g(i),className:"px-3 py-2 bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 rounded-lg transition-colors",children:t.jsx(Wr,{size:15})})]})]})]})}function Np({dateCard:i,onView:d,onEdit:c,onDelete:g}){const p=new Date(i.date).toLocaleDateString([],{month:"short",day:"numeric",year:"numeric"});return t.jsxs("div",{className:"bg-dark-elevated rounded-xl border border-white/10 overflow-hidden hover:border-accent/40 transition-all duration-300 group cursor-pointer",onClick:()=>d(i),children:[t.jsxs("div",{className:"relative aspect-square overflow-hidden",children:[t.jsx("img",{src:i.thumbnail,alt:i.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"}),t.jsxs("div",{className:"absolute top-3 right-3 px-2 py-1 bg-black/60 backdrop-blur-sm rounded-lg text-xs font-medium text-white/90",children:[t.jsx(Ur,{size:12,className:"inline mr-1"}),p]}),t.jsx("div",{className:"absolute bottom-3 left-3 right-3",children:t.jsx("h3",{className:"font-bold text-white truncate",children:i.name})})]}),t.jsxs("div",{className:"p-3",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm mb-3",children:[t.jsxs("span",{className:"text-brand-text-tertiary",children:[t.jsx(bt,{size:13,className:"inline mr-1"}),i.totalAlbums||0," albums"]}),t.jsxs("span",{className:"text-brand-text-tertiary",children:[t.jsx($e,{size:13,className:"inline mr-1"}),i.totalTracks||0," tracks"]})]}),t.jsxs("div",{className:"flex gap-2",onClick:b=>b.stopPropagation(),children:[t.jsxs("button",{onClick:()=>c(i),className:"flex-1 px-3 py-1.5 bg-white/10 hover:bg-white/20 rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-1",children:[t.jsx(qi,{size:13})," Edit"]}),t.jsx("button",{onClick:()=>g(i),className:"px-3 py-1.5 bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 rounded-lg transition-colors",children:t.jsx(Wr,{size:13})})]})]})]})}function kp({album:i,onView:d,onDelete:c}){const[g,p]=h.useState(!1),[b,j]=h.useState(null),S=async v=>{if(v.stopPropagation(),!g){p(!0),j(null);try{const m=await(await fetch(`${Tt}/tracks/reanalyze/${i._id}`,{method:"POST",headers:js()})).json();j(m.success?" Running in background":m.message)}catch(C){j("Error: "+C.message)}finally{setTimeout(()=>p(!1),3e3)}}};return t.jsxs("div",{className:"bg-dark-elevated rounded-xl border border-white/10 overflow-hidden hover:border-accent/40 transition-all duration-300 group",children:[t.jsxs("div",{className:"relative aspect-square overflow-hidden cursor-pointer",onClick:d,children:[i.coverArt?t.jsx("img",{src:i.coverArt,alt:i.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}):t.jsx("div",{className:"w-full h-full bg-dark-surface flex items-center justify-center",children:t.jsx(bt,{size:48,className:"text-white/10"})}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"})]}),t.jsxs("div",{className:"p-4",children:[t.jsx("h3",{className:"font-bold truncate mb-1",children:i.name}),t.jsxs("div",{className:"flex items-center justify-between text-sm mb-3",children:[t.jsxs("span",{className:"text-accent font-semibold",children:[t.jsx($e,{size:13,className:"inline mr-1"}),i.trackCount||0," tracks"]}),t.jsxs("span",{className:"text-brand-text-tertiary",children:[((i.totalSize||0)/(1024*1024)).toFixed(1)," MB"]})]}),b&&t.jsx("p",{className:"text-xs text-green-400 mb-2",children:b}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:d,className:"flex-1 flex items-center justify-center gap-1 px-3 py-2 bg-accent hover:bg-accent-hover rounded-lg font-medium text-sm transition-colors",children:[t.jsx(La,{size:14})," Manage"]}),t.jsx("button",{onClick:S,disabled:g,className:"px-3 py-2 bg-purple-500/20 hover:bg-purple-500/30 border border-purple-500/50 rounded-lg transition-colors disabled:opacity-50",title:"Re-analyze key & BPM with Essentia.js",children:g?t.jsx(Pe,{size:14,className:"animate-spin"}):t.jsx($e,{size:14})}),t.jsx("button",{onClick:()=>c(i),className:"px-3 py-2 bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 rounded-lg transition-colors",children:t.jsx(Wr,{size:14})})]})]})]})}function ku({file:i,setFile:d,url:c,setUrl:g,error:p,setError:b}){const[j,S]=h.useState("file"),v=m=>{const T=m.target.files[0];if(T){if(!T.type.startsWith("image/")){b("Please select a valid image file");return}if(T.size>10*1024*1024){b("Image must be under 10MB");return}d(T),b("")}},C=j==="file"&&i?URL.createObjectURL(i):j==="url"&&c?c:null;return t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Thumbnail *"}),t.jsxs("div",{className:"flex gap-2 mb-3",children:[t.jsx("button",{type:"button",onClick:()=>S("file"),className:`flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${j==="file"?"bg-accent text-white":"bg-white/5 text-brand-text-tertiary hover:text-white"}`,children:"Upload File"}),t.jsx("button",{type:"button",onClick:()=>S("url"),className:`flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${j==="url"?"bg-accent text-white":"bg-white/5 text-brand-text-tertiary hover:text-white"}`,children:"URL"})]}),j==="file"?t.jsxs("div",{className:"border-2 border-dashed border-white/20 rounded-lg p-6 text-center hover:border-accent transition-colors",children:[t.jsx("input",{type:"file",accept:"image/*",onChange:v,className:"hidden",id:"thumb-upload"}),t.jsxs("label",{htmlFor:"thumb-upload",className:"cursor-pointer",children:[t.jsx(Gm,{size:28,className:"mx-auto mb-2 text-brand-text-tertiary"}),i?t.jsxs("p",{className:"font-medium text-white truncate",children:[i.name," ",t.jsxs("span",{className:"text-brand-text-tertiary text-sm",children:["(",(i.size/1024).toFixed(0)," KB)"]})]}):t.jsx("p",{className:"text-brand-text-tertiary text-sm",children:"Click to upload image"})]})]}):t.jsx("input",{type:"url",value:c,onChange:m=>g(m.target.value),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:outline-none focus:border-accent",placeholder:"https://example.com/image.jpg"}),C&&t.jsx("img",{src:C,alt:"Preview",className:"mt-3 w-full h-32 object-cover rounded-lg border border-white/10",onError:()=>j==="url"&&b("Invalid image URL")})]})}function Sp({source:i,onClose:d,onSuccess:c}){const[g,p]=h.useState((i==null?void 0:i.name)||""),[b,j]=h.useState((i==null?void 0:i.year)||new Date().getFullYear()),[S,v]=h.useState((i==null?void 0:i.platform)||""),[C,m]=h.useState(null),[T,F]=h.useState((i==null?void 0:i.thumbnail)||""),[B,D]=h.useState(!1),[u,k]=h.useState(""),z=!!i,$=async N=>{N.preventDefault(),k(""),D(!0);try{const I=new FormData;I.append("name",g),I.append("year",b),I.append("platform",S),C?I.append("thumbnailFile",C):T&&I.append("thumbnail",T);const J=z?`${Tt}/sources/${i._id}`:`${Tt}/sources`,Y=await(await fetch(J,{method:z?"PUT":"POST",headers:js(),body:I})).json();Y.success?c():k(Y.message||"Failed")}catch(I){k(I.message)}finally{D(!1)}};return t.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4 overflow-y-auto",children:t.jsxs("div",{className:"bg-dark-elevated rounded-xl max-w-md w-full p-6 my-8 max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-5",children:[t.jsx("h2",{className:"text-xl font-bold",children:z?"Edit Source":"Create Source"}),t.jsx("button",{onClick:d,className:"text-brand-text-tertiary hover:text-white",children:t.jsx(Ve,{size:22})})]}),u&&t.jsxs("div",{className:"mb-4 p-3 bg-red-500/20 border border-red-500/50 rounded-lg flex items-center gap-2 text-red-400 text-sm",children:[t.jsx(jr,{size:16}),u]}),t.jsxs("form",{onSubmit:$,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name *"}),t.jsx("input",{type:"text",value:g,onChange:N=>p(N.target.value),required:!0,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:outline-none focus:border-accent",placeholder:"e.g., PlaylistPro"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Year *"}),t.jsx("input",{type:"number",value:b,onChange:N=>j(parseInt(N.target.value)),required:!0,min:"2000",max:"2100",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:outline-none focus:border-accent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Platform"}),t.jsx("input",{type:"text",value:S,onChange:N=>v(N.target.value),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:outline-none focus:border-accent",placeholder:"e.g., Beatport"})]})]}),t.jsx(ku,{file:C,setFile:m,url:T,setUrl:F,error:u,setError:k}),t.jsxs("div",{className:"flex gap-3 pt-2",children:[t.jsx("button",{type:"button",onClick:d,className:"flex-1 px-4 py-2.5 bg-white/5 hover:bg-white/10 rounded-lg font-medium transition-colors",children:"Cancel"}),t.jsxs("button",{type:"submit",disabled:B,className:"flex-1 px-4 py-2.5 bg-accent hover:bg-accent-hover rounded-lg font-medium transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[B&&t.jsx(Pe,{size:16,className:"animate-spin"}),z?"Save":"Create"]})]})]})]})})}function Cp({sourceId:i,dateCard:d,onClose:c,onSuccess:g}){const[p,b]=h.useState((d==null?void 0:d.name)||""),[j,S]=h.useState(d!=null&&d.date?new Date(d.date).toISOString().split("T")[0]:new Date().toISOString().split("T")[0]),[v,C]=h.useState(null),[m,T]=h.useState((d==null?void 0:d.thumbnail)||""),[F,B]=h.useState(!1),[D,u]=h.useState(""),k=!!d,z=async $=>{$.preventDefault(),u(""),B(!0);try{const N=new FormData;N.append("name",p),N.append("date",j),k||N.append("sourceId",i),v?N.append("thumbnailFile",v):m&&N.append("thumbnail",m);const I=k?`${Tt}/date-packs/${d._id}`:`${Tt}/date-packs`,H=await(await fetch(I,{method:k?"PUT":"POST",headers:js(),body:N})).json();H.success?g():u(H.message||"Failed")}catch(N){u(N.message)}finally{B(!1)}};return t.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4 overflow-y-auto",children:t.jsxs("div",{className:"bg-dark-elevated rounded-xl max-w-md w-full p-6 my-8 max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-5",children:[t.jsx("h2",{className:"text-xl font-bold",children:k?"Edit Date Card":"Create Date Card"}),t.jsx("button",{onClick:c,className:"text-brand-text-tertiary hover:text-white",children:t.jsx(Ve,{size:22})})]}),D&&t.jsxs("div",{className:"mb-4 p-3 bg-red-500/20 border border-red-500/50 rounded-lg flex items-center gap-2 text-red-400 text-sm",children:[t.jsx(jr,{size:16}),D]}),t.jsxs("form",{onSubmit:z,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name *"}),t.jsx("input",{type:"text",value:p,onChange:$=>b($.target.value),required:!0,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:outline-none focus:border-accent",placeholder:"e.g., January 2026"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Date *"}),t.jsx("input",{type:"date",value:j,onChange:$=>S($.target.value),required:!0,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:outline-none focus:border-accent"})]}),t.jsx(ku,{file:v,setFile:C,url:m,setUrl:T,error:D,setError:u}),t.jsxs("div",{className:"flex gap-3 pt-2",children:[t.jsx("button",{type:"button",onClick:c,className:"flex-1 px-4 py-2.5 bg-white/5 hover:bg-white/10 rounded-lg font-medium transition-colors",children:"Cancel"}),t.jsxs("button",{type:"submit",disabled:F,className:"flex-1 px-4 py-2.5 bg-accent hover:bg-accent-hover rounded-lg font-medium transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[F&&t.jsx(Pe,{size:16,className:"animate-spin"}),k?"Save":"Create"]})]})]})]})})}function Ap({sourceId:i,datePackId:d,sourceName:c,dateCardName:g,onClose:p,onSuccess:b}){const[j,S]=h.useState(null),[v,C]=h.useState(null),[m,T]=h.useState(""),[F,B]=h.useState(""),[D,u]=h.useState(!1),[k,z]=h.useState(0),[$,N]=h.useState(null),[I,J]=h.useState(""),H=ne=>{const U=ne.target.files[0];U&&(U.name.toLowerCase().endsWith(".zip")||U.type.includes("zip")?(S(U),J(""),m||T(U.name.replace(".zip",""))):J("Please select a ZIP file"))},Y=async()=>{if(!j){J("Please select a ZIP file");return}u(!0),J(""),z(0);const ne=new FormData;ne.append("albumZip",j),ne.append("sourceId",i),ne.append("datePackId",d),ne.append("albumName",m),F&&ne.append("genre",F),v&&ne.append("coverArt",v);try{const U=new XMLHttpRequest;U.upload.onprogress=de=>{de.lengthComputable&&z(Math.round(de.loaded/de.total*100))},U.onload=()=>{try{const de=JSON.parse(U.responseText);U.status===201&&de.success?(N(de),setTimeout(()=>b(),2e3)):(J(de.message||"Upload failed"),u(!1))}catch{J("Upload failed"),u(!1)}},U.onerror=()=>{J("Network error"),u(!1)},U.open("POST",`${Tt}/albums/upload`),U.setRequestHeader("Authorization",`Bearer ${Nu()}`),U.timeout=0,U.send(ne)}catch{J("Upload failed"),u(!1)}};return t.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4 overflow-y-auto",children:t.jsxs("div",{className:"bg-dark-elevated rounded-xl max-w-lg w-full p-6 my-8 max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-5",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold",children:"Upload Album"}),t.jsxs("p",{className:"text-sm text-brand-text-tertiary mt-0.5",children:[c," / ",g]})]}),t.jsx("button",{onClick:p,disabled:D,className:"text-brand-text-tertiary hover:text-white disabled:opacity-50",children:t.jsx(Ve,{size:22})})]}),I&&t.jsxs("div",{className:"mb-4 p-3 bg-red-500/20 border border-red-500/50 rounded-lg flex items-center gap-2 text-red-400 text-sm",children:[t.jsx(jr,{size:16}),I]}),$?t.jsx("div",{className:"p-4 bg-green-500/20 border border-green-500/50 rounded-lg",children:t.jsxs("div",{className:"flex items-center gap-2 text-green-400 font-medium",children:[t.jsx(Vr,{size:18}),$.message]})}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Album Name"}),t.jsx("input",{type:"text",value:m,onChange:ne=>T(ne.target.value),disabled:D,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:outline-none focus:border-accent disabled:opacity-50",placeholder:"Auto-detected from ZIP name"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Genre (optional)"}),t.jsx("input",{type:"text",value:F,onChange:ne=>B(ne.target.value),disabled:D,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:outline-none focus:border-accent disabled:opacity-50",placeholder:"e.g., House, Tech House"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Cover Art (optional)"}),t.jsx("input",{type:"file",accept:"image/*",onChange:ne=>C(ne.target.files[0]),disabled:D,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:outline-none focus:border-accent disabled:opacity-50 file:mr-3 file:py-1 file:px-3 file:rounded-lg file:border-0 file:bg-accent file:text-white file:cursor-pointer file:text-sm"}),v&&t.jsx("img",{src:URL.createObjectURL(v),alt:"Cover",className:"mt-2 w-24 h-24 object-cover rounded-lg border border-white/10"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Album ZIP (MP3s) *"}),t.jsxs("div",{className:"border-2 border-dashed border-white/20 rounded-lg p-6 text-center hover:border-accent transition-colors",children:[t.jsx("input",{type:"file",accept:".zip",onChange:H,disabled:D,className:"hidden",id:"album-zip-upload"}),t.jsxs("label",{htmlFor:"album-zip-upload",className:"cursor-pointer",children:[t.jsx(Dt,{size:32,className:"mx-auto mb-2 text-brand-text-tertiary"}),j?t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white",children:j.name}),t.jsxs("p",{className:"text-sm text-brand-text-tertiary",children:[(j.size/(1024*1024)).toFixed(1)," MB"]})]}):t.jsx("p",{className:"text-brand-text-tertiary text-sm",children:"Click to select ZIP file"})]})]})]}),D&&t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-1 text-sm",children:[t.jsx("span",{className:"text-brand-text-tertiary",children:"Uploading..."}),t.jsxs("span",{className:"text-accent font-medium",children:[k,"%"]})]}),t.jsx("div",{className:"w-full bg-white/10 rounded-full h-2",children:t.jsx("div",{className:"bg-accent h-2 rounded-full transition-all duration-300",style:{width:`${k}%`}})}),t.jsxs("p",{className:"text-xs text-brand-text-tertiary mt-2 flex items-center gap-1",children:[t.jsx(Pe,{size:12,className:"animate-spin"})," Processing tracks with tonality detection..."]})]}),t.jsxs("div",{className:"flex gap-3 pt-2",children:[t.jsx("button",{type:"button",onClick:p,disabled:D,className:"flex-1 px-4 py-2.5 bg-white/5 hover:bg-white/10 rounded-lg font-medium transition-colors disabled:opacity-50",children:"Cancel"}),t.jsx("button",{onClick:Y,disabled:!j||D,className:"flex-1 px-4 py-2.5 bg-accent hover:bg-accent-hover rounded-lg font-medium transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:D?t.jsxs(t.Fragment,{children:[t.jsx(Pe,{size:16,className:"animate-spin"})," Uploading..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Dt,{size:16})," Upload"]})})]})]})]})})}function Tp(){var C,m,T,F,B,D;const[i,d]=h.useState(null),[c,g]=h.useState("30d"),[p,b]=h.useState(!1);h.useEffect(()=>{j()},[c]);const j=async()=>{try{b(!0);const k=await(await fetch(`http://localhost:5000/api/downloads/stats?period=${c}`,{credentials:"include"})).json();k.success&&d(k.data)}catch(u){console.error("Error fetching stats:",u)}finally{b(!1)}};if(p)return t.jsx("div",{className:"p-8",children:t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-accent border-t-transparent rounded-full mx-auto"}),t.jsx("p",{className:"text-brand-text-tertiary mt-4",children:"Loading statistics..."})]})});if(!i)return t.jsx("div",{className:"p-8",children:t.jsx("div",{className:"text-center py-12",children:t.jsx("p",{className:"text-brand-text-tertiary",children:"No statistics available"})})});const S=((m=(C=i.downloadsByType)==null?void 0:C.find(u=>u._id==="single"))==null?void 0:m.count)||0,v=((F=(T=i.downloadsByType)==null?void 0:T.find(u=>u._id==="bulk"))==null?void 0:F.count)||0;return t.jsxs("div",{className:"p-8",children:[t.jsxs("div",{className:"flex items-center justify-between mb-8",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Download Statistics"}),t.jsx("p",{className:"text-brand-text-tertiary",children:"Track and analyze download activity"})]}),t.jsx("div",{className:"flex gap-2",children:["24h","7d","30d","90d"].map(u=>t.jsx("button",{onClick:()=>g(u),className:`px-4 py-2 rounded-lg font-medium transition-colors ${c===u?"bg-accent text-white":"bg-white/5 text-brand-text-tertiary hover:text-white"}`,children:u==="24h"?"24 Hours":u==="7d"?"7 Days":u==="30d"?"30 Days":"90 Days"},u))})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[t.jsx(Da,{icon:pt,label:"Total Downloads",value:i.totalDownloads.toLocaleString(),color:"blue"}),t.jsx(Da,{icon:ks,label:"Single Downloads",value:S.toLocaleString(),color:"green"}),t.jsx(Da,{icon:Ba,label:"Bulk Downloads",value:v.toLocaleString(),color:"purple"}),t.jsx(Da,{icon:Ur,label:"Avg per Day",value:Math.round(i.totalDownloads/(c==="24h"?1:c==="7d"?7:c==="30d"?30:90)).toLocaleString(),color:"orange"})]}),t.jsxs("div",{className:"bg-white/5 rounded-lg p-6 mb-8 border border-white/10",children:[t.jsx("h2",{className:"text-xl font-bold mb-4",children:"Top Sources"}),t.jsxs("div",{className:"space-y-4",children:[(B=i.topSources)==null?void 0:B.map((u,k)=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-8 h-8 bg-accent/20 rounded-full flex items-center justify-center font-bold text-accent",children:k+1}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:u.source}),t.jsx("div",{className:"text-sm text-brand-text-tertiary",children:u.platform})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"font-bold text-accent",children:u.downloads.toLocaleString()}),t.jsx("div",{className:"text-xs text-brand-text-tertiary",children:"downloads"})]})]},k)),(!i.topSources||i.topSources.length===0)&&t.jsx("p",{className:"text-center text-brand-text-tertiary py-4",children:"No data available"})]})]}),t.jsxs("div",{className:"bg-white/5 rounded-lg p-6 border border-white/10",children:[t.jsx("h2",{className:"text-xl font-bold mb-4",children:"Downloads Over Time"}),t.jsxs("div",{className:"h-64 flex items-end gap-2",children:[(D=i.downloadsOverTime)==null?void 0:D.map((u,k)=>{const z=Math.max(...i.downloadsOverTime.map(N=>N.count)),$=u.count/z*100;return t.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2",children:[t.jsxs("div",{className:"relative w-full group",children:[t.jsx("div",{className:"w-full bg-accent rounded-t transition-all hover:bg-accent-hover cursor-pointer",style:{height:`${$}%`,minHeight:"4px"}}),t.jsxs("div",{className:"absolute bottom-full mb-2 left-1/2 -translate-x-1/2 bg-dark-elevated px-3 py-2 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none",children:[t.jsx("div",{className:"font-bold",children:u.count}),t.jsx("div",{className:"text-xs text-brand-text-tertiary",children:new Date(u._id).toLocaleDateString()})]})]}),t.jsx("div",{className:"text-xs text-brand-text-tertiary rotate-45 origin-top-left mt-4",children:new Date(u._id).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]},k)}),(!i.downloadsOverTime||i.downloadsOverTime.length===0)&&t.jsx("p",{className:"text-center text-brand-text-tertiary w-full py-12",children:"No data available"})]})]})]})}function Da({icon:i,label:d,value:c,color:g}){const p={blue:"from-blue-500/20 to-cyan-500/20 text-blue-400",green:"from-green-500/20 to-emerald-500/20 text-green-400",purple:"from-purple-500/20 to-pink-500/20 text-purple-400",orange:"from-orange-500/20 to-yellow-500/20 text-orange-400"};return t.jsxs("div",{className:`bg-gradient-to-br ${p[g]} rounded-lg p-6 border border-white/10`,children:[t.jsx("div",{className:"flex items-center justify-between mb-4",children:t.jsx(i,{size:32})}),t.jsx("div",{className:"text-3xl font-bold mb-1",children:c}),t.jsx("div",{className:"text-sm opacity-80",children:d})]})}const Ep="http://localhost:5000/api";function Hi(i){return new Date(i).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}function eu(i){return new Date(i).toLocaleDateString([],{month:"short",day:"numeric",year:"numeric"})}function Dp({value:i,color:d="accent"}){const c={accent:"bg-accent",green:"bg-green-500",yellow:"bg-yellow-500",red:"bg-red-500"};return t.jsx("div",{className:"w-full bg-white/10 rounded-full h-2",children:t.jsx("div",{className:`${c[d]} h-2 rounded-full transition-all duration-500 ease-out`,style:{width:`${Math.min(i,100)}%`}})})}function Mp({status:i}){const d={processing:{label:"Processing",color:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",icon:Pe,spin:!0},uploading:{label:"Uploading",color:"bg-blue-500/20 text-blue-400 border-blue-500/30",icon:Dt,spin:!1},completed:{label:"Completed",color:"bg-green-500/20 text-green-400 border-green-500/30",icon:Vr,spin:!1},failed:{label:"Failed",color:"bg-red-500/20 text-red-400 border-red-500/30",icon:jr,spin:!1}},{label:c,color:g,icon:p,spin:b}=d[i]||d.processing;return t.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium border ${g}`,children:[t.jsx(p,{className:`w-3 h-3 ${b?"animate-spin":""}`}),c]})}function tu({collection:i,isExpanded:d,onToggle:c}){const g=i.status==="completed"?"green":i.status==="failed"?"red":"accent";return t.jsxs("div",{className:"bg-dark-elevated border border-white/10 rounded-xl overflow-hidden transition-all duration-200 hover:border-white/20",children:[t.jsx("button",{onClick:c,className:"w-full p-4 flex items-center justify-between text-left",children:t.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[t.jsx("div",{className:"w-10 h-10 rounded-lg bg-accent/20 flex items-center justify-center flex-shrink-0",children:i.status==="processing"||i.status==="uploading"?t.jsx(Pe,{className:"w-5 h-5 text-accent animate-spin"}):i.status==="completed"?t.jsx(Vr,{className:"w-5 h-5 text-green-400"}):t.jsx(jr,{className:"w-5 h-5 text-red-400"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"text-white font-semibold truncate",children:i.name}),t.jsxs("p",{className:"text-brand-text-tertiary text-xs mt-0.5",children:[eu(i.createdAt)," at ",Hi(i.createdAt)]})]}),t.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[t.jsx(Mp,{status:i.status}),t.jsxs("span",{className:"text-accent font-bold text-sm",children:[i.processingProgress??0,"%"]}),d?t.jsx(Rm,{className:"w-4 h-4 text-brand-text-tertiary"}):t.jsx($m,{className:"w-4 h-4 text-brand-text-tertiary"})]})]})}),t.jsx("div",{className:"px-4 pb-1",children:t.jsx(Dp,{value:i.processingProgress??0,color:g})}),d&&t.jsxs("div",{className:"px-4 pb-4 pt-3 border-t border-white/5 mt-3",children:[t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{className:"bg-dark-bg rounded-lg p-3 text-center",children:[t.jsx(Wi,{className:"w-4 h-4 text-accent mx-auto mb-1"}),t.jsx("p",{className:"text-white font-bold text-lg",children:i.totalDatePacks??"-"}),t.jsx("p",{className:"text-brand-text-tertiary text-xs",children:"Date Packs"})]}),t.jsxs("div",{className:"bg-dark-bg rounded-lg p-3 text-center",children:[t.jsx(bt,{className:"w-4 h-4 text-accent mx-auto mb-1"}),t.jsx("p",{className:"text-white font-bold text-lg",children:i.totalAlbums??"-"}),t.jsx("p",{className:"text-brand-text-tertiary text-xs",children:"Albums"})]}),t.jsxs("div",{className:"bg-dark-bg rounded-lg p-3 text-center",children:[t.jsx($e,{className:"w-4 h-4 text-accent mx-auto mb-1"}),t.jsx("p",{className:"text-white font-bold text-lg",children:i.totalTracks??"-"}),t.jsx("p",{className:"text-brand-text-tertiary text-xs",children:"Tracks"})]})]}),t.jsxs("div",{className:"mt-3 flex items-center gap-2 text-xs text-brand-text-tertiary",children:[t.jsx(Pa,{className:"w-3 h-3"}),t.jsxs("span",{children:["Last updated: ",eu(i.updatedAt)," at ",Hi(i.updatedAt)]})]})]})]})}function Fp(){const[i,d]=h.useState([]),[c,g]=h.useState([]),[p,b]=h.useState(!0),[j,S]=h.useState(""),[v,C]=h.useState(null),[m,T]=h.useState(5e3),[F,B]=h.useState(null),D=h.useCallback(async()=>{try{const $=localStorage.getItem("token"),N=await fetch(`${Ep}/upload-status`,{headers:{Authorization:`Bearer ${$}`},credentials:"include"});if(!N.ok)throw new Error(`Server returned ${N.status}`);const I=await N.json();I.success&&(d(I.data.processing||[]),g(I.data.recentlyCompleted||[]),S(""),B(new Date),T(I.data.hasActiveUploads?3e3:1e4))}catch($){S($.message||"Failed to fetch upload status")}finally{b(!1)}},[]);h.useEffect(()=>{D();const $=setInterval(D,m);return()=>clearInterval($)},[D,m]);const u=()=>{b(!0),D()},k=$=>{C(N=>N===$?null:$)},z=i.length>0;return t.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[t.jsx(Dt,{className:"w-6 h-6 text-accent"}),"Upload Tracker"]}),t.jsx("p",{className:"text-brand-text-tertiary text-sm mt-1",children:"Monitor collection uploads and background processing in real-time"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[F&&t.jsxs("span",{className:"text-xs text-brand-text-tertiary",children:["Updated ",Hi(F)]}),t.jsx("button",{onClick:u,disabled:p,className:"p-2 rounded-lg bg-white/5 hover:bg-white/10 transition-colors disabled:opacity-50",title:"Refresh",children:t.jsx(fu,{className:`w-4 h-4 text-white ${p?"animate-spin":""}`})})]})]}),j&&t.jsxs("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500/30 rounded-xl flex items-center gap-3",children:[t.jsx(jr,{className:"w-5 h-5 text-red-400 flex-shrink-0"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-red-400 font-medium text-sm",children:"Failed to fetch upload status"}),t.jsx("p",{className:"text-red-400/70 text-xs mt-0.5",children:j})]})]}),t.jsxs("div",{className:"mb-8",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx("div",{className:`w-2 h-2 rounded-full ${z?"bg-yellow-400 animate-pulse":"bg-white/20"}`}),t.jsx("h3",{className:"text-lg font-semibold text-white",children:"Active Uploads"}),z&&t.jsx("span",{className:"text-xs bg-yellow-500/20 text-yellow-400 px-2 py-0.5 rounded-full font-medium",children:i.length})]}),p&&i.length===0?t.jsxs("div",{className:"flex items-center justify-center py-12 text-brand-text-tertiary",children:[t.jsx(Pe,{className:"w-5 h-5 animate-spin mr-2"}),"Loading..."]}):i.length===0?t.jsxs("div",{className:"bg-dark-elevated border border-white/10 rounded-xl p-8 text-center",children:[t.jsx(Ri,{className:"w-10 h-10 text-brand-text-tertiary mx-auto mb-3 opacity-50"}),t.jsx("p",{className:"text-brand-text-secondary font-medium",children:"No active uploads"}),t.jsx("p",{className:"text-brand-text-tertiary text-sm mt-1",children:"Upload a collection from the Record Pool section to see progress here"})]}):t.jsx("div",{className:"space-y-3",children:i.map($=>t.jsx(tu,{collection:$,isExpanded:v===$._id,onToggle:()=>k($._id)},$._id))})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx(Vr,{className:"w-4 h-4 text-green-400"}),t.jsx("h3",{className:"text-lg font-semibold text-white",children:"Recently Completed"}),t.jsx("span",{className:"text-xs text-brand-text-tertiary",children:"(last hour)"})]}),c.length===0?t.jsx("div",{className:"bg-dark-elevated border border-white/10 rounded-xl p-6 text-center",children:t.jsx("p",{className:"text-brand-text-tertiary text-sm",children:"No recently completed uploads"})}):t.jsx("div",{className:"space-y-3",children:c.map($=>t.jsx(tu,{collection:{...$,processingProgress:100},isExpanded:v===$._id,onToggle:()=>k($._id)},$._id))})]}),z&&t.jsxs("div",{className:"mt-6 flex items-center justify-center gap-2 text-xs text-brand-text-tertiary",children:[t.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent animate-pulse"}),"Auto-refreshing every ",m/1e3,"s"]})]})}function Pp({onClose:i,user:d,onUserUpdate:c}){const[g,p]=h.useState("overview"),[b,j]=h.useState(!1),S=[{id:"overview",label:"Overview",icon:Km},{id:"recordpool",label:"Record Pool",icon:Wi},{id:"uploads",label:"Upload Tracker",icon:Dt},{id:"downloads",label:"Downloads",icon:ks},{id:"tracks",label:"Tracks",icon:$e},{id:"users",label:"Members",icon:Hr},{id:"subscriptions",label:"Memberships",icon:za},{id:"analytics",label:"Analytics",icon:Ba},{id:"genres",label:"DJ Genres",icon:tx},{id:"settings",label:"Settings",icon:gu},{id:"security",label:"Security",icon:er}],v=()=>{switch(g){case"overview":return t.jsx(Yd,{onNavigate:p});case"recordpool":return t.jsx(wp,{});case"uploads":return t.jsx(Fp,{});case"downloads":return t.jsx(Tp,{});case"tracks":return t.jsx(Ox,{});case"albums":return t.jsx(Wx,{});case"playlists":return t.jsx(Qx,{});case"users":return t.jsx(Jx,{});case"subscriptions":return t.jsx(cp,{});case"analytics":return t.jsx(Xx,{});case"pools":return t.jsx(ep,{});case"genres":return t.jsx(ap,{});case"settings":return t.jsx(mp,{user:d,onUserUpdate:c});case"security":return t.jsx(gp,{});default:return t.jsx(Yd,{})}};return t.jsxs("div",{className:"fixed inset-0 z-50 bg-dark-bg",children:[t.jsxs("div",{className:"h-14 md:h-16 bg-dark-elevated border-b border-white/10 flex items-center justify-between px-4 md:px-6",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("button",{onClick:()=>j(!b),className:"md:hidden w-9 h-9 rounded-lg bg-dark-surface flex items-center justify-center text-white",children:t.jsx(Xm,{className:"w-5 h-5"})}),t.jsx(er,{className:"w-5 h-5 md:w-6 md:h-6 text-accent"}),t.jsx("h1",{className:"text-base md:text-xl font-bold text-white",children:"Admin Dashboard"})]}),t.jsx("button",{onClick:i,className:"w-9 h-9 md:w-10 md:h-10 rounded-full bg-dark-surface hover:bg-dark-elevated flex items-center justify-center transition-all duration-200 hover:scale-110",children:t.jsx(Ve,{className:"w-5 h-5 text-white"})})]}),t.jsxs("div",{className:"flex h-[calc(100vh-3.5rem)] md:h-[calc(100vh-4rem)]",children:[b&&t.jsx("div",{className:"md:hidden fixed inset-0 z-40 bg-black/50",onClick:()=>j(!1)}),t.jsx("div",{className:`
          fixed md:relative z-50 md:z-auto
          top-14 md:top-0 bottom-0 left-0
          w-64 bg-dark-elevated border-r border-white/10 overflow-y-auto
          transition-transform duration-300 md:transition-none
          ${b?"translate-x-0":"-translate-x-full md:translate-x-0"}
        `,children:t.jsx("nav",{className:"p-4 space-y-1",children:S.map(C=>{const m=C.icon,T=g===C.id;return t.jsxs("button",{onClick:()=>{p(C.id),j(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 ${T?"bg-accent text-white shadow-lg shadow-accent/30":"text-brand-text-secondary hover:bg-dark-surface hover:text-white"}`,children:[t.jsx(m,{className:"w-5 h-5",strokeWidth:2}),t.jsx("span",{className:"font-medium",children:C.label})]},C.id)})})}),t.jsx("div",{className:"flex-1 overflow-y-auto bg-dark-bg",children:v()})]})]})}function zp({onClose:i,selectedPlan:d="premium"}){const[c,g]=h.useState("monthly"),[p,b]=h.useState(!1),S={basic:"premium",pro:"pro",enterprise:"pro"}[d]||d,C={premium:{name:"Premium",monthlyPrice:9.99,yearlyPrice:99.99,color:"from-purple-500 to-pink-500",icon:$e,features:["50 downloads per day","WAV & MP3 quality","Priority support","Exclusive content","No ads","Offline downloads"]},pro:{name:"Pro",monthlyPrice:19.99,yearlyPrice:199.99,color:"from-orange-500 to-red-500",icon:mu,features:["Unlimited downloads","WAV & FLAC quality","24/7 priority support","Early access to new tracks","API access","Advanced analytics","Custom playlists","No ads"]}}[S],m=C.icon,T=c==="monthly"?C.monthlyPrice:C.yearlyPrice,F=c==="yearly"?Math.round((1-C.yearlyPrice/(C.monthlyPrice*12))*100):0,B=async()=>{b(!0);try{const D=localStorage.getItem("token"),k=await(await fetch("http://localhost:5000/api/payment/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${D}`},body:JSON.stringify({plan:S,billingPeriod:c})})).json();k.success?window.location.href=k.url:(alert("Error creating checkout session. Please try again."),b(!1))}catch(D){console.error("Checkout error:",D),alert("Error processing checkout. Please try again."),b(!1)}};return t.jsx("div",{className:"fixed inset-0 z-50 bg-black/90 backdrop-blur-sm flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-dark-elevated rounded-2xl border border-white/10 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-dark-elevated border-b border-white/10 p-4 md:p-6 flex items-center justify-between z-10",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg md:text-2xl font-bold text-white",children:"Complete Your Subscription"}),t.jsx("p",{className:"text-xs md:text-sm text-brand-text-tertiary mt-1",children:"Secure checkout powered by Stripe"})]}),t.jsx("button",{onClick:i,className:"w-10 h-10 rounded-full bg-dark-surface hover:bg-dark-elevated flex items-center justify-center transition-all duration-200",children:t.jsx(Ve,{className:"w-5 h-5 text-white"})})]}),t.jsxs("div",{className:"p-4 md:p-6 grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:`bg-gradient-to-br ${C.color} rounded-2xl p-6 mb-6`,children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"w-12 h-12 rounded-xl bg-white/20 flex items-center justify-center",children:t.jsx(m,{className:"w-6 h-6 text-white"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-2xl font-bold text-white",children:C.name}),t.jsx("p",{className:"text-white/80 text-sm",children:"Perfect for DJs"})]})]}),t.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[t.jsxs("span",{className:"text-5xl font-bold text-white",children:["$",T]}),t.jsxs("span",{className:"text-white/80",children:["/",c==="monthly"?"month":"year"]})]}),F>0&&t.jsxs("div",{className:"inline-block px-3 py-1 rounded-full bg-white/20 text-white text-sm font-semibold",children:["Save ",F,"% with yearly billing"]})]}),t.jsxs("div",{className:"bg-dark-surface rounded-xl p-4 mb-6",children:[t.jsx("p",{className:"text-sm font-semibold text-white mb-3",children:"Billing Period"}),t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsx("button",{onClick:()=>g("monthly"),className:`px-4 py-3 rounded-lg font-medium transition-all duration-200 ${c==="monthly"?"bg-accent text-white":"bg-dark-elevated text-brand-text-tertiary hover:text-white"}`,children:"Monthly"}),t.jsxs("button",{onClick:()=>g("yearly"),className:`px-4 py-3 rounded-lg font-medium transition-all duration-200 relative ${c==="yearly"?"bg-accent text-white":"bg-dark-elevated text-brand-text-tertiary hover:text-white"}`,children:["Yearly",F>0&&t.jsxs("span",{className:"absolute -top-2 -right-2 px-2 py-0.5 rounded-full bg-green-500 text-white text-[10px] font-bold",children:["Save ",F,"%"]})]})]})]}),t.jsxs("div",{className:"bg-dark-surface rounded-xl p-6",children:[t.jsx("h4",{className:"text-lg font-bold text-white mb-4",children:"What's Included"}),t.jsx("div",{className:"space-y-3",children:C.features.map((D,u)=>t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-5 h-5 rounded-full bg-accent/20 flex items-center justify-center flex-shrink-0",children:t.jsx(uu,{className:"w-3 h-3 text-accent",strokeWidth:3})}),t.jsx("span",{className:"text-sm text-white",children:D})]},u))})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"bg-dark-surface rounded-xl p-6 mb-6",children:[t.jsx("h4",{className:"text-lg font-bold text-white mb-4",children:"Order Summary"}),t.jsxs("div",{className:"space-y-3 mb-4 pb-4 border-b border-white/10",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-brand-text-tertiary",children:"Plan"}),t.jsx("span",{className:"text-white font-medium",children:C.name})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-brand-text-tertiary",children:"Billing"}),t.jsx("span",{className:"text-white font-medium capitalize",children:c})]}),F>0&&t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-brand-text-tertiary",children:"Discount"}),t.jsxs("span",{className:"text-green-400 font-medium",children:["-",F,"%"]})]})]}),t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("span",{className:"text-lg font-bold text-white",children:"Total"}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-2xl font-bold text-white",children:["$",T]}),t.jsx("div",{className:"text-xs text-brand-text-tertiary",children:c==="monthly"?"per month":"per year"})]})]}),t.jsx("button",{onClick:B,disabled:p,className:"w-full flex items-center justify-center gap-2 px-6 py-4 rounded-xl bg-gradient-to-r from-accent to-purple-500 hover:from-accent-hover hover:to-purple-600 text-white font-bold transition-all duration-200 hover:scale-105 shadow-lg shadow-accent/30 disabled:opacity-50 disabled:cursor-not-allowed",children:p?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),t.jsx("span",{children:"Processing..."})]}):t.jsxs(t.Fragment,{children:[t.jsx(za,{className:"w-5 h-5"}),t.jsx("span",{children:"Proceed to Checkout"})]})}),t.jsx("p",{className:"text-xs text-center text-brand-text-tertiary mt-4",children:"You'll be redirected to Stripe's secure checkout"})]}),t.jsxs("div",{className:"bg-dark-surface rounded-xl p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx(er,{className:"w-5 h-5 text-green-400"}),t.jsx("span",{className:"text-sm font-semibold text-white",children:"Secure Payment"})]}),t.jsx("p",{className:"text-xs text-brand-text-tertiary mb-4",children:"Your payment information is encrypted and secure. We use Stripe for payment processing."}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"px-3 py-1 rounded bg-dark-elevated text-xs font-semibold text-white",children:" SSL Encrypted"}),t.jsx("div",{className:"px-3 py-1 rounded bg-dark-elevated text-xs font-semibold text-white",children:" Stripe"})]})]}),t.jsx("div",{className:"mt-4 p-4 rounded-xl bg-green-500/10 border border-green-500/20",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(Ns,{className:"w-5 h-5 text-green-400 flex-shrink-0 mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-white mb-1",children:"30-Day Money Back Guarantee"}),t.jsx("p",{className:"text-xs text-brand-text-tertiary",children:"Not satisfied? Get a full refund within 30 days, no questions asked."})]})]})})]})]})]})})}function Bp(){return t.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden -z-10",children:[t.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-accent/5 rounded-full blur-3xl animate-pulse",style:{animationDuration:"8s"}}),t.jsx("div",{className:"absolute top-1/3 right-1/4 w-[500px] h-[500px] bg-accent/3 rounded-full blur-3xl animate-pulse",style:{animationDuration:"10s",animationDelay:"2s"}}),t.jsx("div",{className:"absolute bottom-1/4 left-1/3 w-[400px] h-[400px] bg-blue-500/3 rounded-full blur-3xl animate-pulse",style:{animationDuration:"12s",animationDelay:"4s"}}),t.jsx("div",{className:"absolute top-2/3 right-1/3 w-80 h-80 bg-accent/4 rounded-full blur-3xl animate-pulse",style:{animationDuration:"9s",animationDelay:"1s"}})]})}const Lp=30,Ma=i=>{const d=Math.floor(i/60),c=Math.floor(i%60);return`${d}:${c.toString().padStart(2,"0")}`},_p=i=>{let d=0;for(let c=0;c<(i||"").length;c++)d=(d<<5)-d+i.charCodeAt(c),d|=0;return Math.abs(d)},$p=i=>{const c=typeof i=="number"?i:_p(String(i));return new Array(140).fill(0).map((p,b)=>{const j=Math.sin((b+1)*.35+c*.8),S=Math.cos((b+1)*.18+c*1.7),v=Math.sin((b+1)*.07+c*.3),C=Math.abs(j*.5+S*.3+v*.2);return 4+Math.round(C*28)})},Rp=i=>({"1A":"#63E6E2","2A":"#86F0B0","3A":"#B7F36A","4A":"#FFE066","5A":"#FFB86B","6A":"#FF8B7A","7A":"#FF7CB7","8A":"#E8A7FF","9A":"#C9B6FF","10A":"#A7C8FF","11A":"#8EE1FF","12A":"#6DF3D0","1B":"#27D8D3","2B":"#34D27A","3B":"#8CD317","4B":"#FFC107","5B":"#FF9B4A","6B":"#FF6B6B","7B":"#FF4DA6","8B":"#C86BFA","9B":"#9B7CFF","10B":"#6B8CFF","11B":"#4DD8FF","12B":"#13D6B2"})[i]||null;function Up({track:i,isPlaying:d,progress:c,onPlayPause:g,onProgressChange:p,onClose:b,onSubscribe:j,onAuthRequired:S,user:v}){var Ut;const[C,m]=h.useState(!1),[T,F]=h.useState(!1),[B,D]=h.useState(null),[u,k]=h.useState(0),[z,$]=h.useState(0),[N,I]=h.useState(!1),[J,H]=h.useState(!1),[Y,ne]=h.useState(80),[U,de]=h.useState(!1),[pe,ye]=h.useState(!1),[L,Q]=h.useState(!1),X=h.useRef(null),P=h.useRef(null),ee=h.useRef(null),_=h.useRef(null),re=h.useRef(null),K=v&&((Ut=v.subscription)==null?void 0:Ut.plan)&&v.subscription.plan!=="free",w=u||(i==null?void 0:i.duration)||0,R=h.useMemo(()=>{const he=(i==null?void 0:i.id)||(i==null?void 0:i._id)||"1";return $p(he)},[i==null?void 0:i.id,i==null?void 0:i._id]);h.useEffect(()=>{const he=(i==null?void 0:i.id)||(i==null?void 0:i._id);if(!he||he===_.current)return;_.current=he,ye(!1),(async()=>{var Ye;I(!0);try{const Te=await(await fetch(`http://localhost:5000/api/tracks/${he}/playback`)).json();Te.success&&((Ye=Te.data)!=null&&Ye.url)?D(Te.data.url):D(null)}catch(rt){console.error("Error fetching playback URL:",rt),D(null)}finally{I(!1)}})()},[i==null?void 0:i.id,i==null?void 0:i._id]),h.useEffect(()=>{const he=X.current;!he||!B||(d?he.play().catch(Re=>console.log("Playback blocked:",Re.message)):he.pause())},[d,B]),h.useEffect(()=>{const he=X.current;he&&(he.volume=J?0:Y/100)},[Y,J]);const V=h.useCallback(()=>{const he=X.current;if(!(!he||C)){if($(he.currentTime),!K&&he.currentTime>=Lp&&!pe){he.pause(),ye(!0),Q(!0),g==null||g();return}he.duration&&(p==null||p(he.currentTime/he.duration*100))}},[C,p,K,pe,g]),te=h.useCallback(()=>{const he=X.current;he&&k(he.duration)},[]),ae=h.useCallback(()=>{p==null||p(100),g==null||g()},[p,g]),ie=h.useCallback(()=>{const he=X.current;he&&he.duration&&(he.currentTime=Math.min(he.currentTime+10,he.duration))},[]),ve=h.useCallback(()=>{const he=X.current;he&&(he.currentTime=Math.max(he.currentTime-10,0))},[]);if(h.useEffect(()=>{if(!T)return;const he=Ye=>{Ye.key==="Escape"&&F(!1)},Re=Ye=>{var Mt,Je;const rt=(Mt=P.current)==null?void 0:Mt.contains(Ye.target),Te=(Je=ee.current)==null?void 0:Je.contains(Ye.target);!rt&&!Te&&F(!1)};return window.addEventListener("keydown",he),window.addEventListener("pointerdown",Re),()=>{window.removeEventListener("keydown",he),window.removeEventListener("pointerdown",Re)}},[T]),!i)return null;const je=he=>{const Re=he.currentTarget.getBoundingClientRect(),rt=Math.min(Math.max(he.clientX-Re.left,0),Re.width)/Re.width*100;p==null||p(rt);const Te=X.current;Te&&Te.duration&&(Te.currentTime=rt/100*Te.duration)};Math.round(c/100*R.length);const Ce=Rp(i.tonality),Oe=he=>{re.current&&clearTimeout(re.current),he?de(!0):re.current=setTimeout(()=>de(!1),400)},wt=t.jsxs("div",{className:"relative group/cover flex-shrink-0",children:[t.jsxs("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-xl overflow-hidden bg-dark-elevated shadow-lg shadow-black/30 ring-1 ring-white/10",children:[i.coverArt?t.jsx("img",{src:i.coverArt,alt:i.title,className:"w-full h-full object-cover",onError:he=>{he.target.style.display="none",he.target.nextSibling.style.display="flex"}}):null,t.jsx("div",{className:"w-full h-full items-center justify-center bg-gradient-to-br from-accent/30 to-accent/10",style:{display:i.coverArt?"none":"flex"},children:t.jsx($e,{className:"w-5 h-5 text-accent/70"})})]}),d&&t.jsxs("div",{className:"absolute -bottom-0.5 left-1/2 -translate-x-1/2 flex items-end gap-[2px]",children:[t.jsx("div",{className:"w-[3px] h-2 bg-accent rounded-full animate-pulse",style:{animationDelay:"0ms"}}),t.jsx("div",{className:"w-[3px] h-3 bg-accent rounded-full animate-pulse",style:{animationDelay:"150ms"}}),t.jsx("div",{className:"w-[3px] h-1.5 bg-accent rounded-full animate-pulse",style:{animationDelay:"300ms"}})]})]}),Nr=(he,Re,Ye)=>{const rt=Math.round(Ye/100*Re);return t.jsxs("div",{className:"relative h-10 rounded-xl bg-white/[0.03] border border-white/[0.06] overflow-hidden cursor-pointer select-none group/wave",onPointerDown:Te=>{Te.preventDefault(),m(!0),Te.currentTarget.setPointerCapture(Te.pointerId),je(Te)},onPointerMove:Te=>{C&&je(Te)},onPointerUp:Te=>{m(!1);try{Te.currentTarget.releasePointerCapture(Te.pointerId)}catch{}},onPointerCancel:()=>m(!1),onClick:Te=>je(Te),children:[t.jsx("div",{className:"absolute inset-0 flex items-end gap-[1px] px-2 py-1.5",children:he.slice(0,Re).map((Te,Mt)=>{const Je=Mt<rt;return t.jsx("div",{className:"rounded-full transition-colors duration-100",style:{width:"2px",height:`${Te}px`,backgroundColor:Je?"rgba(255,255,255,0.9)":"rgba(255,255,255,0.15)"}},Mt)})}),t.jsx("div",{className:"absolute bottom-0 left-0 h-[2px] bg-gradient-to-r from-accent to-accent/50 transition-all duration-100",style:{width:`${Ye}%`}}),t.jsx("div",{className:"absolute top-1/2 w-3 h-3 bg-white rounded-full shadow-lg shadow-black/40 ring-2 ring-accent/50 opacity-0 group-hover/wave:opacity-100 transition-opacity duration-150",style:{left:`${Ye}%`,transform:"translate(-50%, -50%)"}})]})};return t.jsxs("div",{className:"fixed bottom-[60px] md:bottom-0 left-0 right-0 z-[45]",children:[t.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-accent/40 to-transparent"}),t.jsxs("div",{className:"bg-dark-surface/[0.97] backdrop-blur-2xl shadow-2xl shadow-black/50",children:[B&&t.jsx("audio",{ref:X,src:B,preload:"auto",muted:J,onTimeUpdate:V,onLoadedMetadata:te,onEnded:ae}),t.jsx("div",{className:"w-full px-3 sm:px-6",children:t.jsxs("div",{className:"mx-auto w-full max-w-[1400px] py-2.5",children:[t.jsxs("div",{className:"hidden sm:flex items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3 w-[280px] min-w-0 flex-shrink-0",children:[wt,t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("div",{className:"text-xs font-semibold text-white truncate leading-tight",children:i.title}),t.jsx("div",{className:"text-[11px] text-brand-text-tertiary truncate leading-tight mt-0.5",children:i.artist}),t.jsxs("div",{className:"flex items-center gap-1.5 mt-1.5",children:[i.genre&&t.jsx("span",{className:"px-1.5 py-[1px] rounded text-[8px] font-bold uppercase tracking-wider bg-accent/20 text-accent border border-accent/20",children:i.genre}),i.tonality&&Ce&&t.jsx("span",{className:"px-1.5 py-[1px] rounded text-[8px] font-extrabold text-black border border-black/10",style:{backgroundColor:Ce},children:i.tonality}),i.bpm>0&&t.jsx("span",{className:"px-1.5 py-[1px] rounded text-[8px] font-semibold text-white/60 bg-white/[0.06] border border-white/[0.06]",children:i.bpm})]})]})]}),t.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-1.5 flex-shrink-0",children:[t.jsx("button",{type:"button",onClick:ve,className:"w-8 h-8 rounded-full flex items-center justify-center text-white/60 hover:text-white hover:bg-white/[0.06] transition-all duration-150",title:"Back 10s",children:t.jsx(nx,{className:"w-3.5 h-3.5",fill:"currentColor"})}),t.jsx("button",{type:"button",onClick:g,className:"w-10 h-10 rounded-full bg-white flex items-center justify-center transition-all duration-200 shadow-lg shadow-white/10 hover:shadow-xl hover:shadow-white/20 hover:scale-105 active:scale-95",children:d?t.jsx(Rt,{className:"w-5 h-5 text-black",fill:"black",strokeWidth:0}):t.jsx(Et,{className:"w-5 h-5 text-black ml-0.5",fill:"black",strokeWidth:0})}),t.jsx("button",{type:"button",onClick:ie,className:"w-8 h-8 rounded-full flex items-center justify-center text-white/60 hover:text-white hover:bg-white/[0.06] transition-all duration-150",title:"Forward 10s",children:t.jsx(ax,{className:"w-3.5 h-3.5",fill:"currentColor"})})]}),t.jsx("span",{className:"text-[10px] font-mono text-brand-text-tertiary w-9 text-right flex-shrink-0 tabular-nums",children:Ma(z)}),t.jsxs("div",{className:"relative flex-1 min-w-0",children:[T&&t.jsx("div",{className:"absolute bottom-full right-0 mb-2 hidden lg:block",ref:ee,children:t.jsx("div",{className:"px-3 py-1.5 rounded-lg bg-dark-elevated border border-white/10 text-[10px] text-brand-text-secondary whitespace-nowrap shadow-xl shadow-black/40",children:"Pre-escucha a baja calidad de audio. La descarga se realiza con el 100% de calidad."})}),Nr(R,R.length,c)]}),t.jsx("span",{className:"text-[10px] font-mono text-brand-text-tertiary w-9 flex-shrink-0 tabular-nums",children:Ma(w)})]}),t.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0 w-[200px] justify-end",children:[t.jsxs("div",{className:"relative flex items-center gap-1.5",onMouseEnter:()=>Oe(!0),onMouseLeave:()=>Oe(!1),children:[t.jsx("button",{type:"button",onClick:()=>H(he=>!he),className:"w-7 h-7 rounded-full flex items-center justify-center text-white/50 hover:text-white transition-all duration-150",children:J||Y===0?t.jsx(ux,{className:"w-4 h-4"}):t.jsx(Zi,{className:"w-4 h-4"})}),t.jsx("div",{className:`overflow-hidden transition-all duration-300 ${U?"w-20 opacity-100":"w-0 opacity-0"}`,children:t.jsx("input",{type:"range",min:"0",max:"100",value:J?0:Y,onChange:he=>{ne(Number(he.target.value)),J&&H(!1)},className:"w-full h-1 accent-accent cursor-pointer appearance-none bg-white/10 rounded-full [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-3 [&::-webkit-slider-thumb]:h-3 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-white [&::-webkit-slider-thumb]:shadow-md"})})]}),t.jsx("button",{ref:P,type:"button",onClick:()=>F(he=>!he),className:"w-7 h-7 rounded-full flex items-center justify-center text-white/40 hover:text-white/80 transition-all duration-150",children:t.jsx(Jm,{className:"w-3.5 h-3.5",strokeWidth:2})}),t.jsx("button",{type:"button",onClick:b,className:"w-8 h-8 rounded-full flex items-center justify-center text-white/50 bg-white/[0.04] hover:text-white hover:bg-white/10 transition-all duration-150",title:"Close player",children:t.jsx(Ve,{className:"w-4 h-4",strokeWidth:2.5})}),t.jsx("button",{type:"button",onClick:j,className:"ml-1 px-4 py-1.5 rounded-full bg-accent hover:bg-accent-hover transition-all duration-200 text-white text-[11px] font-bold shadow-lg shadow-accent/20 hover:shadow-accent/30 hover:scale-105 active:scale-95",children:"Subscribe"})]})]}),t.jsxs("div",{className:"sm:hidden space-y-2.5",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[wt,t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("div",{className:"text-xs font-semibold text-white truncate",children:i.title}),t.jsx("div",{className:"text-[10px] text-brand-text-tertiary truncate",children:i.artist}),t.jsxs("div",{className:"flex items-center gap-1.5 mt-1",children:[i.genre&&t.jsx("span",{className:"px-1.5 py-[1px] rounded text-[8px] font-bold uppercase bg-accent/20 text-accent border border-accent/20",children:i.genre}),i.bpm>0&&t.jsxs("span",{className:"text-[9px] text-white/50",children:[i.bpm," BPM"]})]})]}),t.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[t.jsx("button",{type:"button",onClick:g,className:"w-10 h-10 rounded-full bg-white flex items-center justify-center shadow-lg shadow-white/10",children:d?t.jsx(Rt,{className:"w-5 h-5 text-black",fill:"black",strokeWidth:0}):t.jsx(Et,{className:"w-5 h-5 text-black ml-0.5",fill:"black",strokeWidth:0})}),t.jsx("button",{type:"button",onClick:b,className:"w-7 h-7 rounded-full flex items-center justify-center text-white/40 hover:text-white",children:t.jsx(Ve,{className:"w-4 h-4"})})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-[9px] font-mono text-brand-text-tertiary w-7 text-right tabular-nums",children:Ma(z)}),Nr(R,80,c),t.jsx("span",{className:"text-[9px] font-mono text-brand-text-tertiary w-7 tabular-nums",children:Ma(w)})]})]})]})})]}),!K&&pe&&!L&&t.jsxs("div",{className:"fixed bottom-0 left-0 right-0 z-[45] flex items-center justify-center py-1.5 bg-gradient-to-r from-accent/90 to-purple-500/90 backdrop-blur-sm",children:[t.jsx("span",{className:"text-[11px] font-semibold text-white mr-3",children:"Preview ended"}),t.jsx("button",{onClick:()=>Q(!0),className:"px-3 py-1 rounded-full bg-white text-black text-[11px] font-bold hover:bg-white/90 transition-all",children:"Go Premium"})]}),L&&t.jsx(bu,{type:v?"subscribe":"signup",onClose:()=>Q(!1),onSignUp:()=>{Q(!1),S==null||S()},onSubscribe:()=>{Q(!1),j==null||j()}})]})}function Ip({onTrackInteraction:i}){const[d,c]=h.useState([]),[g,p]=h.useState([]),[b,j]=h.useState("trending"),[S,v]=h.useState("7d"),[C,m]=h.useState(!1);h.useEffect(()=>{T()},[S]),h.useEffect(()=>{F()},[]);const T=async()=>{try{m(!0);const D=await fetch(`http://localhost:5000/api/downloads/trending?period=${S}&limit=10`);if(!D.ok){console.error("Trending API error:",D.status,D.statusText);return}const u=await D.json();u.success?c(u.data||[]):console.error("Trending API returned error:",u.message)}catch(D){console.error("Error fetching trending tracks:",D.message||D)}finally{m(!1)}},F=async()=>{try{const D=await fetch("http://localhost:5000/api/downloads/recent?limit=10");if(!D.ok){console.error("Recent API error:",D.status,D.statusText);return}const u=await D.json();u.success?p(u.data||[]):console.error("Recent API returned error:",u.message)}catch(D){console.error("Error fetching recent tracks:",D.message||D)}},B=b==="trending"?d:g;return t.jsxs("div",{className:"px-4 md:px-10 py-6 md:py-8",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 mb-5 md:mb-6",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("button",{onClick:()=>j("trending"),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${b==="trending"?"bg-accent text-white":"bg-white/5 text-brand-text-secondary hover:text-white"}`,children:[t.jsx(ks,{size:18}),"Trending"]}),t.jsxs("button",{onClick:()=>j("recent"),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${b==="recent"?"bg-accent text-white":"bg-white/5 text-brand-text-secondary hover:text-white"}`,children:[t.jsx(Pa,{size:18}),"Recent Uploads"]})]}),b==="trending"&&t.jsx("div",{className:"flex gap-2",children:["24h","7d","30d"].map(D=>t.jsx("button",{onClick:()=>v(D),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${S===D?"bg-accent text-white":"bg-white/5 text-brand-text-tertiary hover:text-white"}`,children:D==="24h"?"24 Hours":D==="7d"?"7 Days":"30 Days"},D))})]}),C?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-accent border-t-transparent rounded-full mx-auto"}),t.jsx("p",{className:"text-brand-text-tertiary mt-4",children:"Loading..."})]}):t.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3 md:gap-4",children:B.map((D,u)=>t.jsx(Op,{track:D,rank:b==="trending"?u+1:null,onTrackInteraction:i},D._id))}),B.length===0&&!C&&t.jsx("div",{className:"text-center py-12",children:t.jsx("p",{className:"text-brand-text-tertiary",children:b==="trending"?"No trending tracks yet":"No recent uploads yet"})})]})}function Op({track:i,rank:d,onTrackInteraction:c}){return t.jsxs("div",{className:"bg-white/5 rounded-lg p-4 hover:bg-white/10 transition-all group border border-white/10",children:[t.jsxs("div",{className:"relative mb-3",children:[d&&t.jsx("div",{className:"absolute -top-2 -left-2 w-8 h-8 bg-accent rounded-full flex items-center justify-center font-bold text-sm z-10",children:d}),t.jsx("img",{src:i.coverArt,alt:i.title,className:"w-full aspect-square object-cover rounded-lg"}),t.jsx("button",{onClick:()=>c("play",i),className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center",children:t.jsx("div",{className:"w-12 h-12 bg-accent rounded-full flex items-center justify-center",children:t.jsx("svg",{className:"w-6 h-6 text-white ml-1",fill:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{d:"M8 5v14l11-7z"})})})})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("h3",{className:"font-bold text-sm text-white truncate",children:i.title}),t.jsx("p",{className:"text-xs text-brand-text-tertiary truncate",children:i.artist}),i.trendingDownloads!==void 0&&t.jsxs("div",{className:"flex items-center gap-1 text-xs text-accent",children:[t.jsx(pt,{size:12}),t.jsxs("span",{children:[i.trendingDownloads," downloads"]})]}),i.sourceId&&t.jsx("div",{className:"text-xs text-brand-text-tertiary",children:i.sourceId.name})]})]})}const ru=["1A","2A","3A","4A","5A","6A","7A","8A","9A","10A","11A","12A","1B","2B","3B","4B","5B","6B","7B","8B","9B","10B","11B","12B"],Hp=[{id:1,title:"Midnight Drive",artist:"The Synthwave Collective",bpm:128,dateAdded:"2024-12-28",collection:"New Releases",coverArt:"https://images.unsplash.com/photo-1470225620780-dba8ba36b745?w=400&h=400&fit=crop",locked:!1},{id:2,title:"Neon Lights",artist:"Digital Dreams",bpm:132,dateAdded:"2024-12-27",collection:"Trending",coverArt:"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400&h=400&fit=crop",locked:!1},{id:3,title:"Deep House Vibes",artist:"Groove Masters",bpm:124,dateAdded:"2024-12-26",collection:"Deep House",coverArt:"https://images.unsplash.com/photo-1511379938547-c1f69419868d?w=400&h=400&fit=crop",locked:!1},{id:4,title:"Techno Pulse",artist:"Underground Sound",bpm:140,dateAdded:"2024-12-25",collection:"Techno",coverArt:"https://images.unsplash.com/photo-1571330735066-03aaa9429d89?w=400&h=400&fit=crop",locked:!0},{id:5,title:"Summer Breeze",artist:"Tropical Beats",bpm:118,dateAdded:"2024-12-24",collection:"Chill",coverArt:"https://images.unsplash.com/photo-1514320291840-2e0a9bf2a9ae?w=400&h=400&fit=crop",locked:!1},{id:6,title:"Bass Drop",artist:"Heavy Hitters",bpm:150,dateAdded:"2024-12-23",collection:"Dubstep",coverArt:"https://images.unsplash.com/photo-1598488035139-bdbb2231ce04?w=400&h=400&fit=crop",locked:!1},{id:7,title:"Jazz Fusion",artist:"Modern Jazz Quartet",bpm:110,dateAdded:"2024-12-22",collection:"Jazz",coverArt:"https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=400&h=400&fit=crop",locked:!0},{id:8,title:"Ambient Space",artist:"Cosmic Sounds",bpm:90,dateAdded:"2024-12-21",collection:"Ambient",coverArt:"https://images.unsplash.com/photo-1487180144351-b8472da7d491?w=400&h=400&fit=crop",locked:!1},{id:9,title:"Electro Swing",artist:"Vintage Future",bpm:126,dateAdded:"2024-12-20",collection:"Electro Swing",coverArt:"https://images.unsplash.com/photo-1459749411175-04bf5292ceea?w=400&h=400&fit=crop",locked:!1},{id:10,title:"Progressive Trance",artist:"Euphoria",bpm:138,dateAdded:"2024-12-19",collection:"Trance",coverArt:"https://images.unsplash.com/photo-1506157786151-b8491531f063?w=400&h=400&fit=crop",locked:!1},{id:11,title:"Urban Rhythm",artist:"City Beats",bpm:95,dateAdded:"2024-12-18",collection:"Hip-Hop",coverArt:"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400&h=400&fit=crop",locked:!1},{id:12,title:"Sunset Melody",artist:"Tropical Beats",bpm:115,dateAdded:"2024-12-17",collection:"Chill",coverArt:"https://images.unsplash.com/photo-1514320291840-2e0a9bf2a9ae?w=400&h=400&fit=crop",locked:!1},{id:13,title:"Electric Dreams",artist:"Digital Dreams",bpm:130,dateAdded:"2024-12-16",collection:"Trending",coverArt:"https://images.unsplash.com/photo-1511379938547-c1f69419868d?w=400&h=400&fit=crop",locked:!1},{id:14,title:"Dark Matter",artist:"Underground Sound",bpm:145,dateAdded:"2024-12-15",collection:"Techno",coverArt:"https://images.unsplash.com/photo-1571330735066-03aaa9429d89?w=400&h=400&fit=crop",locked:!1},{id:15,title:"Smooth Operator",artist:"Modern Jazz Quartet",bpm:105,dateAdded:"2024-12-14",collection:"Jazz",coverArt:"https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=400&h=400&fit=crop",locked:!1},{id:16,title:"Cosmic Voyage",artist:"Cosmic Sounds",bpm:88,dateAdded:"2024-12-13",collection:"Ambient",coverArt:"https://images.unsplash.com/photo-1487180144351-b8472da7d491?w=400&h=400&fit=crop",locked:!1},{id:17,title:"Retro Funk",artist:"Vintage Future",bpm:120,dateAdded:"2024-12-12",collection:"Electro Swing",coverArt:"https://images.unsplash.com/photo-1459749411175-04bf5292ceea?w=400&h=400&fit=crop",locked:!1},{id:18,title:"Night Drive",artist:"The Synthwave Collective",bpm:125,dateAdded:"2024-12-11",collection:"New Releases",coverArt:"https://images.unsplash.com/photo-1470225620780-dba8ba36b745?w=400&h=400&fit=crop",locked:!1},{id:19,title:"Bass Thunder",artist:"Heavy Hitters",bpm:148,dateAdded:"2024-12-10",collection:"Dubstep",coverArt:"https://images.unsplash.com/photo-1598488035139-bdbb2231ce04?w=400&h=400&fit=crop",locked:!1},{id:20,title:"Euphoric State",artist:"Euphoria",bpm:136,dateAdded:"2024-12-09",collection:"Trance",coverArt:"https://images.unsplash.com/photo-1506157786151-b8491531f063?w=400&h=400&fit=crop",locked:!1},{id:21,title:"Morning Groove",artist:"Groove Masters",bpm:122,dateAdded:"2024-12-08",collection:"Deep House",coverArt:"https://images.unsplash.com/photo-1511379938547-c1f69419868d?w=400&h=400&fit=crop",locked:!1},{id:22,title:"Crystal Clear",artist:"Digital Dreams",bpm:128,dateAdded:"2024-12-07",collection:"Trending",coverArt:"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400&h=400&fit=crop",locked:!1},{id:23,title:"Island Vibes",artist:"Tropical Beats",bpm:112,dateAdded:"2024-12-06",collection:"Chill",coverArt:"https://images.unsplash.com/photo-1514320291840-2e0a9bf2a9ae?w=400&h=400&fit=crop",locked:!1},{id:24,title:"Underground Anthem",artist:"Underground Sound",bpm:142,dateAdded:"2024-12-05",collection:"Techno",coverArt:"https://images.unsplash.com/photo-1571330735066-03aaa9429d89?w=400&h=400&fit=crop",locked:!1},{id:25,title:"Midnight Jazz",artist:"Modern Jazz Quartet",bpm:98,dateAdded:"2024-12-04",collection:"Jazz",coverArt:"https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=400&h=400&fit=crop",locked:!1},{id:26,title:"Stellar Dreams",artist:"Cosmic Sounds",bpm:85,dateAdded:"2024-12-03",collection:"Ambient",coverArt:"https://images.unsplash.com/photo-1487180144351-b8472da7d491?w=400&h=400&fit=crop",locked:!1},{id:27,title:"Swing Time",artist:"Vintage Future",bpm:124,dateAdded:"2024-12-02",collection:"Electro Swing",coverArt:"https://images.unsplash.com/photo-1459749411175-04bf5292ceea?w=400&h=400&fit=crop",locked:!1},{id:28,title:"Neon Highway",artist:"The Synthwave Collective",bpm:127,dateAdded:"2024-12-01",collection:"New Releases",coverArt:"https://images.unsplash.com/photo-1470225620780-dba8ba36b745?w=400&h=400&fit=crop",locked:!1},{id:29,title:"Heavy Drop",artist:"Heavy Hitters",bpm:152,dateAdded:"2024-11-30",collection:"Dubstep",coverArt:"https://images.unsplash.com/photo-1598488035139-bdbb2231ce04?w=400&h=400&fit=crop",locked:!1},{id:30,title:"Trance Nation",artist:"Euphoria",bpm:140,dateAdded:"2024-11-29",collection:"Trance",coverArt:"https://images.unsplash.com/photo-1506157786151-b8491531f063?w=400&h=400&fit=crop",locked:!1},{id:31,title:"Deep Dive",artist:"Groove Masters",bpm:120,dateAdded:"2024-11-28",collection:"Deep House",coverArt:"https://images.unsplash.com/photo-1511379938547-c1f69419868d?w=400&h=400&fit=crop",locked:!1},{id:32,title:"Digital Paradise",artist:"Digital Dreams",bpm:134,dateAdded:"2024-11-27",collection:"Trending",coverArt:"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400&h=400&fit=crop",locked:!1},{id:33,title:"Beach Sunset",artist:"Tropical Beats",bpm:110,dateAdded:"2024-11-26",collection:"Chill",coverArt:"https://images.unsplash.com/photo-1514320291840-2e0a9bf2a9ae?w=400&h=400&fit=crop",locked:!1},{id:34,title:"Industrial Beat",artist:"Underground Sound",bpm:138,dateAdded:"2024-11-25",collection:"Techno",coverArt:"https://images.unsplash.com/photo-1571330735066-03aaa9429d89?w=400&h=400&fit=crop",locked:!1},{id:35,title:"Blue Note",artist:"Modern Jazz Quartet",bpm:102,dateAdded:"2024-11-24",collection:"Jazz",coverArt:"https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=400&h=400&fit=crop",locked:!1},{id:36,title:"Nebula",artist:"Cosmic Sounds",bpm:92,dateAdded:"2024-11-23",collection:"Ambient",coverArt:"https://images.unsplash.com/photo-1487180144351-b8472da7d491?w=400&h=400&fit=crop",locked:!1},{id:37,title:"Charleston Remix",artist:"Vintage Future",bpm:128,dateAdded:"2024-11-22",collection:"Electro Swing",coverArt:"https://images.unsplash.com/photo-1459749411175-04bf5292ceea?w=400&h=400&fit=crop",locked:!1},{id:38,title:"Retrowave",artist:"The Synthwave Collective",bpm:126,dateAdded:"2024-11-21",collection:"New Releases",coverArt:"https://images.unsplash.com/photo-1470225620780-dba8ba36b745?w=400&h=400&fit=crop",locked:!1},{id:39,title:"Wobble Bass",artist:"Heavy Hitters",bpm:146,dateAdded:"2024-11-20",collection:"Dubstep",coverArt:"https://images.unsplash.com/photo-1598488035139-bdbb2231ce04?w=400&h=400&fit=crop",locked:!1},{id:40,title:"Uplifting Melody",artist:"Euphoria",bpm:135,dateAdded:"2024-11-19",collection:"Trance",coverArt:"https://images.unsplash.com/photo-1506157786151-b8491531f063?w=400&h=400&fit=crop",locked:!1},{id:41,title:"Groove Session",artist:"Groove Masters",bpm:123,dateAdded:"2024-11-18",collection:"Deep House",coverArt:"https://images.unsplash.com/photo-1511379938547-c1f69419868d?w=400&h=400&fit=crop",locked:!1},{id:42,title:"Pixel Dreams",artist:"Digital Dreams",bpm:131,dateAdded:"2024-11-17",collection:"Trending",coverArt:"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400&h=400&fit=crop",locked:!1},{id:43,title:"Ocean Breeze",artist:"Tropical Beats",bpm:116,dateAdded:"2024-11-16",collection:"Chill",coverArt:"https://images.unsplash.com/photo-1514320291840-2e0a9bf2a9ae?w=400&h=400&fit=crop",locked:!1},{id:44,title:"Warehouse Rave",artist:"Underground Sound",bpm:144,dateAdded:"2024-11-15",collection:"Techno",coverArt:"https://images.unsplash.com/photo-1571330735066-03aaa9429d89?w=400&h=400&fit=crop",locked:!1},{id:45,title:"Sax Appeal",artist:"Modern Jazz Quartet",bpm:108,dateAdded:"2024-11-14",collection:"Jazz",coverArt:"https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=400&h=400&fit=crop",locked:!1},{id:46,title:"Interstellar",artist:"Cosmic Sounds",bpm:87,dateAdded:"2024-11-13",collection:"Ambient",coverArt:"https://images.unsplash.com/photo-1487180144351-b8472da7d491?w=400&h=400&fit=crop",locked:!1},{id:47,title:"Vintage Groove",artist:"Vintage Future",bpm:122,dateAdded:"2024-11-12",collection:"Electro Swing",coverArt:"https://images.unsplash.com/photo-1459749411175-04bf5292ceea?w=400&h=400&fit=crop",locked:!1},{id:48,title:"Cyber City",artist:"The Synthwave Collective",bpm:129,dateAdded:"2024-11-11",collection:"New Releases",coverArt:"https://images.unsplash.com/photo-1470225620780-dba8ba36b745?w=400&h=400&fit=crop",locked:!1},{id:49,title:"Sub Frequency",artist:"Heavy Hitters",bpm:149,dateAdded:"2024-11-10",collection:"Dubstep",coverArt:"https://images.unsplash.com/photo-1598488035139-bdbb2231ce04?w=400&h=400&fit=crop",locked:!1},{id:50,title:"Eternal Sunrise",artist:"Euphoria",bpm:137,dateAdded:"2024-11-09",collection:"Trance",coverArt:"https://images.unsplash.com/photo-1506157786151-b8491531f063?w=400&h=400&fit=crop",locked:!1},{id:51,title:"Rhythm of the Night",artist:"City Beats",bpm:128,dateAdded:"2024-11-08",collection:"House",coverArt:"https://images.unsplash.com/photo-1470225620780-dba8ba36b745?w=400&h=400&fit=crop",locked:!1},{id:52,title:"Solar Flare",artist:"Cosmic Sounds",bpm:140,dateAdded:"2024-11-07",collection:"Techno",coverArt:"https://images.unsplash.com/photo-1487180144351-b8472da7d491?w=400&h=400&fit=crop",locked:!1},{id:53,title:"Velvet Dreams",artist:"Modern Jazz Quartet",bpm:95,dateAdded:"2024-11-06",collection:"Jazz",coverArt:"https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=400&h=400&fit=crop",locked:!1},{id:54,title:"Electric Avenue",artist:"Digital Dreams",bpm:132,dateAdded:"2024-11-05",collection:"Electro",coverArt:"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400&h=400&fit=crop",locked:!1},{id:55,title:"Sunset Boulevard",artist:"Tropical Beats",bpm:118,dateAdded:"2024-11-04",collection:"Chill",coverArt:"https://images.unsplash.com/photo-1514320291840-2e0a9bf2a9ae?w=400&h=400&fit=crop",locked:!1},{id:56,title:"Thunder Strike",artist:"Heavy Hitters",bpm:150,dateAdded:"2024-11-03",collection:"Dubstep",coverArt:"https://images.unsplash.com/photo-1598488035139-bdbb2231ce04?w=400&h=400&fit=crop",locked:!1},{id:57,title:"Moonlight Serenade",artist:"Vintage Future",bpm:110,dateAdded:"2024-11-02",collection:"Lounge",coverArt:"https://images.unsplash.com/photo-1459749411175-04bf5292ceea?w=400&h=400&fit=crop",locked:!1},{id:58,title:"Pulse Wave",artist:"The Synthwave Collective",bpm:126,dateAdded:"2024-11-01",collection:"Synthwave",coverArt:"https://images.unsplash.com/photo-1470225620780-dba8ba36b745?w=400&h=400&fit=crop",locked:!1},{id:59,title:"Deep Waters",artist:"Groove Masters",bpm:121,dateAdded:"2024-10-31",collection:"Deep House",coverArt:"https://images.unsplash.com/photo-1511379938547-c1f69419868d?w=400&h=400&fit=crop",locked:!1},{id:60,title:"Skyline",artist:"Underground Sound",bpm:143,dateAdded:"2024-10-30",collection:"Techno",coverArt:"https://images.unsplash.com/photo-1571330735066-03aaa9429d89?w=400&h=400&fit=crop",locked:!1},{id:61,title:"Golden Hour",artist:"Tropical Beats",bpm:115,dateAdded:"2024-10-29",collection:"Chill",coverArt:"https://images.unsplash.com/photo-1514320291840-2e0a9bf2a9ae?w=400&h=400&fit=crop",locked:!1},{id:62,title:"Neon Pulse",artist:"Digital Dreams",bpm:130,dateAdded:"2024-10-28",collection:"Electro",coverArt:"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400&h=400&fit=crop",locked:!1},{id:63,title:"Frequency Shift",artist:"Heavy Hitters",bpm:148,dateAdded:"2024-10-27",collection:"Dubstep",coverArt:"https://images.unsplash.com/photo-1598488035139-bdbb2231ce04?w=400&h=400&fit=crop",locked:!1},{id:64,title:"Starlight",artist:"Cosmic Sounds",bpm:90,dateAdded:"2024-10-26",collection:"Ambient",coverArt:"https://images.unsplash.com/photo-1487180144351-b8472da7d491?w=400&h=400&fit=crop",locked:!1},{id:65,title:"Midnight Express",artist:"The Synthwave Collective",bpm:128,dateAdded:"2024-10-25",collection:"Synthwave",coverArt:"https://images.unsplash.com/photo-1470225620780-dba8ba36b745?w=400&h=400&fit=crop",locked:!1},{id:66,title:"Groove Theory",artist:"Groove Masters",bpm:124,dateAdded:"2024-10-24",collection:"Deep House",coverArt:"https://images.unsplash.com/photo-1511379938547-c1f69419868d?w=400&h=400&fit=crop",locked:!1},{id:67,title:"Trance Formation",artist:"Euphoria",bpm:138,dateAdded:"2024-10-23",collection:"Trance",coverArt:"https://images.unsplash.com/photo-1506157786151-b8491531f063?w=400&h=400&fit=crop",locked:!1},{id:68,title:"Urban Jungle",artist:"City Beats",bpm:100,dateAdded:"2024-10-22",collection:"Hip-Hop",coverArt:"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400&h=400&fit=crop",locked:!1},{id:69,title:"Smooth Jazz",artist:"Modern Jazz Quartet",bpm:105,dateAdded:"2024-10-21",collection:"Jazz",coverArt:"https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=400&h=400&fit=crop",locked:!1},{id:70,title:"Paradise Lost",artist:"Tropical Beats",bpm:112,dateAdded:"2024-10-20",collection:"Chill",coverArt:"https://images.unsplash.com/photo-1514320291840-2e0a9bf2a9ae?w=400&h=400&fit=crop",locked:!1},{id:71,title:"Bass Revolution",artist:"Heavy Hitters",bpm:145,dateAdded:"2024-10-19",collection:"Dubstep",coverArt:"https://images.unsplash.com/photo-1598488035139-bdbb2231ce04?w=400&h=400&fit=crop",locked:!1},{id:72,title:"Time Warp",artist:"Vintage Future",bpm:125,dateAdded:"2024-10-18",collection:"Electro Swing",coverArt:"https://images.unsplash.com/photo-1459749411175-04bf5292ceea?w=400&h=400&fit=crop",locked:!1},{id:73,title:"Digital Frontier",artist:"Digital Dreams",bpm:133,dateAdded:"2024-10-17",collection:"Electro",coverArt:"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400&h=400&fit=crop",locked:!1},{id:74,title:"Cosmic Dance",artist:"Cosmic Sounds",bpm:88,dateAdded:"2024-10-16",collection:"Ambient",coverArt:"https://images.unsplash.com/photo-1487180144351-b8472da7d491?w=400&h=400&fit=crop",locked:!1},{id:75,title:"Night Rider",artist:"The Synthwave Collective",bpm:127,dateAdded:"2024-10-15",collection:"Synthwave",coverArt:"https://images.unsplash.com/photo-1470225620780-dba8ba36b745?w=400&h=400&fit=crop",locked:!1},{id:76,title:"House Party",artist:"Groove Masters",bpm:122,dateAdded:"2024-10-14",collection:"Deep House",coverArt:"https://images.unsplash.com/photo-1511379938547-c1f69419868d?w=400&h=400&fit=crop",locked:!1},{id:77,title:"Techno City",artist:"Underground Sound",bpm:141,dateAdded:"2024-10-13",collection:"Techno",coverArt:"https://images.unsplash.com/photo-1571330735066-03aaa9429d89?w=400&h=400&fit=crop",locked:!1},{id:78,title:"Euphoric Nights",artist:"Euphoria",bpm:136,dateAdded:"2024-10-12",collection:"Trance",coverArt:"https://images.unsplash.com/photo-1506157786151-b8491531f063?w=400&h=400&fit=crop",locked:!1},{id:79,title:"Tropical Storm",artist:"Tropical Beats",bpm:117,dateAdded:"2024-10-11",collection:"Chill",coverArt:"https://images.unsplash.com/photo-1514320291840-2e0a9bf2a9ae?w=400&h=400&fit=crop",locked:!1},{id:80,title:"Heavy Metal",artist:"Heavy Hitters",bpm:147,dateAdded:"2024-10-10",collection:"Dubstep",coverArt:"https://images.unsplash.com/photo-1598488035139-bdbb2231ce04?w=400&h=400&fit=crop",locked:!1},{id:81,title:"Jazz Fusion 2.0",artist:"Modern Jazz Quartet",bpm:108,dateAdded:"2024-10-09",collection:"Jazz",coverArt:"https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=400&h=400&fit=crop",locked:!1},{id:82,title:"Vintage Soul",artist:"Vintage Future",bpm:120,dateAdded:"2024-10-08",collection:"Electro Swing",coverArt:"https://images.unsplash.com/photo-1459749411175-04bf5292ceea?w=400&h=400&fit=crop",locked:!1},{id:83,title:"Digital Love",artist:"Digital Dreams",bpm:129,dateAdded:"2024-10-07",collection:"Electro",coverArt:"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400&h=400&fit=crop",locked:!1},{id:84,title:"Space Odyssey",artist:"Cosmic Sounds",bpm:92,dateAdded:"2024-10-06",collection:"Ambient",coverArt:"https://images.unsplash.com/photo-1487180144351-b8472da7d491?w=400&h=400&fit=crop",locked:!1},{id:85,title:"Retro Wave",artist:"The Synthwave Collective",bpm:125,dateAdded:"2024-10-05",collection:"Synthwave",coverArt:"https://images.unsplash.com/photo-1470225620780-dba8ba36b745?w=400&h=400&fit=crop",locked:!1},{id:86,title:"Deep Groove",artist:"Groove Masters",bpm:123,dateAdded:"2024-10-04",collection:"Deep House",coverArt:"https://images.unsplash.com/photo-1511379938547-c1f69419868d?w=400&h=400&fit=crop",locked:!1},{id:87,title:"Underground Pulse",artist:"Underground Sound",bpm:139,dateAdded:"2024-10-03",collection:"Techno",coverArt:"https://images.unsplash.com/photo-1571330735066-03aaa9429d89?w=400&h=400&fit=crop",locked:!1},{id:88,title:"Trance Energy",artist:"Euphoria",bpm:137,dateAdded:"2024-10-02",collection:"Trance",coverArt:"https://images.unsplash.com/photo-1506157786151-b8491531f063?w=400&h=400&fit=crop",locked:!1},{id:89,title:"Island Dreams",artist:"Tropical Beats",bpm:114,dateAdded:"2024-10-01",collection:"Chill",coverArt:"https://images.unsplash.com/photo-1514320291840-2e0a9bf2a9ae?w=400&h=400&fit=crop",locked:!1},{id:90,title:"Bass Drop Zone",artist:"Heavy Hitters",bpm:149,dateAdded:"2024-09-30",collection:"Dubstep",coverArt:"https://images.unsplash.com/photo-1598488035139-bdbb2231ce04?w=400&h=400&fit=crop",locked:!1},{id:91,title:"Smooth Operator 2.0",artist:"Modern Jazz Quartet",bpm:103,dateAdded:"2024-09-29",collection:"Jazz",coverArt:"https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=400&h=400&fit=crop",locked:!1},{id:92,title:"Swing Revival",artist:"Vintage Future",bpm:126,dateAdded:"2024-09-28",collection:"Electro Swing",coverArt:"https://images.unsplash.com/photo-1459749411175-04bf5292ceea?w=400&h=400&fit=crop",locked:!1},{id:93,title:"Electric Soul",artist:"Digital Dreams",bpm:131,dateAdded:"2024-09-27",collection:"Electro",coverArt:"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400&h=400&fit=crop",locked:!1},{id:94,title:"Nebula Dreams",artist:"Cosmic Sounds",bpm:86,dateAdded:"2024-09-26",collection:"Ambient",coverArt:"https://images.unsplash.com/photo-1487180144351-b8472da7d491?w=400&h=400&fit=crop",locked:!1},{id:95,title:"Neon Nights",artist:"The Synthwave Collective",bpm:128,dateAdded:"2024-09-25",collection:"Synthwave",coverArt:"https://images.unsplash.com/photo-1470225620780-dba8ba36b745?w=400&h=400&fit=crop",locked:!1},{id:96,title:"House Nation",artist:"Groove Masters",bpm:124,dateAdded:"2024-09-24",collection:"Deep House",coverArt:"https://images.unsplash.com/photo-1511379938547-c1f69419868d?w=400&h=400&fit=crop",locked:!1},{id:97,title:"Techno Warrior",artist:"Underground Sound",bpm:142,dateAdded:"2024-09-23",collection:"Techno",coverArt:"https://images.unsplash.com/photo-1571330735066-03aaa9429d89?w=400&h=400&fit=crop",locked:!1},{id:98,title:"Euphoric State 2.0",artist:"Euphoria",bpm:135,dateAdded:"2024-09-22",collection:"Trance",coverArt:"https://images.unsplash.com/photo-1506157786151-b8491531f063?w=400&h=400&fit=crop",locked:!1},{id:99,title:"Paradise Found",artist:"Tropical Beats",bpm:116,dateAdded:"2024-09-21",collection:"Chill",coverArt:"https://images.unsplash.com/photo-1514320291840-2e0a9bf2a9ae?w=400&h=400&fit=crop",locked:!1},{id:100,title:"Final Drop",artist:"Heavy Hitters",bpm:151,dateAdded:"2024-09-20",collection:"Dubstep",coverArt:"https://images.unsplash.com/photo-1598488035139-bdbb2231ce04?w=400&h=400&fit=crop",locked:!1}],Vp={"New Releases":"House","New This Week":"House",Trending:"House","Top Downloads":"House","Deep House":"House","Tech House":"House",Techno:"Techno",Chill:"Ambient","Hip-Hop":"Hip-Hop",Jazz:"Jazz",Ambient:"Ambient","Electro Swing":"House",Dubstep:"Dubstep",Trance:"Trance","Afro House":"House",Amapiano:"House"},su=["DJ Pool Pro","BPM Supreme","DJcity","Heavy Hits","Franchise Pool"],Rr=Hp.map((i,d)=>({...i,tonality:ru[d%ru.length],genre:Vp[i.collection]||"House",pool:su[d%su.length]})),nu=[{id:"new-this-week",title:"New This Week",tracks:Rr.slice(0,6)},{id:"trending",title:"Trending",tracks:[...Rr].sort(()=>Math.random()-.5).slice(0,6)},{id:"deep-house",title:"Deep House",tracks:Rr.filter(i=>i.bpm>=120&&i.bpm<=128)},{id:"high-energy",title:"High Energy (130+ BPM)",tracks:Rr.filter(i=>i.bpm>=130)},{id:"chill-vibes",title:"Chill Vibes",tracks:Rr.filter(i=>i.bpm<120)},{id:"recently-added",title:"Recently Added",tracks:[...Rr].sort((i,d)=>new Date(d.dateAdded)-new Date(i.dateAdded))}],Wp=[{id:1,title:"Midnight Chronicles",artist:"The Synthwave Collective",coverArt:"https://images.unsplash.com/photo-1470225620780-dba8ba36b745?w=400&h=400&fit=crop",trackCount:12,year:2024,releaseDate:"2024-12-15",isNew:!0},{id:2,title:"Digital Horizons",artist:"Digital Dreams",coverArt:"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400&h=400&fit=crop",trackCount:10,year:2024,releaseDate:"2024-12-10",isNew:!0},{id:3,title:"Deep Grooves Vol. 2",artist:"Groove Masters",coverArt:"https://images.unsplash.com/photo-1511379938547-c1f69419868d?w=400&h=400&fit=crop",trackCount:14,year:2024,releaseDate:"2024-11-20",isNew:!1},{id:4,title:"Underground Anthems",artist:"Underground Sound",coverArt:"https://images.unsplash.com/photo-1571330735066-03aaa9429d89?w=400&h=400&fit=crop",trackCount:16,year:2024,releaseDate:"2024-12-05",isNew:!0},{id:5,title:"Tropical Paradise",artist:"Tropical Beats",coverArt:"https://images.unsplash.com/photo-1514320291840-2e0a9bf2a9ae?w=400&h=400&fit=crop",trackCount:11,year:2024,releaseDate:"2024-12-01",isNew:!0},{id:6,title:"Bass Warfare",artist:"Heavy Hitters",coverArt:"https://images.unsplash.com/photo-1598488035139-bdbb2231ce04?w=400&h=400&fit=crop",trackCount:13,year:2024,releaseDate:"2024-10-15",isNew:!1},{id:7,title:"Jazz Nights",artist:"Modern Jazz Quartet",coverArt:"https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=400&h=400&fit=crop",trackCount:9,year:2024,releaseDate:"2024-11-28",isNew:!0},{id:8,title:"Cosmic Journey",artist:"Cosmic Sounds",coverArt:"https://images.unsplash.com/photo-1487180144351-b8472da7d491?w=400&h=400&fit=crop",trackCount:8,year:2024,releaseDate:"2024-09-10",isNew:!1},{id:9,title:"Vintage Vibes",artist:"Vintage Future",coverArt:"https://images.unsplash.com/photo-1459749411175-04bf5292ceea?w=400&h=400&fit=crop",trackCount:12,year:2024,releaseDate:"2024-11-15",isNew:!0},{id:10,title:"Euphoric Dreams",artist:"Euphoria",coverArt:"https://images.unsplash.com/photo-1506157786151-b8491531f063?w=400&h=400&fit=crop",trackCount:15,year:2024,releaseDate:"2024-12-20",isNew:!0},{id:11,title:"Neon Pulse",artist:"City Beats",coverArt:"https://images.unsplash.com/photo-1514320291840-2e0a9bf2a9ae?w=400&h=400&fit=crop&hue=180",trackCount:11,year:2024,releaseDate:"2024-11-05",isNew:!0},{id:12,title:"Techno Revolution",artist:"Underground Sound",coverArt:"https://images.unsplash.com/photo-1571330735066-03aaa9429d89?w=400&h=400&fit=crop&hue=270",trackCount:13,year:2023,releaseDate:"2023-08-20",isNew:!1},{id:13,title:"Ambient Spaces",artist:"Cosmic Sounds",coverArt:"https://images.unsplash.com/photo-1487180144351-b8472da7d491?w=400&h=400&fit=crop&hue=200",trackCount:10,year:2024,releaseDate:"2024-10-25",isNew:!0},{id:14,title:"House Nation Vol. 3",artist:"Groove Masters",coverArt:"https://images.unsplash.com/photo-1511379938547-c1f69419868d?w=400&h=400&fit=crop&hue=120",trackCount:14,year:2024,releaseDate:"2024-09-15",isNew:!1},{id:15,title:"Retro Wave Collection",artist:"The Synthwave Collective",coverArt:"https://images.unsplash.com/photo-1470225620780-dba8ba36b745?w=400&h=400&fit=crop&hue=300",trackCount:12,year:2023,releaseDate:"2023-06-10",isNew:!1},{id:16,title:"Dubstep Mayhem",artist:"Heavy Hitters",coverArt:"https://images.unsplash.com/photo-1598488035139-bdbb2231ce04?w=400&h=400&fit=crop&hue=0",trackCount:15,year:2024,releaseDate:"2024-11-10",isNew:!0},{id:17,title:"Smooth Jazz Sessions",artist:"Modern Jazz Quartet",coverArt:"https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=400&h=400&fit=crop&hue=40",trackCount:10,year:2024,releaseDate:"2024-10-05",isNew:!0},{id:18,title:"Electro Fusion",artist:"Digital Dreams",coverArt:"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400&h=400&fit=crop&hue=180",trackCount:11,year:2024,releaseDate:"2024-08-20",isNew:!1},{id:19,title:"Tropical Sunset",artist:"Tropical Beats",coverArt:"https://images.unsplash.com/photo-1514320291840-2e0a9bf2a9ae?w=400&h=400&fit=crop&hue=30",trackCount:9,year:2023,releaseDate:"2023-07-15",isNew:!1},{id:20,title:"Trance Odyssey",artist:"Euphoria",coverArt:"https://images.unsplash.com/photo-1506157786151-b8491531f063?w=400&h=400&fit=crop&hue=280",trackCount:13,year:2024,releaseDate:"2024-11-22",isNew:!0},{id:21,title:"Urban Beats",artist:"City Beats",coverArt:"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400&h=400&fit=crop&hue=90",trackCount:12,year:2024,releaseDate:"2024-10-18",isNew:!0},{id:22,title:"Deep Space",artist:"Cosmic Sounds",coverArt:"https://images.unsplash.com/photo-1487180144351-b8472da7d491?w=400&h=400&fit=crop&hue=240",trackCount:8,year:2023,releaseDate:"2023-05-12",isNew:!1},{id:23,title:"Vintage Swing",artist:"Vintage Future",coverArt:"https://images.unsplash.com/photo-1459749411175-04bf5292ceea?w=400&h=400&fit=crop&hue=60",trackCount:11,year:2024,releaseDate:"2024-09-28",isNew:!0},{id:24,title:"Bass Drop Zone",artist:"Heavy Hitters",coverArt:"https://images.unsplash.com/photo-1598488035139-bdbb2231ce04?w=400&h=400&fit=crop&hue=320",trackCount:14,year:2024,releaseDate:"2024-08-12",isNew:!1},{id:25,title:"Synthwave Dreams",artist:"The Synthwave Collective",coverArt:"https://images.unsplash.com/photo-1470225620780-dba8ba36b745?w=400&h=400&fit=crop&hue=330",trackCount:13,year:2024,releaseDate:"2024-12-18",isNew:!0}],Qp=[{id:1,title:"Late Night Vibes",curator:"TodoDJS",coverArt:"https://images.unsplash.com/photo-1514320291840-2e0a9bf2a9ae?w=400&h=400&fit=crop&sat=-20",trackCount:45,isTrending:!0},{id:2,title:"Workout Energy",curator:"TodoDJS",coverArt:"https://images.unsplash.com/photo-1571330735066-03aaa9429d89?w=400&h=400&fit=crop&sat=20",trackCount:38,isTrending:!0},{id:3,title:"Deep Focus",curator:"TodoDJS",coverArt:"https://images.unsplash.com/photo-1487180144351-b8472da7d491?w=400&h=400&fit=crop",trackCount:52,isTrending:!1},{id:4,title:"Summer Hits 2024",curator:"TodoDJS",coverArt:"https://images.unsplash.com/photo-1470225620780-dba8ba36b745?w=400&h=400&fit=crop&brightness=10",trackCount:60,isTrending:!0},{id:5,title:"Underground Classics",curator:"TodoDJS",coverArt:"https://images.unsplash.com/photo-1598488035139-bdbb2231ce04?w=400&h=400&fit=crop",trackCount:42,isTrending:!1},{id:6,title:"Chill Sundays",curator:"TodoDJS",coverArt:"https://images.unsplash.com/photo-1459749411175-04bf5292ceea?w=400&h=400&fit=crop",trackCount:35,isTrending:!1},{id:7,title:"Party Starters",curator:"TodoDJS",coverArt:"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400&h=400&fit=crop&hue=30",trackCount:48,isTrending:!0},{id:8,title:"Midnight Drive",curator:"TodoDJS",coverArt:"https://images.unsplash.com/photo-1511379938547-c1f69419868d?w=400&h=400&fit=crop&sat=-30",trackCount:40,isTrending:!1},{id:9,title:"Jazz Lounge",curator:"TodoDJS",coverArt:"https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=400&h=400&fit=crop",trackCount:33,isTrending:!1},{id:10,title:"Bass Drops",curator:"TodoDJS",coverArt:"https://images.unsplash.com/photo-1506157786151-b8491531f063?w=400&h=400&fit=crop&hue=270",trackCount:55,isTrending:!0}],au="http://localhost:5000/api";function Gp(){console.log("App component rendering...");const[i,d]=h.useState(!1),[c,g]=h.useState([]),[p,b]=h.useState(""),[j,S]=h.useState(!1),[v,C]=h.useState(null),[m,T]=h.useState(!0),[F,B]=h.useState(null),[D,u]=h.useState(!1),[k,z]=h.useState(!1),[$,N]=h.useState(0),[I,J]=h.useState("all"),[H,Y]=h.useState("all"),[ne,U]=h.useState("library"),[de,pe]=h.useState(null),[ye,L]=h.useState(null),[Q,X]=h.useState(null),[P,ee]=h.useState(null),[_,re]=h.useState([]),[K,w]=h.useState(!1),[R,V]=h.useState(!1),[te,ae]=h.useState(!1),[ie,ve]=h.useState(!1),[je,Ce]=h.useState("premium"),Oe=h.useRef(null),[wt,Nr]=h.useState([]),[Ut,he]=h.useState([]);h.useEffect(()=>{(async()=>{try{const Ae=await(await fetch(`${au}/tracks/browse?limit=100`)).json();if(Ae.success&&Ae.data.length>0){const Xe=Ae.data.map((we,We)=>{var Sr;return{id:we._id||We,title:we.title,artist:we.artist,bpm:we.bpm||0,genre:we.genre||"",tonality:((Sr=we.tonality)==null?void 0:Sr.camelot)||"",collection:we.collection||we.genre||"New Releases",coverArt:we.coverArt||"",dateAdded:we.dateAdded||we.createdAt,pool:we.pool||"",locked:we.isLocked||!1,requiredPlan:we.requiredPlan||"free",audioFile:we.audioFile}});Nr(Xe)}}catch(Ne){console.error("Error fetching live tracks:",Ne)}})()},[]),h.useEffect(()=>{(async()=>{try{const Ae=await(await fetch(`${au}/albums`)).json();if(Ae.success&&Ae.data.length>0){const Xe=Ae.data.map(we=>({_id:we._id,id:we._id,title:we.name||we.title,artist:we.artist||"Various Artists",coverArt:we.coverArt||"",trackCount:we.trackCount||0,year:we.year||new Date(we.createdAt).getFullYear(),releaseDate:we.releaseDate||we.createdAt,isNew:we.isNew??!0}));he(Xe)}}catch(Ne){console.error("Error fetching live albums:",Ne)}})()},[]);const Re=wt.length>0?wt:Rr,Ye=Ut.length>0?Ut:Wp;h.useMemo(()=>I==="all"?nu:nu.map(fe=>({...fe,tracks:fe.tracks.filter(Ne=>Ne.collection.toLowerCase().includes(I.toLowerCase())||Ne.title.toLowerCase().includes(I.toLowerCase()))})).filter(fe=>fe.tracks.length>0),[I]),h.useEffect(()=>{(async()=>{try{console.log("Checking authentication...");const Ne=await Zd.getCurrentUser();console.log("Current user:",Ne),C(Ne)}catch(Ne){console.error("Auth check failed:",Ne),C(null)}finally{T(!1),console.log("Auth loading complete")}})()},[]),h.useEffect(()=>{if(p.trim()){const fe=setTimeout(()=>{const Ne=Re.filter(Ae=>Ae.title.toLowerCase().includes(p.toLowerCase())||Ae.artist.toLowerCase().includes(p.toLowerCase())||(Ae.collection||"").toLowerCase().includes(p.toLowerCase()));g(Ne)},300);return()=>clearTimeout(fe)}else g(Re)},[p,Re]);const rt=fe=>{b(fe),fe.trim()&&d(!0)},Te=fe=>{fe&&d(!0)},Mt=()=>{d(!1),b("")},Je=(fe,Ne)=>{if(fe==="play"){u(!0),B(Ae=>((Ae==null?void 0:Ae.id)===(Ne==null?void 0:Ne.id)?z(we=>!we):(N(0),z(!0)),Ne));return}},tr=fe=>{C(fe),S(!1)},Ss=async()=>{await Zd.logout(),C(null),ae(!1),U("home")},Qr=()=>{S(!0)},xn=()=>{S(!1)};h.useEffect(()=>{if(ne!=="home"){V(!1);return}const fe=()=>{if(Oe.current){const Ne=Oe.current.getBoundingClientRect();V(Ne.bottom<64)}};return window.addEventListener("scroll",fe),fe(),()=>window.removeEventListener("scroll",fe)},[ne]);const pn=()=>{pe(null)},fn=fe=>{U(fe),console.log("Navigate to:",fe)},Cs=fe=>{L(fe)},Gr=fe=>{X(fe)},gn=async fe=>{if(fe._id){w(!0),ee(fe);try{const Ae=await(await fetch(`http://localhost:5000/api/albums/${fe._id}`)).json();if(Ae.success){const Xe=Ae.data.album;ee({...Xe,id:Xe._id,title:Xe.name,artist:Xe.genre||"Various Artists",trackCount:Xe.trackCount,year:Xe.year,coverArt:Xe.coverArt});const we=(Ae.data.tracks||[]).map((We,Sr)=>{var Jr,qr,Kr;return{id:We._id,title:We.title,artist:We.artist,genre:We.genre,bpm:We.bpm,tonality:((Jr=We.tonality)==null?void 0:Jr.camelot)||((qr=We.tonality)==null?void 0:qr.key)||"",pool:We.pool||"",collection:We.collection||"",dateAdded:We.dateAdded||We.createdAt,coverArt:We.coverArt,duration:((Kr=We.audioFile)==null?void 0:Kr.duration)||0}});re(we)}}catch(Ne){console.error("Error fetching album details:",Ne)}finally{w(!1)}}else ee(fe),re(Re.filter(Ne=>Ne.artist===fe.artist).slice(0,fe.trackCount))},kr=h.useMemo(()=>{const fe=["mashup","remix","transition","edit","bootleg","blend","flip"];let Ne=wt.filter(Ae=>{const Xe=(Ae.title||"").toLowerCase();return fe.some(we=>Xe.includes(we))});return I!=="all"&&(Ne=Ne.filter(Ae=>(Ae.collection||"").toLowerCase().includes(I.toLowerCase())||(Ae.genre||"").toLowerCase().includes(I.toLowerCase())||Ae.title.toLowerCase().includes(I.toLowerCase()))),H!=="all"&&(Ne=Ne.filter(Ae=>Ae.tonality===H)),Ne},[I,H,wt]);return m?t.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#0d0d0d",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx("div",{style:{color:"white",fontSize:"24px"},children:"Loading..."})}):t.jsxs("div",{className:"min-h-screen bg-dark-bg relative",children:[t.jsx(Bp,{}),t.jsx(mx,{onSearchFocus:Te,onSearchChange:rt,searchQuery:p,showTonalityButton:R,activeTonality:H,onTonalityChange:Y,onSubscribe:()=>{S(!0)}}),t.jsx(xx,{activePage:ne,onNavigate:fn,onAdminClick:()=>{v&&v.role==="admin"?ae(!0):v||S(!0)},user:v,onLoginClick:Qr,onLogout:Ss}),t.jsx("div",{className:"md:ml-20",children:t.jsx("main",{className:`pt-16 md:pt-20 ${D?"pb-36 md:pb-24":"pb-20 md:pb-10"} relative`,children:ne==="library"?t.jsx(Ex,{onTrackInteraction:Je}):ne==="album"?t.jsx(Dx,{onAlbumClick:gn,onTrackInteraction:Je}):ne==="mashup"?t.jsx($x,{tracks:Re,onTrackInteraction:Je}):ne==="home"?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"sticky top-14 md:top-16 z-20 bg-dark-bg/95 backdrop-blur-md border-b border-white/5",children:t.jsx(wx,{activeGenre:I,onGenreChange:J})}),t.jsx(Ip,{onTrackInteraction:Je}),t.jsx("div",{ref:Oe,children:t.jsx(yx,{activeTonality:H,onTonalityChange:Y})}),t.jsx("div",{className:"mb-8",children:t.jsx(Ra,{tracks:kr,onTrackInteraction:Je})}),t.jsx(jx,{albums:Ye,onAlbumClick:Cs}),t.jsx(kx,{playlists:Qp,onPlaylistClick:Gr})]}):null})}),t.jsx(gx,{isOpen:i,onClose:Mt,results:c,onTrackInteraction:Je,searchQuery:p,onSearchChange:rt}),t.jsx(Up,{track:D?F:null,isPlaying:k,progress:$,onPlayPause:()=>z(fe=>!fe),onProgressChange:fe=>N(fe),onClose:()=>{u(!1),z(!1)},user:v,onAuthRequired:Qr,onSubscribe:()=>{Ce("premium"),ve(!0)}}),de&&t.jsx(Ti,{profile:de,onClose:pn}),ye&&t.jsx(Ti,{profile:{name:ye.artist,type:"album",avatar:ye.coverArt,trackCount:ye.trackCount},onClose:()=>L(null)}),Q&&t.jsx(Ti,{profile:{name:Q.title,type:"playlist",avatar:Q.coverArt,trackCount:Q.trackCount},onClose:()=>X(null)}),P&&t.jsx(_x,{album:P,tracks:K?[]:_,onClose:()=>{ee(null),re([])},onTrackInteraction:Je,user:v,onAuthRequired:Qr,onSubscribe:()=>{Ce("premium"),ve(!0)}}),te&&t.jsx(Pp,{onClose:()=>ae(!1),user:v,onUserUpdate:C}),ie&&t.jsx(zp,{selectedPlan:je,onClose:()=>ve(!1)}),j&&t.jsx(vx,{onClose:xn,onSuccess:tr})]})}Em.createRoot(document.getElementById("root")).render(t.jsx(jm.StrictMode,{children:t.jsx(Gp,{})}));
